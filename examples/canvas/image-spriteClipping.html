<!DOCTYPE html>
<html style="height: 100%;">
    <head>
        <title></title>
    </head>
    <body style="height: 100%;">
        <label style="position: absolute; color: white;"> Canvas Example </label>
        <div id="myCanvas1" style="height: 100%; width: 100%; position: relative;"></div>

        <script type="text/javascript" src="../../dist/i2d.js"></script>

        <script type="text/javascript">
            var renderer_ = i2d.canvasLayer("#myCanvas1", {}, {});
            var nodes = [];
            var data = [];
            for (var i = 0; i < 1; i++) {
                data.push(i);
            }

            var localPixelData;
            var index = 0;

            var SpriteTexture = renderer_
                .createTexture({
                    attr: {
                        src: "../images/boySprite.png",
                        width: 108,
                        height: 140,
                        x: 0,
                        y: 0,
                        clip: {
                            sx: 0,
                            sy: 0,
                            swidth: 108,
                            sheight: 140,
                        },
                        filter: i2d.utility.blur(2),
                        // pixels: function (pixelData) {
                        //     var data = pixelData.data;
                        //     for (var i = 0; i < data.length; i += 4) {
                        //         data[i] = 255 - data[i]; // red
                        //         data[i + 1] = 255 - data[i + 1]; // green
                        //         data[i + 2] = 255 - data[i + 2]; // blue
                        //     }
                        //     pixelData.data = data;
                        //     return pixelData;
                        // },
                    },
                })
                .animateTo({
                    duration: 1000,
                    loop: 6,
                    attr: {
                        x: function (f) {
                            return (index = index + 4), index;
                        },
                        clip: function (f) {
                            if (f == 1) return { sx: 7 * 108, sy: 0, swidth: 108, sheight: 140 };
                            else
                                return {
                                    sx: parseInt(f * 10 * (8 / 10)) * 108,
                                    sy: 0,
                                    swidth: 108,
                                    sheight: 140,
                                };
                        },
                    },
                });

            var img = renderer_.createEl({
                el: "image",
                attr: {
                    src: SpriteTexture,
                    width: 108 * 2,
                    height: 140 * 2,
                    x: 400,
                    y: 300,
                    // clip: {
                    //     sx: 0,
                    //     sy: 0,
                    //     swidth: 108,
                    //     sheight: 140,
                    // },
                    // pixels: function (pixelData) {
                    //     localPixelData = pixelData.data;
                    //     return pixelData;
                    // },
                },
                // onload: function () {
                //     // this.animateTo({
                //     // 	duration: 5000,
                //     // 	ease: 'easeInOutSin',
                //     // 	attr: {
                //     // 		pixels: function (f) {
                //     // 			return function (pixelData) {
                //     // 				var data = pixelData.data;
                //     // 				var height = pixelData.height;
                //     // 				var width = pixelData.width;
                //     // 				// console.log(pixelData)
                //     // 				for (var i = 0; i < data.length; i += 4) {
                //     // 					if (i < parseInt(f * height) * width * 4) {
                //     // 						data[i] = localPixelData[i];
                //     // 						data[i + 1] = localPixelData[i + 1];
                //     // 						data[i + 2] = localPixelData[i + 2];
                //     // 					} else {
                //     // 						data[i] = 255;
                //     // 						data[i + 1] = 255;
                //     // 						data[i + 2] = 255;
                //     // 					}
                //     // 				}
                //     // 				pixelData.data = data;
                //     // 				return pixelData;
                //     // 			};
                //     // 		}
                //     // 	}
                //     // });
                // },
            });
        </script>
    </body>
</html>
