<!DOCTYPE html>
<html style="height: 100%;">
    <head>
        <title></title>
    </head>
    <body style="height: 100%;">
        <label style="position: absolute; color: white;"> Canvas Example </label>
        <div style="height: 100%; width: 100%; position: relative;" id="myCanvas1"></div>

        <!-- <script type="text/module" src="../../src/modules/canvas.js"></script> -->

        <script type="module">
            import canvasAPI from "../../src/modules/canvas.js";

            var renderer_ = canvasAPI.canvasLayer("#myCanvas1", {}, {});
            var nodes = [];
            var data = [];
            for (var i = 0; i < 1; i++) {
                data.push(i);
            }

            var index = 0;

            var img = renderer_
                .createEl({
                    el: "image",
                    attr: {
                        src: "../images/boySprite.png",
                        width: 100,
                        height: 100,
                        x: 300,
                        y: 0,
                        clip: {
                            sx: 0,
                            sy: 0,
                            swidth: 108,
                            sheight: 140,
                        },
                    },
                })
                .animateTo({
                    duration: 1000,
                    loop: 6,
                    attr: {
                        x: function (f) {
                            return (index = index + 4), index;
                        },
                        clip: function (f) {
                            if (f == 1) return { sx: 7 * 108, sy: 0, swidth: 108, sheight: 140 };
                            else
                                return {
                                    sx: parseInt(f * 10 * (8 / 10)) * 108,
                                    sy: 0,
                                    swidth: 108,
                                    sheight: 140,
                                };
                        },
                    },
                });
        </script>
    </body>
</html>
