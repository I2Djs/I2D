<!DOCTYPE html>
<html style="height: 100%">
<head>
	<title></title>
</head>
<body style="height: 100%">
<label style="position: absolute;color: white"> Webgl Example </label>
<div id="canvas" style="height: 100%;width:100%;background: black">
</div>
<!-- <script type="text/javascript" src="../../dist/i2d.js"></script> -->

<script type="text/javascript" src="../../dist/i2d.js"></script>
<script type="text/javascript">
var webglRenderer = i2d.WebglLayer('#canvas', {
	depth: false,
	antialias: false
}, false);

/************** Rects *****************/

var rectsData = [];
for (let i = 0; i < 100; i++) {
	rectsData.push({
		x: parseInt(Math.random() * 1400),
		y: parseInt(Math.random() * 1000)
	});
}

var rectsRef = webglRenderer.createEl({
					el: 'group',
					attr: {
						shaderType: 'rect'
					}
				});

rectsRef.createEls(rectsData, {
					el: 'rect',
					attr: {
						class: function (d, i) {
							return i+'_class';
						},
						x: function (d) {
							return d.x;
						},
						y: function (d) {
							return d.y;
						},
						width: 5,
						height: 5
					},
					style: {
						fill: function () {
							return 'hsl(' + (Math.random() % 100) + '%,100%,50%)';
							// i2d.color.rgba(Math.random() * 255, Math.random() * 255, Math.random() * 255, 255);
						}
					}
				});


var counter = 0;
setInterval(function (d) {
	rectsRef.fetchEl('.'+counter+'_class').remove();
	counter += 1;
}, 1000)



				// .animateTo({
				// 	duration: 5000,
				// 	loop: 10,
				// 	direction: 'alternate',
				// 	attr: {
				// 		x: function (d, i) {
				// 			return Math.random() * 1400;
				// 		},
				// 		y: function (d, i) {
				// 			return Math.random() * 1000
				// 		}
				// 	}
				// });;


// var rectsRef = webglRenderer.createEl({
// 					el: 'group',
// 					attr: {
// 						shadertype: 'circle'
// 					}
// 				}).createEls(rectsData, {
// 					el: 'circle',
// 					attr: {
// 						cx: function (d) {
// 							return d.x + 20;
// 						},
// 						cy: function (d) {
// 							return d.y + 20;
// 						},
// 						r: 10
// 					},
// 					style: { fill: color.rgba(0, 203, 255, 255) }
// 				});
/************** End Rects *****************/
</script>

</body>
</html>
