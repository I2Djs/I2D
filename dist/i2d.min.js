!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("i2d",[],e):"object"==typeof exports?exports.i2d=e():t.i2d=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=7)}([function(t,e,r){"use strict";(function(t){var n,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(o,a){"object"===i(t)&&t.exports?t.exports=a():void 0!==(n=function(){return a()}.call(e,r,e,t))&&(t.exports=n)}(0,function(){function t(t){function e(t,e){var r=1;if(0===e)return r;for(var n=1;n<=e;n+=1)r*=t;return r}function r(t,e){return Math.atan2(t,e)}function n(t){return Math.sqrt(t)}function i(t,e,r){var n={},i={};n.x=t.x+r.x-2*e.x,n.y=t.y+r.y-2*e.y,i.x=2*e.x-2*t.x,i.y=2*e.y-2*t.y;var o=4*(n.x*n.x+n.y*n.y),a=4*(n.x*i.x+n.y*i.y),s=i.x*i.x+i.y*i.y,h=2*Math.sqrt(o+a+s),c=Math.sqrt(o),l=2*o*c,u=2*Math.sqrt(s),f=a/c,d=(2*c+f+h)/(f+u);return d=isNaN(d)||Math.abs(d)===1/0?1:d,(l*h+c*a*(h-u)+(4*s*o-a*a)*Math.log(d))/(4*l)}function o(t,r){for(var i=0,o=f.bind(null,t,r),a=void 0,s=void 0,h=0;h<=1;h+=.001)a=o(h),s=o(h+.001),i+=.001*n(e((s.x-a.x)/.001,2)+e((s.y-a.y)/.001,2));return i}function a(t,r){var i=0;for(var o in t)i+=e(r[o]-t[o],2);if(isNaN(i))throw new Error("error");return n(i)}function s(t,e){return r(e.x-t.x,e.y-t.y)}function h(t,e){var r={};for(var n in t)r[n]=t[n]*e;return r}function c(t,e,r){var n=(t.y-e.y)/(t.x-e.x),i=t.x*r;return{x:i,y:(n*(i-e.x)+e.y)*r}}function l(t,e){var r=3*(t.cntrl1.x-t.p0.x),n=3*(t.cntrl2.x-t.cntrl1.x)-r,i=t.p1.x-t.p0.x-r-n,o=3*(t.cntrl1.y-t.p0.y),a=3*(t.cntrl2.y-t.cntrl1.y)-o;return{cx:r,bx:n,ax:i,cy:o,by:a,ay:t.p1.y-t.p0.y-o-a}}function u(t){if(t.length){for(var e=t,r=[],n=0;n<e.length;n+=1)if(-1!==["M","C","S","Q"].indexOf(e[n].type))r.push(e[n]);else if(-1!==["V","H","L","Z"].indexOf(e[n].type)){var i={x:(e[n].p0.x+e[n].p1.x)/2,y:(e[n].p0.y+e[n].p1.y)/2};r.push({p0:e[n].p0,cntrl1:i,cntrl2:i,p1:e[n].p1,type:"C",length:e[n].length})}else console.log("wrong cmd type");return r}}function f(t,r,n){var i=e(n,3),o=e(n,2);return{x:r.ax*i+r.bx*o+r.cx*n+t.x,y:r.ay*i+r.by*o+r.cy*n+t.y}}function d(t,e,r,n){return{x:(t.x-2*e.x+r.x)*n*n+(2*e.x-2*t.x)*n+t.x,y:(t.y-2*e.y+r.y)*n*n+(2*e.y-2*t.y)*n+t.y}}function p(t,e,r){return{x:t.x+(e.x-t.x)*r,y:t.y+(e.y-t.y)*r}}function y(t,e,r){return t+(e-t)*r}function g(t){for(var e=1/0,r=1/0,n=-1/0,i=-1/0,o=[],a=void 0,s=0;s<t.length;s+=1){if(a=t[s],-1!==["V","H","L"].indexOf(a.type))o[o.length]=p.bind(null,a.p0?a.p0:t[s-1].p1,a.p1);else if(-1!==["Q","C"].indexOf(a.type)){var h=l(a);o[o.length]=f.bind(null,a.p0,h)}else o[o.length]=a.p0;var c=0,u=void 0;if("function"==typeof o[o.length-1])for(;c<1;)u=o[o.length-1](c),c+=.05,u.x<e&&(e=u.x),u.x>n&&(n=u.x),u.y<r&&(r=u.y),u.y>i&&(i=u.y);else u=o[o.length-1],u.x<e&&(e=u.x),u.x>n&&(n=u.x),u.y<r&&(r=u.y),u.y>i&&(i=u.y)}return{x:e,y:r,width:n-e,height:i-r}}function x(t,e,r,n){var i={},o=this.getAngle(e,t);return i.x=e.x+Math.cos(o-r*Math.PI/180)*n,i.y=e.y+Math.sin(o-r*Math.PI/180)*n,i}function m(){}var v=function(){function t(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),b=2*Math.PI,w=function(t,e,r,n,i,o,a){var s=t.x,h=t.y;return s*=e,h*=r,{x:n*s-i*h+o,y:i*s+n*h+a}},B=function(t,e){var r=4/3*Math.tan(e/4),n=Math.cos(t),i=Math.sin(t),o=Math.cos(t+e),a=Math.sin(t+e);return[{x:n-i*r,y:i+n*r},{x:o+a*r,y:a-o*r},{x:o,y:a}]},k=function(t,e,r,n){var i=t*n-e*r<0?-1:1,o=Math.sqrt(t*t+e*e),a=Math.sqrt(t*t+e*e),s=t*r+e*n,h=s/(o*a);return h>1&&(h=1),h<-1&&(h=-1),i*Math.acos(h)},A=function(t,r,n,i,o,a,s,h,c,l,u,f){var d=e(o,2),p=e(a,2),y=e(u,2),g=e(f,2),x=d*p-d*g-p*y;x<0&&(x=0),x/=d*g+p*y,x=Math.sqrt(x)*(s===h?-1:1);var m=x*o/a*f,v=x*-a/o*u,w=l*m-c*v+(t+n)/2,B=c*m+l*v+(r+i)/2,A=(u-m)/o,S=(f-v)/a,C=(-u-m)/o,j=(-f-v)/a,O=k(1,0,A,S),D=k(A,S,C,j);return 0===h&&D>0&&(D-=b),1===h&&D<0&&(D+=b),[w,B,O,D]},S=function(t){var r=t.px,n=t.py,i=t.cx,o=t.cy,a=t.rx,s=t.ry,h=t.xAxisRotation,c=void 0===h?0:h,l=t.largeArcFlag,u=void 0===l?0:l,f=t.sweepFlag,d=void 0===f?0:f,p=[];if(0===a||0===s)return[];var y=Math.sin(c*b/360),g=Math.cos(c*b/360),x=g*(r-i)/2+y*(n-o)/2,m=-y*(r-i)/2+g*(n-o)/2;if(0===x&&0===m)return[];a=Math.abs(a),s=Math.abs(s);var k=e(x,2)/e(a,2)+e(m,2)/e(s,2);k>1&&(a*=Math.sqrt(k),s*=Math.sqrt(k));var S=A(r,n,i,o,a,s,u,d,y,g,x,m),C=v(S,4),j=C[0],O=C[1],D=C[2],P=C[3],E=Math.max(Math.ceil(Math.abs(P)/(b/4)),1);P/=E;for(var M=0;M<E;M++)p.push(B(D,P)),D+=P;return p.map(function(t){var e=w(t[0],a,s,g,y,j,O),r=e.x,n=e.y,i=w(t[1],a,s,g,y,j,O),o=i.x,h=i.y,c=w(t[2],a,s,g,y,j,O);return{x1:r,y1:n,x2:o,y2:h,x:c.x,y:c.y}})};return m.prototype={pow:e,getAngle:s,getDistance:a,scaleAlongOrigin:h,scaleAlongPoint:c,linearTransitionBetweenPoints:p,bezierTransition:d,bezierLength:i,cubicBezierTransition:f,cubicBezierLength:o,cubicBezierCoefficients:l,arcToBezier:S,intermediateValue:y,getBBox:g,toCubicCurves:u,rotatePoint:x},function(){return new m}()}return t})}).call(e,r(1)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";var n,i;"function"==typeof Symbol&&Symbol.iterator;!function(r,o){n=[],void 0!==(i=function(){return o()}.apply(e,n))&&(t.exports=i)}(0,function(){function t(t,e,r){this.executable=t,this.ID=e,this.duration=t.duration?t.duration:0,this.currTime=Date.now(),this.lastTime=0-(t.delay?t.delay:0),this.loopTracker=0,this.loop=t.loop?t.loop:0,this.direction=t.direction,this.easying=r,this.end=t.end?t.end:null,"reverse"===this.direction?this.factor=1:this.factor=0}function e(t){return this.endExe=t,this}function r(t){if("function"!=typeof t)throw new Error("Wrong input");d.push(t),d.length>0&&!f&&this.startAnimeFrames()}function n(e,r,n){l[l.length]=new t(r,e,n)}function i(){f||(f=window.requestAnimationFrame(s))}function o(){f&&(window.cancelAnimFrame(f),f=null)}function a(){this.vDoms=[]}function s(){f=window.requestAnimationFrame(s);for(var t=0;t<l.length;t+=1)p=l[t],y=Date.now(),p.lastTime+=y-p.currTime,p.currTime=y,p.lastTime<p.duration&&p.lastTime>=0?p.execute(Math.abs(p.factor-p.easying(p.lastTime,p.duration))):p.lastTime>p.duration&&(p.execute(1-p.factor),p.loopTracker>=p.loop-1?p.removed=!0:(p.loopTracker+=1,p.lastTime=0,"alternate"===p.direction?p.factor=1-p.factor:"reverse"===p.direction?p.factor=1:p.factor=0));if(d.length>0)for(var e=0;e<d.length;e+=1)d[e](y);for(var r=[],n=0;n<l.length;n+=1)l[n].removed?"function"==typeof l[n].end&&(l[n].end(),l[n]=void 0):r[r.length]=l[n];l=r;for(var i=0;i<u.length;i+=1)u[i].stateModified&&(u[i].execute(),u[i].stateModified=!1)}function h(){return c||(c=new a),c}var c=null,l=[],u=[],f=void 0,d=[];window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){return window.setTimeout(t,1e3/60)}}(),window.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t)}}(),t.prototype.execute=function(t){this.executable.run(t)},t.prototype.resetCallBack=function(t){"function"==typeof t&&(this.callBack=t)},a.prototype={startAnimeFrames:i,stopAnimeFrame:o,add:n,end:e,onRequestFrame:r,destroy:function(){this.endExe&&this.endExe(),this.stopAnimeFrame()}},a.prototype.addVdom=function(t){return u.push(t),u.length-1},a.prototype.vDomChanged=function(t){u[t].stateModified=!0},a.prototype.execute=function(){f||(f=window.requestAnimationFrame(s))};var p=void 0,y=void 0;return h})},function(t,e,r){"use strict";(function(t){var n,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(a,s){"object"===o(t)&&t.exports?t.exports=s(r(0)):(n=[r(0)],void 0!==(i=function(t){return s(t)}.apply(e,n))&&(t.exports=i))}(0,function(t){function e(t,e){return t/e}function r(t,e){var r=t/e;return 1-(1-r)*Math.sin(r*e*.002*Math.PI*2+Math.PI/2)/Math.exp(8*r)}function n(t,e){var r=t/e,n=r/100;return 1-(1-r)*Math.abs(Math.sin(r*e*n*Math.PI*2+Math.PI/2))/Math.exp(10*r)}function i(t,e){var r=t/e;return r*r}function o(t,e){var r=t/e;return r*(2-r)}function a(t,e){var r=t/e;return r<.5?2*r*r:(4-2*r)*r-1}function s(t,e){var r=t/e;return y.pow(r,3)}function h(t,e){var r=t/e;return(r-=1)*r*r+1}function c(t,e){var r=t/e;return r<.5?4*y.pow(r,3):(r-1)*(2*r-2)*(2*r-2)+1}function l(t,e){var r=t/e;return 1-Math.cos(r*Math.PI/2)}function u(t,e){var r=t/e;return Math.cos(r*Math.PI/2)}function f(t,e){var r=t/e;return(1-Math.cos(Math.PI*r))/2}function d(t){return function(e,r){return t(e/r)}}function p(){function t(t){var p=void 0;switch(t){case"easeOutQuad":p=o;break;case"easeInQuad":p=i;break;case"easeInOutQuad":p=a;break;case"easeInCubic":p=s;break;case"easeOutCubic":p=h;break;case"easeInOutCubic":p=c;break;case"easeInSin":p=l;break;case"easeOutSin":p=u;break;case"easeInOutSin":p=f;break;case"bounce":p=n;break;case"linear":p=e;break;case"elastic":p=r;break;default:p=e}return"function"==typeof t?d(t):p}return t}var y=t("2D");return p})}).call(e,r(1)(t))},function(t,e,r){"use strict";(function(t){var n,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(a,s){"object"===o(t)&&t.exports?t.exports=s(r(3),r(2)):(n=[r(3),r(2)],void 0!==(i=function(t,e){return s(t,e)}.apply(e,n))&&(t.exports=i))}(0,function(t,e){function r(){return g+=1}function n(){return x+=1}function i(t){return this.easying=m(t),this.transition=t,this}function o(t){if(1!==arguments.length)throw new Error("arguments mis match");return this.durationP=t,this}function a(t){if(1!==arguments.length)throw new Error("arguments mis match");return this.loopValue=t,this}function s(t){if(1!==arguments.length)throw new Error("arguments mis match");return this.directionV=t,this}function h(t){if(1!==arguments.length)throw new Error("arguments mis match");return this.data=t,"CANVAS"===this.data.nodeName&&(this.canvasStack=[]),this}function c(t){return"function"!=typeof t?null:(this.callbckExe=t,this)}function l(t){return this.resetV=t,this}function u(t){return this.end=t,this}function f(t){return this.endExe=t,this}function d(){this.start()}function p(){this.queue=e(),this.sequenceQueue=[],this.lengthV=0,this.currPos=0,this.ID=r(),this.loopCounter=1}function y(){this.queue=e(),this.group=[],this.currPos=0,this.ID=r(),this.loopCounter=1}var g=0,x=0,m=t();p.prototype={duration:o,loop:a,callbck:c,bind:h,child:u,ease:i,end:f,commit:d,reset:l,direction:s},p.prototype.add=function(t){var e=this;return Array.isArray(t)||(t=[t]),t.map(function(t){return e.lengthV+=t.length?t.length:0,t}),this.sequenceQueue=this.sequenceQueue.concat(t),this},p.prototype.easyingGlobal=function(t,e){return t/e},p.prototype.start=function(){var t=this;if("alternate"===t.directionV)t.factor=t.factor?-1*t.factor:1,t.currPos=t.factor<0?this.sequenceQueue.length-1:0;else if("reverse"===t.directionV){for(var e=0;e<this.sequenceQueue.length;e+=1){var r=this.sequenceQueue[e];r instanceof p||r instanceof y||r.run(1),t.currPos=e}t.factor=-1}else t.currPos=0,t.factor=1;this.execute()},p.prototype.execute=function(){var t=this,e=this.sequenceQueue[t.currPos];if(e)return e instanceof p||e instanceof y?e.end(t.triggerEnd.bind(t,e)).commit():(this.currObj=e,this.queue.add(n(),{run:function(t){e.run(t)},duration:e.duration?e.duration:t.duration,direction:t.factor<0?"reverse":"default",end:t.triggerEnd.bind(t,e)},function(t,e){return t/e})),this},p.prototype.triggerEnd=function(t){var e=this;if(e.currPos+=e.factor,t.end&&e.triggerChild(t),e.sequenceQueue.length===e.currPos||e.currPos<0)return e.endExe&&e.endExe(),e.end&&e.triggerChild(e),e.loopCounter+=1,void(e.loopCounter<e.loopValue&&e.start());this.execute()},p.prototype.triggerChild=function(t){t.end instanceof y||t.end instanceof p?setTimeout(function(){t.end.commit()},0):t.end()},y.prototype={duration:o,loop:a,callbck:c,bind:h,child:u,ease:i,end:f,commit:d,direction:s},y.prototype.add=function(t){var e=this;return Array.isArray(t)||(t=[t]),this.group=this.group.concat(t),this.group.forEach(function(t){t.durationP=t.durationP?t.durationP:e.durationP}),this},y.prototype.execute=function(){var t=this;return t.currPos=0,t.group.forEach(function(e,r){var i=e;i instanceof p||i instanceof y?i.end(t.triggerEnd.bind(t,i)).commit():t.queue.add(n(),{run:function(t){e.run(t)},duration:i.duration?i.duration:t.durationP,loop:1,direction:t.factor<0?"reverse":"default",end:t.triggerEnd.bind(t,i)},t.easying)}),t},y.prototype.start=function(){var t=this;"alternate"===t.directionV?t.factor=t.factor?-1*t.factor:1:"reverse"===t.directionV?t.factor=-1:t.factor=1,this.execute()},y.prototype.triggerEnd=function(t){var e=this;this.currPos+=1,t.end&&this.triggerChild(t.end),this.currPos===this.group.length&&(this.endExe&&this.triggerChild(this.endExe),this.end&&this.triggerChild(this.end),e.loopCounter+=1,e.loopCounter<e.loopValue&&e.start())},y.prototype.triggerChild=function(t){t instanceof y||t instanceof p?t.commit():"function"==typeof t?t():console.log("wrong type")};var v={};return v.sequenceChain=function(){return new p},v.parallelChain=function(){return new y},v})}).call(e,r(1)(t))},function(t,e,r){"use strict";(function(t){var n,i,o=function(){function t(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(o,s){"object"===a(t)&&t.exports?t.exports=s(r(0)):(n=[r(0)],void 0!==(i=function(t){return s(t)}.apply(e,n))&&(t.exports=i))}(0,function(t){function e(){}function r(t,e){var r=0,i=0,a=1,s=1,h=e;if(t.attr.transform&&t.attr.transform.translate){var c=o(t.attr.transform.translate,2);r=c[0],i=c[1],h.x-=r,h.y-=i}if(t.attr.transform&&t.attr.transform.scale&&(a=void 0!==t.attr.transform.scale[0]?t.attr.transform.scale[0]:1,s=void 0!==t.attr.transform.scale[1]?t.attr.transform.scale[1]:a,h.x/=a,h.y/=s),t.attr.transform&&t.attr.transform.rotate){var l=t.attr.transform.rotate[0],u=t.dom.BBox,f={x:(u.x+u.width/2-r)/a,y:(u.y+u.height/2-i)/s},d=n.getDistance(e,f),p=Math.atan2(e.y-f.y,e.x-f.x);h.x=f.x+Math.cos(p-l*Math.PI/180)*d,h.y=f.y+Math.sin(p-l*Math.PI/180)*d}}var n=t("2D");return e.prototype.execute=function(){this.root.execute(),this.stateModified=!1},e.prototype.root=function(t){this.root=t,this.stateModified=!0},e.prototype.eventsCheck=function(t,e){for(var n=this,i=void 0,o=void 0,a=0;a<=t.length-1;a+=1){var s=t[a],h={x:e.x,y:e.y};r(s,h),s.in({x:h.x,y:h.y})&&(s.children&&s.children.length>0?(o=n.eventsCheck(s.children,{x:h.x,y:h.y}))&&(i=o):i=s)}return i},function(){return new e}})}).call(e,r(1)(t))},function(t,e,r){"use strict";var n,i;"function"==typeof Symbol&&Symbol.iterator;!function(r,o){n=[],void 0!==(i=function(){return o()}.apply(e,n))&&(t.exports=i)}(0,function(){function t(t){for(var e=t.replace(/[^0-9\.,]+/g,"").split(","),r={},n=["r","g","b","a"],i=0;i<e.length;i+=1)r[n[i]]=e[i];return r}function e(t){for(var e=rgb.replace(/[^0-9\.,]+/g,"").split(","),r={},n=["h","s","l","a"],i=0;i<e.length;i+=1)r[n[i]]=e[i];return r}for(var r=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],n=["f0f8ff","faebd7","00ffff","7fffd4","f0ffff","f5f5dc","ffe4c4","000000","ffebcd","0000ff","8a2be2","a52a2a","deb887","5f9ea0","7fff00","d2691e","ff7f50","6495ed","fff8dc","dc143c","00ffff","00008b","008b8b","b8860b","a9a9a9","a9a9a9","006400","bdb76b","8b008b","556b2f","ff8c00","9932cc","8b0000","e9967a","8fbc8f","483d8b","2f4f4f","2f4f4f","00ced1","9400d3","ff1493","00bfff","696969","696969","1e90ff","b22222","fffaf0","228b22","ff00ff","dcdcdc","f8f8ff","ffd700","daa520","808080","808080","008000","adff2f","f0fff0","ff69b4","cd5c5c","4b0082","fffff0","f0e68c","e6e6fa","fff0f5","7cfc00","fffacd","add8e6","f08080","e0ffff","fafad2","d3d3d3","d3d3d3","90ee90","ffb6c1","ffa07a","20b2aa","87cefa","778899","778899","b0c4de","ffffe0","00ff00","32cd32","faf0e6","ff00ff","800000","66cdaa","0000cd","ba55d3","9370db","3cb371","7b68ee","00fa9a","48d1cc","c71585","191970","f5fffa","ffe4e1","ffe4b5","ffdead","000080","fdf5e6","808000","6b8e23","ffa500","ff4500","da70d6","eee8aa","98fb98","afeeee","db7093","ffefd5","ffdab9","cd853f","ffc0cb","dda0dd","b0e0e6","800080","663399","ff0000","bc8f8f","4169e1","8b4513","fa8072","f4a460","2e8b57","fff5ee","a0522d","c0c0c0","87ceeb","6a5acd","708090","708090","fffafa","00ff7f","4682b4","d2b48c","008080","d8bfd8","ff6347","40e0d0","ee82ee","f5deb3","ffffff","f5f5f5","ffff00","9acd32"],i={},o=0;o<r.length;o+=1)i[r[o]]=n[o];var a={};return a.nameToHex=function(t){return i[t]?"#"+i[t]:"#000"},a.hexToRgb=function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,r,n){return e+e+r+r+n+n});var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}:null},a.rgbToHex=function(t){var e=t.substring(t.lastIndexOf("(")+1,t.lastIndexOf(")")).split(",");return"#"+((1<<24)+(parseInt(e[0],10)<<16)+(parseInt(e[1],10)<<8)+parseInt(e[2],10)).toString(16).slice(1)},a.hslToRgb=function(t){var e=void 0,r=void 0,n=void 0,i=void 0,o=function(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t},a=NaN;return e=o(NaN,a,NaN),r=o(NaN,a,i),n=o(NaN,a,NaN),{r:Math.round(255*e),g:Math.round(255*r),b:Math.round(255*n)}},a.transition=function(r,n){return r=r||"rgb(0,0,0)",n=n||"rgb(0,0,0)",r=r.startsWith("#")?this.hexToRgb(r):r.startsWith("rgb")?t(r):r.startsWith("hsl")?e(r):{r:0,g:0,b:0},n=n.startsWith("#")?this.hexToRgb(n):n.startsWith("rgb")?t(n):n.startsWith("hsl")?e(n):{r:0,g:0,b:0},function(t){return"rgb("+Math.round(r.r+(n.r-r.r)*t)+","+Math.round(r.g+(n.g-r.g)*t)+","+Math.round(r.b+(n.b-r.b)*t)+")"}},a})},function(t,e,r){"use strict";(function(t){var n,i,o=function(){function t(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(o,s){"object"===a(t)&&t.exports?t.exports=s(r(0),r(2),r(3),r(4),r(5),r(6)):(n=[r(0),r(2),r(3),r(4),r(5),r(6)],void 0!==(i=function(t,e,r,n,i,o){return s(t,e,r,n,i,o)}.apply(e,n))&&(t.exports=i))}(0,function(t,e,r,n,i,s){function h(){return pt+=1}function c(){return yt+=1}function l(t,e){for(var r=void 0,n=[],i=0;i<this.stack.length;i+=1)r=this.stack[i],n.push(r.fetchEls(t,e));var o=new ht;return o.wrapper(n),o}function u(t,e){var r=[],n=new ht;if(this.children.length>0)if("."===t.charAt(0)){var i=t.substring(1,t.length);this.children.forEach(function(t){(e&&t.dataObj&&-1!==e.indexOf(t.dataObj)&&t.attr.class===i||!e&&t.attr.class===i)&&r.push(t)})}else if("#"===t.charAt(0)){var o=t.substring(1,t.length);this.children.every(function(t){return!(e&&t.dataObj&&-1!==e.indexOf(t.dataObj)&&t.attr.id===o||!e&&t.attr.id===o)||(r.push(t),!1)})}else this.children.forEach(function(n){(e&&n.dataObj&&-1!==e.indexOf(n.dataObj)&&n.nodeName===t||!e&&n.nodeName===t)&&r.push(n)});return n.wrapper(r)}function f(t,e){var r=void 0;if(this.children.length>0)if("."===t.charAt(0)){var n=t.substring(1,t.length);this.children.every(function(t){return!(e&&t.dataObj&&e===t.dataObj&&t.attr.class===n||!e&&t.attr.class===n)||(r=t,!1)})}else if("#"===t.charAt(0)){var i=t.substring(1,t.length);this.children.every(function(t){return!(e&&t.dataObj&&e===t.dataObj&&t.attr.id===i||!e&&t.attr.id===i)||(r=t,!1)})}else this.children.forEach(function(n){(e&&n.dataObj&&e===n.dataObj&&n.nodeName===t||!e&&n.nodeName===t)&&(r=n)});return r}function d(t,e,r){for(var n=void 0,i=[],o=0;o<this.stack.length;o+=1)n=this.stack[o],i.push(n.join(t,e,r));var a=new ht;return a.wrapper(i),a}function p(t){for(var e=void 0,r=[],n=0;n<this.stack.length;n+=1){var i={};if(e=this.stack[n],"function"==typeof t)i=t.call(e,e.dataObj,n);else for(var o=Object.keys(t),s=0;s<o.length;s+=1){var h=o[s];"object"!==a(t[h])?i[h]=t[h]:i[h]=JSON.parse(JSON.stringify(t[h]))}r.push(e.createEl(i))}var c=new ht;return c.wrapper(r),c}function y(t,e){for(var r=void 0,n=[],i=t,o=0;o<this.stack.length;o+=1){var a={};if(r=this.stack[o],"function"==typeof t&&(i=t.call(r,r.dataObj,o)),"function"==typeof e)a=e.call(r,r.dataObj,o);else for(var s=Object.keys(e),h=0;h<s.length;h+=1){var c=s[h];a[c]=e[c]}n.push(r.createEls(i,a))}var l=new ht;return l.wrapper(n),l}function g(t){for(var e=0;e<this.stack.length;e+=1)t.call(this.stack[e],this.stack[e].dataObj,e);return this}function x(t,e){for(var r=void 0,n=0;n<this.stack.length;n+=1)if(r=this.stack[n],arguments.length>1)"function"==typeof e?r.setAttr(t,e.call(r,r.dataObj,n)):r.setAttr(t,e);else if("function"==typeof t)r.setAttr(t.call(r,r.dataObj,n));else for(var i=Object.keys(t),o=0;o<i.length;o+=1){var a=i[o];"function"==typeof t[a]?r.setAttr(a,t[a].call(r,r.dataObj,n)):r.setAttr(a,t[a])}return this}function m(t,e){for(var r=void 0,n=0;n<this.stack.length;n+=1)if(r=this.stack[n],arguments.length>1)"function"==typeof e?r.setStyle(t,e.call(r,r.dataObj,n)):r.setStyle(t,e);else{if("function"==typeof t)r.setStyle(t.call(r,r.dataObj,n));else for(var i=Object.keys(t),o=0;o<i.length;o+=1){var a=i[o];"function"==typeof t[a]?r.setStyle(a,t[a].call(r,r.dataObj,n)):r.setStyle(a,t[a])}"function"==typeof t?r.setStyle(t.call(r,r.dataObj,n)):r.setStyle(t)}return this}function v(t){for(var e=void 0,r=0;r<this.stack.length;r+=1)e=this.stack[r],"function"==typeof t?e.translate(t.call(e,e.dataObj,r)):e.translate(t);return this}function b(t){for(var e=void 0,r=0;r<this.stack.length;r+=1)e=this.stack[r],"function"==typeof t?e.rotate(t.call(e,e.dataObj,r)):e.rotate(t);return this}function w(t){for(var e=void 0,r=0;r<this.stack.length;r+=1)e=this.stack[r],"function"==typeof t?e.scale(t.call(e,e.dataObj,r)):e.scale(t);return this}function B(t,e){for(var r=0;r<this.stack.length;r+=1)this.stack[r].on(t,e);return this}function k(){for(var t=0;t<this.stack.length;t+=1)this.stack[t].remove();return this}function A(t,e){this[t]=e}function S(t,e){var r={x:t.x,y:t.y},n={x:t.x+t.width,y:t.y},i={x:t.x,y:t.y+t.height},o={x:t.x+t.width,y:t.y+t.height},a={x:t.x+t.width/2,y:t.y+t.height/2},s=ut.getDistance(r,a);ut.rotatePoint(r,a,e,s),ut.rotatePoint(n,a,e,s),ut.rotatePoint(i,a,e,s),ut.rotatePoint(o,a,e,s);var h=[r.x,n.x,i.x,o.x].sort(function(t,e){return t-e}),c=[r.y,n.y,i.y,o.y].sort(function(t,e){return t-e});return{x:h[0],y:c[0],width:h[3]-h[0],height:c[3]-c[0]}}function C(t,e,r){for(var n=t.map(r),i={new:[],update:[],old:[]},o=0;o<e.length;o+=1){var a=n.indexOf(r(e[o].dataObj,o));-1!==a?(i.update.push(e[o]),n.splice(a,1)):i.old.push(e[o])}return i.new=t.filter(function(t,e){var i=n.indexOf(r(t,e));return-1!==i&&(n.splice(i,1),!0)}),i}function j(t,e,r){var n=this,i=this.fetchEls(e),o=r.joinCond;o||(o=function(t,e){return e});var a=C(t,i.stack,o);if(r.action){if(r.action.enter&&r.action.enter.call(n,a.new),r.action.exit){var s=new ht;s.wrapper(a.old),r.action.exit.call(n,s,a.old.map(function(t){return t.dataObj}))}if(r.action.update){var h=new ht;h.wrapper(a.update),r.action.update.call(n,h,a.update.map(function(t){return t.dataObj}))}}return this.joinCond=o,this.action=r.action,this.selector=e,this.data=t,Object.create(n,gt)}function O(){return pt+=1}function D(t){var e=t.replace(/e-/g,"$");e=e.replace(/ /g,","),e=e.replace(/-/g,",-"),e=e.split(/([a-zA-Z,])/g).filter(function(t){return""!==t&&","!==t}).map(function(t){return t.replace(/\$/g,"e-")});for(var r=0;r<e.length;r+=1)if(e[r].split(".").length>2){for(var n=e[r].split("."),i=[n[0]+"."+n[1]],o=2;o<n.length;o+=1)i.push("."+n[o]);e.splice(r,1,i[0],i[1])}return e}function P(t,e){return{x:t.x+e.x,y:t.y+e.y}}function E(t,e){return{x:t.x-e.x,y:t.y-e.y}}function M(){return{x:parseFloat(this.pathArr[this.currPathArr+=1]),y:parseFloat(this.pathArr[this.currPathArr+=1])}}function I(t,e,r){return t===t.toUpperCase()?r:e}function L(t){var e=I(t,0===this.currPathArr?{x:0,y:0}:this.pp,{x:0,y:0});this.cp=P(this.fetchXY(),e),this.start=this.cp,this.segmentLength=0,this.length=this.segmentLength,0!==this.currPathArr&&this.pp&&(this.stackGroup.push(this.stack),this.stack=[]),this.stack.push({type:"M",p0:this.cp,length:this.segmentLength,pointAt:function(t){return this.p0}})}function T(t){var e=I(t,this.pp,{x:this.pp.x,y:0});this.cp=P({x:0,y:parseFloat(this.pathArr[this.currPathArr+=1])},e),this.segmentLength=ut.getDistance(this.pp,this.cp),this.stack.push({type:"V",p0:this.pp,p1:this.cp,length:this.segmentLength,pointAt:function(t){return ut.linearTransitionBetweenPoints(this.p0,this.p1,t)}}),this.length+=this.segmentLength}function G(t){var e=I(t,this.pp,{x:0,y:0});this.cp=P(this.fetchXY(),e),this.segmentLength=ut.getDistance(this.pp,this.cp),this.stack.push({type:"L",p0:this.pp,p1:this.cp,length:this.segmentLength,pointAt:function(t){return ut.linearTransitionBetweenPoints(this.p0,this.p1,t)}}),this.length+=this.segmentLength}function N(t){var e=I(t,this.pp,{x:0,y:this.pp.y});this.cp=P({x:parseFloat(this.pathArr[this.currPathArr+=1]),y:0},e),this.segmentLength=ut.getDistance(this.pp,this.cp),this.stack.push({type:"H",p0:this.pp,p1:this.cp,length:this.segmentLength,pointAt:function(t){return ut.linearTransitionBetweenPoints(this.p0,this.p1,t)}}),this.length+=this.segmentLength}function q(){this.cp=this.start,this.segmentLength=ut.getDistance(this.pp,this.cp),this.stack.push({p0:this.pp,p1:this.cp,type:"Z",length:this.segmentLength,pointAt:function(t){return ut.linearTransitionBetweenPoints(this.p0,this.p1,t)}}),this.length+=this.segmentLength}function F(t){var e=I(t,this.pp,{x:0,y:0}),r=P(this.fetchXY(),e),n=P(this.fetchXY(),e);this.cp=n,this.segmentLength=ut.bezierLength(this.pp,r,this.cp),this.cp=n,this.stack.push({type:"Q",p0:this.pp,cntrl1:r,cntrl2:r,p1:this.cp,length:this.segmentLength,pointAt:function(t){return ut.bezierTransition(this.p0,this.cntrl1,this.p1,t)}}),this.length+=this.segmentLength}function H(t){var e=I(t,this.pp,{x:0,y:0}),r=P(this.fetchXY(),e),n=P(this.fetchXY(),e),i=P(this.fetchXY(),e),o=ut.cubicBezierCoefficients({p0:this.pp,cntrl1:r,cntrl2:n,p1:i});this.cntrl=n,this.cp=i,this.segmentLength=ut.cubicBezierLength(this.pp,o),this.stack.push({type:"C",p0:this.pp,cntrl1:r,cntrl2:n,p1:this.cp,length:this.segmentLength,pointAt:function(t){return ut.cubicBezierTransition(this.p0,o,t)}}),this.length+=this.segmentLength}function V(t){var e=I(t,this.pp,{x:0,y:0}),r=P(this.pp,E(this.pp,this.cntrl?this.cntrl:this.pp)),n=P(this.fetchXY(),e),i=P(this.fetchXY(),e);this.cp=i,this.segmentLength=ut.cubicBezierLength(this.pp,ut.cubicBezierCoefficients({p0:this.pp,cntrl1:r,cntrl2:n,p1:this.cp})),this.stack.push({type:"S",p0:this.pp,cntrl1:r,cntrl2:n,p1:this.cp,length:this.segmentLength,pointAt:function(t){return ut.bezierTransition(this.p0,this.cntrl1,this.cntrl2,this.p1,t)}}),this.length+=this.segmentLength}function R(t){var e=I(t,this.pp,{x:0,y:0}),r=this,n=parseFloat(this.pathArr[this.currPathArr+=1]),i=parseFloat(this.pathArr[this.currPathArr+=1]),o=parseFloat(this.pathArr[this.currPathArr+=1]),a=parseFloat(this.pathArr[this.currPathArr+=1]),s=parseFloat(this.pathArr[this.currPathArr+=1]),h=P(this.fetchXY(),e);this.cp=h;var c=ut.arcToBezier({px:this.pp.x,py:this.pp.y,cx:h.x,cy:h.y,rx:n,ry:i,xAxisRotation:o,largeArcFlag:a,sweepFlag:s});c.forEach(function(t,e){var n=0===e?r.pp:{x:c[0].x,y:c[0].y},i={x:t.x1,y:t.y1},o={x:t.x2,y:t.y2},a={x:t.x,y:t.y},s=ut.cubicBezierLength(n,ut.cubicBezierCoefficients({p0:n,cntrl1:i,cntrl2:o,p1:a}));r.stack.push({type:"C",p0:n,cntrl1:i,cntrl2:o,p1:a,length:s,pointAt:function(t){return ut.bezierTransition(this.p0,this.cntrl1,this.cntrl2,this.p1,t)}}),r.length+=s})}function z(t){this.path=t,this.parse(),this.stackGroup.push(this.stack)}function Y(t,e,r){for(var n={},i=Object.keys(t),o=0;o<i.length;o+=1){var a=i[o];"attr"!==a&&"styles"!==a&&"end"!==a&&("function"==typeof t[a]?n[a]=t[a].call(e,e.dataObj,r):n[a]=t[a])}return n}function X(t,e,r){this.config=t,this.type=e||"linear",this.pDom=r}function W(t,e){var r=null;switch(t.el){case"group":r=Tt("g");break;default:r=Tt(t.el)}var n=new Gt(r,t,h(),e);return t.dataObj&&(r.dataObj=t.dataObj),t.styles&&n.setStyle(t.styles),t.attr&&n.setAttr(t.attr),n}function Q(t){var e=this;if(t.transform){var r=t.transform,n=r.scale&&r.scale.length>0?r.scale[0]:1,i=r.scale&&r.scale.length>1?r.scale[1]:n||1,o=r.skewX?r.skewX[0]:0,a=r.skewY?r.skewY[0]:0,s=r.translate&&r.translate.length>0?r.translate[0]:0,h=r.translate&&r.translate.length>1?r.translate[1]:s||0;e.ctx.transform(n,o,a,i,s,h),r.rotate&&(e.ctx.translate(r.cx,r.cy),e.ctx.rotate(r.rotate*(Math.PI/180)),e.ctx.translate(-r.cx,-r.cy))}for(var c=0;c<e.stack.length;c+=1)e.stack[c].execute()}function U(t,e){void 0!==e?this.attr[t]=e:delete this.attr[t]}function Z(t,e){void 0!==e?this.styles[t]=e:delete this.styles[t]}function $(t,e){this.config=t,this.type=e||"linear"}function J(t){return new $(t,"linear")}function K(t){return new $(t,"radial")}function _(t,e,r,n,i){this.pixels=t,this.width=e,this.height=r,this.x=n,this.y=i}function tt(t){return t((this.rImageObj?this.rImageObj:this.imageObj).getContext("2d").getImageData(0,0,this.attr.width,this.attr.height))}function et(t,e){var r=document.createElement("canvas");return r.setAttribute("height",e),r.setAttribute("width",t),r.style.height=this.height+"px",r.style.width=this.width+"px",r}function rt(t,e){}function nt(){this.styles.fillStyle&&this.ctx.fill(),this.styles.strokeStyle&&this.ctx.stroke()}function it(){}function ot(t,e,r,n,i,o){var a=this;a.ctx=t,a.attr=e,a.styles=r,a.nodeName="Image",a.image=new Image,a.image.onload=function(){if(this.crossOrigin="anonymous",a.attr.height=a.attr.height?a.attr.height:this.height,a.attr.width=a.attr.width?a.attr.width:this.width,Vt[a.attr.src])a.imageObj=Vt[a.attr.src];else{var t=et(this.width,this.height);t.getContext("2d").drawImage(this,0,0,this.width,this.height),a.imageObj=t,Vt[a.attr.src]=t}if(a.attr.clip){var e=void 0,r=a.attr,i=r.clip,s=r.width,h=r.height,c=i.sx,l=i.sy,u=i.swidth,f=i.sheight;this.rImageObj||(a.rImageObj=et(a.attr.width,a.attr.height)),e=a.rImageObj.getContext("2d"),c=void 0!==c?c:0,l=void 0!==l?l:0,u=void 0!==u?u:s,f=void 0!==f?f:h,e.drawImage(a.imageObj,c,l,u,f,0,0,s,h)}if(a.attr.pixels){var d=void 0,p=a.attr,y=p.width,g=p.height;a.rImageObj||(a.rImageObj=et(a.attr.width,a.attr.height),d=a.rImageObj.getContext("2d"),d.drawImage(a.imageObj,0,0,y,g)),d=a.rImageObj.getContext("2d"),d.putImageData(tt.call(a,a.attr.pixels),0,0)}n&&"function"==typeof n&&n.call(o),a.nodeExe.BBoxUpdate=!0,dt.vDomChanged(a.nodeExe.vDomIndex)},a.image.onerror=function(){i&&"function"==typeof i&&i.call(o)},a.attr.src&&(a.image.src=a.attr.src),dt.vDomChanged(o.vDomIndex),a.stack=[a]}function at(t,e,r){var n=this;n.ctx=t,n.attr=e,n.styles=r,n.nodeName="text",n.stack=[n]}function st(t){var e=new Path2D,r=t;r=r.replace(/,/g," ").split(" "),e.moveTo(r[0],r[1]);for(var n=2;n<r.length;n+=2)e.lineTo(r[n],r[n+1]);return e.closePath(),e}function ht(t,e,r,n){e||(e=[]);var i=void 0,o=void 0,a=r&&r.attr?Object.keys(r.attr):[],s=r&&r.styles?Object.keys(r.styles):[];return this.stack=e.map(function(e,c){var l=void 0;l="CANVAS"===t.type?new Zt(t.ctx,{el:r.el},h(),n):W({el:r.el},n);for(var u=0;u<a.length;u+=1)if("transform"!==(o=a[u]))if("function"==typeof r.attr[o]){var f=r.attr[o].call(l,e,u);l.setAttr(o,f)}else l.setAttr(o,r.attr[o]);else{i="function"==typeof r.attr.transform?r.attr[o].call(l,e,u):r.attr.transform;for(var d in i)l[d](i[d])}for(var p=0;p<s.length;p+=1)if(o=s[p],"function"==typeof r.styles[o]){var y=r.styles[o].bind(l);l.setStyle(o,y(e,p))}else l.setStyle(o,r.styles[o]);return l.dataObj=e,l}),this}function ct(t){return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}var lt=1,ut=t("2D"),ft=r(),dt=e(),pt=0,yt=1,gt={};gt.push={value:function(t){"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]),this.data=this.data.concat(t),this.action.enter&&this.action.enter.call(this,t)},enumerable:!1,configurable:!1,writable:!1},gt.pop={value:function(){var t=this.data.pop();this.action.exit&&this.action.exit.call(this,this.fetchEl(this.selector,t),[t])},enumerable:!1,configurable:!1,writable:!1},gt.remove={value:function(t){"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]),this.action.exit&&this.action.exit.call(this,this.fetchEls(this.selector,t),t)},enumerable:!1,configurable:!0,writable:!1},gt.update={value:function(){this.action.update&&this.action.update.call(this,this.fetchEls(this.selector,this.data),this.data)},enumerable:!1,configurable:!0,writable:!1},z.prototype={z:q,m:L,v:T,h:N,l:G,q:F,s:V,c:H,a:R,fetchXY:M},z.prototype.parse=function(){for(this.currPathArr=-1,this.stack=[],this.length=0,this.pathArr=D(this.path),this.stackGroup=[];this.currPathArr<this.pathArr.length-1;)this.case(this.pathArr[this.currPathArr+=1]);return this.stack},z.prototype.getTotalLength=function(){return this.length},z.prototype.getAngleAtLength=function(t,e){if(t>this.length)return null;var r=this.getPointAtLength(t),n=this.getPointAtLength(t+("src"===e?-1*t*.01:.01*t));return Math.atan2(n.y-r.y,n.x-r.x)},z.prototype.getPointAtLength=function(t){var e={x:0,y:0},r=t;return this.stack.every(function(t,n){return r-=t.length,Math.floor(r)>0||(e=t.pointAt((t.length+r)/(0===t.length?1:t.length)),!1)}),e},z.prototype.isValid=function(t){return-1!==["m","v","l","h","q","c","s","a","z"].indexOf(t)},z.prototype.case=function(t){var e=t;switch(this.isValid(e.toLowerCase())?this.PC=e:(e=this.PC,this.currPathArr=this.currPathArr-1),this.pp=this.cp,e.toLowerCase()){case"m":this.m(e);break;case"v":this.v(e);break;case"l":this.l(e);break;case"h":this.h(e);break;case"q":this.q(e);break;case"c":this.c(e);break;case"s":this.s(e);break;case"a":this.a(e);break;case"z":this.z()}};var xt=function(t,e){for(var r=t,n=e.attr?e.attr:{},i=e.styles?e.styles:{},o=[],a=void 0,s=void 0,h=n?Object.keys(n):[],c=0;c<h.length;c+=1)if("transform"!==(s=h[c]))"d"===s?r.morphTo(e):o[o.length]=bt(r,s,n[s]);else if("function"==typeof(a=n[s]))o[o.length]=mt(r,s,a);else{var l=r.attr.transform;l||(r.attr.transform={});for(var u=Object.keys(n.transform),f=0;f<u.length;f+=1)o[o.length]=vt(r,u[f],n.transform[u[f]])}for(var d=i?Object.keys(i):[],p=0;p<d.length;p+=1)o[o.length]=wt(t,d[p],i[d[p]]);return{run:function(t){for(var e=0;e<o.length;e+=1)o[e](t)},duration:e.duration,delay:e.delay?e.delay:0,end:e.end?e.end.bind(t,t.dataObj):null,loop:e.loop?e.loop:0,direction:e.direction?e.direction:"default"}},mt=function(t,e,r){return function(n){t.setAttr(e,r.call(t,n))}},vt=function(t,e,r){var n=[],i=t.attr.transform;return"function"==typeof r?function(n){t[e](r.call(t,n))}:(r.forEach(function(t,r){var o=void 0;o=i[e]&&void 0!==i[e][r]?i[e][r]:"scale"===e?1:0,n.push(ut.intermediateValue.bind(null,o,t))}),function(r){t[e](n.map(function(t){return t(r)}))})},bt=function(t,e,r){if("function"==typeof r)return function(n){t.setAttr(e,r.call(t,n))};var n=ut.intermediateValue.bind(null,t.attr[e],r);return function(r){t.setAttr(e,n(r))}},wt=function(t,e,r){var n=void 0,i=void 0,o=void 0;if("function"==typeof r)return function(n){t.setStyle(e,r.call(t,t.dataObj,n))};if(n=t.styles[e],isNaN(r)){if(r.startsWith("#")||r.startsWith("rgb")||r.startsWith("hsl")){var a=s.transition(n,r);return function(r){t.setStyle(e,a(r))}}n=n.match(/(\d+)/g),o=r.match(/(\d+)/g),i=r.match(/\D+$/),n=parseInt(n.length>0?n[0]:0,10),o=parseInt(o.length>0?o[0]:0,10),i=i.length>0?i[0]:"px"}else n=void 0!==t.styles[e]?t.styles[e]:1,o=r,i=0;return function(r){t.setStyle(e,ut.intermediateValue(n,o,r)+i)}},Bt=function(t){return dt.add(c(),xt(this,t),ft(t.ease)),this},kt=function(t){return xt(this,t)},At=function(t){for(var e=void 0,r=void 0,n=0;n<this.stack.length;n+=1)r={},e=this.stack[n],r=Y(t,e,n),t.attr&&(r.attr=Y(t.attr,e,n)),t.styles&&(r.styles=Y(t.styles,e,n)),t.end&&(r.end=t.end),t.ease&&(r.ease=t.ease),e.animateTo(r);return this},St=function(t){for(var e=void 0,r=void 0,n=[],i=0;i<this.stack.length;i+=1)r={},e=this.stack[i],r=Y(t,e,i),t.attr&&(r.attr=Y(t.attr,e,i)),t.styles&&(r.styles=Y(t.styles,e,i)),t.end&&(r.end=t.end),t.ease&&(r.ease=t.ease),n.push(e.animateExe(r));return n},Ct=function(t){for(var e=void 0,r=0;r<this.stack.length;r+=1)e=this.stack[r],e.animatePathTo(t)},jt=function(t){var e=void 0;if("function"!=typeof t)for(var r=0;r<this.stack.length;r+=1)e=this.stack[r],e.text(t);else for(var n=0;n<this.stack.length;n+=1)e=this.stack[n],e.text(t.call(e,e.dataObj,n));return this},Ot=function(t){function e(t){if(t.length){for(var e=t,r=[],n=0;n<e.length;n+=1)if(-1!==["M","C","S","Q"].indexOf(e[n].type))r.push(e[n]);else if(-1!==["V","H","L","Z"].indexOf(e[n].type)){var i={x:(e[n].p0.x+e[n].p1.x)/2,y:(e[n].p0.y+e[n].p1.y)/2};r.push({p0:e[n].p0,cntrl1:i,cntrl2:i,p1:e[n].p1,type:"C",length:e[n].length})}return r}}function r(t,e){k.add({run:function(t){var e=this.pointTansition(t);y.arrayStack[this.id]="M"+e.x+","+e.y,y.setAttr("d",y.arrayStack.join(""))},id:O(),pointTansition:ut.linearTransitionBetweenPoints.bind(null,t.p0,e.p0)})}function i(t,e){k.add({run:function(t){var e=this,r=e.ctrl1Transition(t),n=e.ctrl2Transition(t),i=e.destTransition(t);y.arrayStack[this.id]=" C"+r.x+","+r.y+" "+n.x+","+n.y+" "+i.x+","+i.y,y.setAttr("d",y.arrayStack.join(""))},id:O(),srcTransition:ut.linearTransitionBetweenPoints.bind(null,t.p0,e.p0),ctrl1Transition:ut.linearTransitionBetweenPoints.bind(null,t.cntrl1,e.cntrl1),ctrl2Transition:ut.linearTransitionBetweenPoints.bind(null,t.cntrl2,e.cntrl2),destTransition:ut.linearTransitionBetweenPoints.bind(null,t.p1,e.p1)})}function o(t,e){if(t.length===e)return t;for(var r=t.reduce(function(t,e){return t+e.length},0),n=[],i=0;i<t.length;i+=1){var o=t[i].length,s=Math.floor(e/r*o);if(s<=1)n.push(t[i]);else{for(var h=t[i],c=void 0;s>1;){var l=h;c=a([l.p0,l.cntrl1,l.cntrl2,l.p1].slice(0),1/s),n.push({p0:l.p0,cntrl1:c.b1[0],cntrl2:c.b1[1],p1:c.b1[2],type:"C"}),h={p0:c.b1[2],cntrl1:c.b2[0],cntrl2:c.b2[1],p1:c.b2[2],type:"C"},s-=1}n.push(h)}}return n}function a(t,e){for(var r=[],n=t;n.length>0;){for(var i=0;i<n.length-1;i+=1)r.unshift(n[i]),n[i]=s(n[i],n[i+1],e);r.unshift(n.pop())}return{b1:[{x:r[5].x,y:r[5].y},{x:r[2].x,y:r[2].y},{x:r[0].x,y:r[0].y}],b2:[{x:r[1].x,y:r[1].y},{x:r[3].x,y:r[3].y},{x:r[6].x,y:r[6].y}]}}function s(t,e,r){return{x:t.x+(e.x-t.x)*(void 0!==r?r:.5),y:t.y+(e.y-t.y)*(void 0!==r?r:.5)}}function h(t){for(var e=0,r=0;r<t.length;r+=1)"M"!==t[r].type&&(e+=(t[r].p1.x-t[r].p0.x)*(t[r].p1.y+t[r].p0.y));return e}function c(t){var e=t.reverse(),r=[{type:"M",p0:e[0].p1}];return e.forEach(function(t){if("C"===t.type){var e=t,n=e.p0,i=e.cntrl1;e.p0=t.p1,e.p1=n,e.cntrl1=t.cntrl2,e.cntrl2=i,r.push(e)}}),r}function l(t){var e=0,r=0,n=0,i=0;return t.forEach(function(t){t.p0&&(e+=t.p0.x,r+=t.p0.y,n+=1,i+=1),t.p1&&(e+=t.p1.x,r+=t.p1.y,n+=1,i+=1)}),{x:e/n,y:r/i}}function u(t,e){return e.x>=t.x&&e.y<=t.y?1:e.x<=t.x&&e.y<=t.y?2:e.x<=t.x&&e.y>=t.y?3:4}function f(t,e){for(var r=l(t),n=l(e),i=t,o=e,a=0;a<t.length;a+=1)i[a].quad=u(r,t[a].p0);for(var s=0;s<e.length;s+=1)o[s].quad=u(n,e[s].p0);var h=0;return t.forEach(function(t,e){var n=ut.getDistance(t.p0,r);1===t.quad&&n>=h&&(h=n)}),h=0,e.forEach(function(t,e){var r=ut.getDistance(t.p0,n);1===t.quad&&r>h&&(h=r)}),{src:d(t,0),dest:d(e,0),srcCentroid:r,destCentroid:n}}function d(t,e){if(e<=0)return t;var r=t,n=r.splice(0,e);return n.shift(),r=r.concat(n),r.unshift({type:"M",p0:r[0].p0}),r.push({type:"M",p0:r[0].p0}),r}function p(t,e){var n=void 0,a=void 0,s=t.length>e.length?t.length:e.length;e.length>2&&t.length>2?(s>50?s+=30:s=s>=20?s+15:s+4,n=o(t,s),a=o(e,s)):(n=t,a=e),h(n)<0&&(n=c(n)),h(a)<0&&(a=c(a));var l=f(n,a,this);n=l.src.length>1?l.src:[{type:"M",p0:l.destCentroid}],a=l.dest.length>1?l.dest:[{type:"M",p0:l.srcCentroid}];for(var u=a.length<n.length?n.length:a.length,d=0;d<n.length;d+=1)n[d].index=d;for(var p=0;p<a.length;p+=1)a[p].index=p;for(var y=0;y<u;y+=1){var g=n[n.length-1].p0?n[n.length-1].p0:n[n.length-1].p1,x=a[a.length-1].p0?a[a.length-1].p0:a[a.length-1].p1,m=n[y]?n[y]:{type:"C",p0:g,p1:g,cntrl1:g,cntrl2:g,length:0},v=a[y]?a[y]:{type:"C",p0:x,p1:x,cntrl1:x,cntrl2:x,length:0};"M"===m.type&&"M"===v.type?r(m,v):"M"===m.type||"M"===v.type?"M"===m.type?i({type:"C",p0:m.p0,p1:m.p0,cntrl1:m.p0,cntrl2:m.p0,length:0},v):i(m,{type:"C",p0:v.p0,p1:v.p0,cntrl1:v.p0,cntrl2:v.p0,length:0}):i(m,v)}}var y=this,g=t.duration,x=t.ease,m=t.loop?t.loop:0,v=t.direction?t.direction:"default",b=t.attr.d?t.attr.d:y.attr.d,w=new z(y.attr.d).stackGroup,B=new z(b).stackGroup,k=n.parallelChain().ease(x).duration(g).loop(m).direction(v);y.arrayStack=[],w.length>1&&(w=w.sort(function(t,e){return e.segmentLength-t.segmentLength})),B.length>1&&(B=B.sort(function(t,e){return e.segmentLength-t.segmentLength}));var A=w.length>B.length?w.length:B.length;p(e(w[0]),e(B[0]));for(var S=1;S<A;S+=1)w[S]&&p(e(w[S]),[{type:"M",p0:w[S][0].p0}]),B[S]&&p([{type:"M",p0:B[S][0].p0}],e(B[S]));k.duration(g).commit()},Dt=function(t){var e=this,r=t.duration,i=t.ease,o=t.end,a=t.loop,s=t.direction,h=t.d,c=h||e.attr.d,l=0;if(e.arrayStack=[],!c)throw Error("Path Not defined");for(var u=n.sequenceChain(),f=new z(c),d=f.stackGroup.reduce(function(t,e){return t=t.concat(e)},[]),p=[],y=0;y<d.length;y+=1)if("Z"===d[y].type)p.push({run:function(){e.arrayStack.splice(this.id,e.arrayStack.length-1-e.id),e.arrayStack[this.id]=this.render(),e.setAttr("d",e.arrayStack.join(""))},id:y,render:function(){return"z"},length:0}),l+=0;else if(-1!==["V","H","L"].indexOf(d[y].type))p.push({run:function(t){e.arrayStack.splice(this.id,e.arrayStack.length-1-e.id),e.arrayStack[this.id]=this.render(t),e.setAttr("d",e.arrayStack.join(""))},id:y,render:Mt.bind(e,d[y].p0,d[y].p1),length:d[y].length}),l+=d[y].length;else if("Q"===d[y].type)p.push({run:function(t){e.arrayStack.splice(this.id,e.arrayStack.length-1-e.id),e.arrayStack[this.id]=this.render(t),e.setAttr("d",e.arrayStack.join(""))},id:y,render:Et.bind(e,d[y].p0,d[y].cntrl1,d[y].p1),length:d[y].length}),l+=d[y].length;else if("C"===d[y].type||"S"===d[y].type){var g=ut.cubicBezierCoefficients(d[y]);p.push({run:function(t){e.arrayStack.splice(this.id,e.arrayStack.length-1-e.id),e.arrayStack[this.id]=this.render(t),e.setAttr("d",e.arrayStack.join(""))},id:y,co:g,render:Pt.bind(e,d[y].p0,d[y].cntrl1,d[y].cntrl2,g),length:d[y].length}),l+=d[y].length}else"M"===d[y].type&&(p.push({run:function(){e.arrayStack.splice(this.id,e.arrayStack.length-1-e.id),e.arrayStack[this.id]=this.render(),e.setAttr("d",e.arrayStack.join(""))},id:y,render:It.bind(e,d[y].p0),length:0}),l+=0);return p.forEach(function(t){t.duration=t.length/l*r}),u.duration(r).add(p).ease(i).loop(a||0).direction(s||"default"),"function"==typeof o&&u.end(o.bind(e)),u.commit(),this},Pt=function(t,e,r,n,i){var o={x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i},a={x:e.x+(r.x-e.x)*i,y:e.y+(r.y-e.y)*i},s="";return s+="C"+o.x+","+o.y+" ",s+=o.x+(a.x-o.x)*i+","+(o.y+(a.y-o.y)*i)+" ",s+=n.ax*ut.pow(i,3)+n.bx*ut.pow(i,2)+n.cx*i+t.x+","+(n.ay*ut.pow(i,3)+n.by*ut.pow(i,2)+n.cy*i+t.y)},Et=function(t,e,r,n){return"M"+t.x+","+t.y+" Q"+(t.x+(e.x-t.x)*n)+","+(t.y+(e.y-t.y)*n)+" "+((t.x-2*e.x+r.x)*n*n+(2*e.x-2*t.x)*n+t.x)+","+((t.y-2*e.y+r.y)*n*n+(2*e.y-2*t.y)*n+t.y)},Mt=function(t,e,r){return" L"+(t.x+(e.x-t.x)*r)+","+(t.y+(e.y-t.y)*r)},It=function(t){return"M"+t.x+","+t.y};X.prototype.exe=function(){return"url(#"+this.config.id+")"},X.prototype.linearGradient=function(){var t=this;return this.defs||(this.defs=this.pDom.createEl({el:"defs"})),this.linearEl=this.defs.join([1],"linearGradient",{action:{enter:function(e){this.createEls(e,{el:"linearGradient"}).setAttr({id:t.config.id,x1:t.config.x1+"%",y1:t.config.y1+"%",x2:t.config.x2+"%",y2:t.config.y2+"%"})},exit:function(t,e){t.remove()},update:function(e,r){e.setAttr({id:t.config.id,x1:t.config.x1+"%",y1:t.config.y1+"%",x2:t.config.x2+"%",y2:t.config.y2+"%"})}}}),this.linearEl=this.linearEl.fetchEl("linearGradient"),this.linearEl.fetchEls("stop").remove(),this.linearEl.createEls(this.config.colorStops,{el:"stop",attr:{offset:function(t,e){return t.value+"%"},"stop-color":function(t,e){return t.color}}}),this},X.prototype.radialGradient=function(){var t=this;return this.defs||(this.defs=this.pDom.createEl({el:"defs"})),this.radialEl=this.defs.join([1],"radialGradient",{action:{enter:function(e){this.createEls(e,{el:"radialGradient"}).setAttr({id:t.config.id,cx:t.config.innerCircle.x+"%",cy:t.config.innerCircle.y+"%",r:t.config.outerCircle.r+"%",fx:t.config.outerCircle.x+"%",fy:t.config.outerCircle.y+"%"})},exit:function(t,e){t.remove()},update:function(e,r){e.setAttr({id:t.config.id,cx:t.config.innerCircle.x+"%",cy:t.config.innerCircle.y+"%",r:t.config.outerCircle.r+"%",fx:t.config.outerCircle.x+"%",fy:t.config.outerCircle.y+"%"})}}}),this.radialEl=this.radialEl.fetchEl("radialGradient"),this.radialEl.fetchEls("stop").remove(),this.radialEl.createEls(this.config.colorStops,{el:"stop",attr:{offset:function(t,e){return t.value+"%"},"stop-color":function(t,e){return t.color}}}),this},X.prototype.colorStops=function(t){return"[object Array]"===Object.prototype.toString.call(t)&&(this.config.colorStops=t,"linear"===this.type?this.linearGradient():"radial"===this.type&&this.radialGradient())};var Lt={svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},Tt=function(t){return document.createElementNS(Lt.svg,t)},Gt=function(t,e,r,n){this.dom=t,this.nodeName=t.nodeName,this.attr=e.attr?e.attr:{},this.changedAttribute=this.attr,this.styles=e.styles?e.styles:{},this.changedStyles=this.styles,this.id=r,this.nodeType="svg",this.dom.nodeId=r,this.attrChanged=!0,this.styleChanged=!0,this.children=[],this.vDomIndex=n,dt.vDomChanged(this.vDomIndex)};Gt.prototype.node=function(){return this.execute(),this.dom};var Nt=void 0,qt=void 0,Ft=void 0,Ht=void 0;Gt.prototype.transFormAttributes=function(){var t=void 0,e=this;qt=Object.keys(e.changedAttribute);for(var r=0;r<qt.length;r+=1)"transform"!==qt[r]&&(-1!==qt[r].indexOf(":")?(t=qt[r].split(":"),e.dom.setAttributeNS(Lt[t[0]],qt[r],this.changedAttribute[qt[r]])):e.dom.setAttribute(qt[r],this.changedAttribute[qt[r]]));if(this.changedAttribute.transform){var n="";Ft=Object.keys(this.attr.transform);for(var i=0;i<Ft.length;i+=1)Ht=Ft[i],n+="rotate"===Ht?Ht+"("+this.attr.transform[Ht].join(" ")+") ":"translate"===Ht?"translate("+this.attr.transform[Ht].join(" ")+") ":Ht+"("+this.attr.transform[Ht].join(" ")+") ";this.dom.setAttribute("transform",n)}this.changedAttribute={},Nt=Object.keys(this.changedStyles);for(var o=0;o<Nt.length;o+=1)this.changedStyles[Nt[o]]instanceof X&&(this.changedStyles[Nt[o]]=this.changedStyles[Nt[o]].exe()),this.dom.style[Nt[o]]=this.changedStyles[Nt[o]];this.changedStyles={}},Gt.prototype.scale=function(t){return this.attr.transform||(this.attr.transform={}),this.attr.transform.scale=[t[0],t[0]],this.changedAttribute.transform?this.changedAttribute.transform.scale=[t[0],t[0]]:(this.changedAttribute.transform={},this.changedAttribute.transform.scale=[t[0],t[0]]),dt.vDomChanged(this.vDomIndex),this},Gt.prototype.skewX=function(t){return this.attr.transform||(this.attr.transform={}),this.attr.transform.skewX=[t],this.changedAttribute.transform?this.changedAttribute.transform.skewX=[t]:(this.changedAttribute.transform={},this.changedAttribute.transform.skewX=[t]),dt.vDomChanged(this.vDomIndex),this},Gt.prototype.skewY=function(t){return this.attr.transform||(this.attr.transform={}),this.attr.transform.skewY=[t],this.changedAttribute.transform?this.changedAttribute.transform.skewY=[t]:(this.changedAttribute.transform={},this.changedAttribute.transform.skewY=[t]),dt.vDomChanged(this.vDomIndex),this},Gt.prototype.translate=function(t){return this.attr.transform||(this.attr.transform={}),this.attr.transform.translate=t,this.changedAttribute.transform?this.changedAttribute.transform.translate=t:(this.changedAttribute.transform={},this.changedAttribute.transform.translate=t),dt.vDomChanged(this.vDomIndex),this},Gt.prototype.rotate=function(t,e,r){return this.attr.transform||(this.attr.transform={}),this.attr.transform.rotate=[t%360,e||0,r||0],this.changedAttribute.transform?this.changedAttribute.transform.rotate=this.attr.transform.rotate:(this.changedAttribute.transform={},this.changedAttribute.transform.rotate=this.attr.transform.rotate),dt.vDomChanged(this.vDomIndex),this},Gt.prototype.setStyle=function(t,e){if(2===arguments.length)"function"==typeof e&&(e=e.call(this,this.dataObj)),this.styles[t]=e,this.changedStyles[t]=e;else if(1===arguments.length&&"object"===(void 0===t?"undefined":a(t)))for(var r=Object.keys(t),n=0;n<r.length;n+=1){var i=r[n];this.styles[i]=t[i],this.changedStyles[i]=t[i]}return this.styleChanged=!0,dt.vDomChanged(this.vDomIndex),this},Gt.prototype.setAttr=function(t,e){if(2===arguments.length)this.attr[t]=e,this.changedAttribute[t]=e;else if(1===arguments.length&&"object"===(void 0===t?"undefined":a(t)))for(var r=Object.keys(t),n=0;n<r.length;n+=1){var i=r[n];this.attr[i]=t[i],this.changedAttribute[i]=t[i]}return this.attrChanged=!0,dt.vDomChanged(this.vDomIndex),this},Gt.prototype.getAttr=function(t){return this.attr[t]},Gt.prototype.execute=function(){if(this.styleChanged||this.attrChanged){this.transFormAttributes();for(var t=0;t<this.children.length;t+=1)this.children[t].execute()}else for(var e=0;e<this.children.length;e+=1)this.children[e].execute()},Gt.prototype.child=function(t){var e=this.dom,r=this;return t instanceof ht?(t.stack.forEach(function(t){e.appendChild(t.dom),t.parentNode=r}),this.children=this.children.concat(t.stack)):t instanceof Gt?(e.appendChild(t.dom),t.parentNode=r,this.children.push(t)):console.log("wrong node type"),this},Gt.prototype.fetchEl=f,Gt.prototype.fetchEls=u,Gt.prototype.animateTo=Bt,Gt.prototype.animateExe=kt,Gt.prototype.animatePathTo=Dt,Gt.prototype.morphTo=Ot,Gt.prototype.createRadialGradient=function(t){var e=new X(t,"radial",this);return e.radialGradient(),e},Gt.prototype.createLinearGradient=function(t){var e=new X(t,"linear",this);return e.linearGradient(),e},Gt.prototype.join=j,Gt.prototype.on=function(t,e){var r=e.bind(this);return this.dom.addEventListener(t,function(t){r({data:"sample"},t)}),this},Gt.prototype.html=function(t){return arguments.length?(this.dom.innerHTML(t),this):this.dom.innerHTML},Gt.prototype.text=function(t){return arguments.length?(this.dom.textContent=t,this):this.dom.textContent},Gt.prototype.remove=function(){this.parentNode.removeChild(this),this.removed=!0},Gt.prototype.createEls=function(t,e){var r=new ht({type:"SVG"},t,e,this.vDomIndex);return this.child(r),dt.vDomChanged(this.vDomIndex),r},Gt.prototype.createEl=function(t){var e=W(t,this.vDomIndex);return this.child(e),dt.vDomChanged(this.vDomIndex),e},Gt.prototype.removeChild=function(t){for(var e=-1,r=this.children,n=0;n<r.length;n+=1)t===r[n]&&(e=n,this.dom.removeChild(r[n].dom));if(e>-1){for(var i=e;i<r.length-1;i+=1)r[i]=r[i+1];r.length-=1}dt.vDomChanged(this.vDomIndex)},$.prototype.exe=function(t,e){return"linear"===this.type?this.linearGradient(t,e):"radial"===this.type?this.radialGradient(t,e):void console.Error("wrong Gradiant type")},$.prototype.linearGradient=function(t,e){var r=t.createLinearGradient(e.x+e.width*(this.config.x1/100),e.y+e.height*(this.config.y1/100),e.x+e.width*(this.config.x2/100),e.y+e.height*(this.config.y2/100));return this.config.colorStops.forEach(function(t){r.addColorStop(t.value/100,t.color)}),r},$.prototype.radialGradient=function(t,e){var r=t.createRadialGradient(e.x+e.width*(this.config.innerCircle.x/100),e.y+e.height*(this.config.innerCircle.y/100),e.width>e.height?e.width*this.config.innerCircle.r/100:e.height*this.config.innerCircle.r/100,e.x+e.width*(this.config.outerCircle.x/100),e.y+e.height*(this.config.outerCircle.y/100),e.width>e.height?e.width*this.config.outerCircle.r/100:e.height*this.config.outerCircle.r/100);return this.config.colorStops.forEach(function(t){r.addColorStop(t.value/100,t.color)}),r},$.prototype.colorStops=function(t){return"[object Array]"===Object.prototype.toString.call(t)&&(this.config.colorStops=t,this)},_.prototype.get=function(t){var e=(t.y-1)*(4*this.width)+4*(t.x-1);return"rgba("+this.pixels[e]+", "+this.pixels[e+1]+", "+this.pixels[e+2]+", "+this.pixels[e+3]+")"},_.prototype.put=function(t,e){var r=(e.y-1)*(4*this.width)+4*(e.x-1);return this.pixels[r]=t[0],this.pixels[r+1]=t[1],this.pixels[r+2]=t[2],this.pixels[r+3]=t[3],this},rt.prototype={},rt.prototype.setAttr=function(t,e){},rt.prototype.execute=function(){},it.prototype={render:Q,on:A,setAttr:U,setStyle:Z,applyStyles:nt};var Vt={};ot.prototype=new it,ot.prototype.constructor=ot,ot.prototype.setAttr=function(t,e){var r=this;if(this.attr[t]=e,"src"===t&&(this.image.src=e),"clip"===t){this.rImageObj||(this.rImageObj=et(r.attr.width,r.attr.height));var n=this.rImageObj.getContext("2d"),i=this.attr,o=i.clip,a=i.width,s=i.height,h=o.sx,c=o.sy,l=o.swidth,u=o.sheight;h=void 0!==h?h:0,c=void 0!==c?c:0,l=void 0!==l?l:a,u=void 0!==u?u:s,n.clearRect(0,0,a,s),this.imageObj&&n.drawImage(this.imageObj,h,c,l,u,0,0,a,s)}if(r.attr.pixels){var f=void 0;f=r.rImageObj.getContext("2d"),f.putImageData(tt.call(r,r.attr.pixels),0,0)}dt.vDomChanged(this.nodeExe.vDomIndex)},ot.prototype.updateBBox=function(){var t=this,e=0,r=0,n=1,i=1,a=t.attr.transform,s=t.attr,h=s.x,c=s.y,l=s.width,u=s.height;if(a){if(a.translate){var f=o(a.translate,2);e=f[0],r=f[1]}a.scale&&(n=void 0!==a.scale[0]?a.scale[0]:1,i=void 0!==a.scale[1]?a.scale[1]:n)}t.BBox={x:(e+h)*n,y:(r+c)*i,width:(l||0)*n,height:(u||0)*i},a&&a.rotate?t.BBoxHit=S(this.BBox,a.rotate[0]):t.BBoxHit=this.BBox},ot.prototype.execute=function(){var t=this.attr,e=t.width,r=t.height,n=t.x,i=t.y;this.imageObj&&this.ctx.drawImage(this.rImageObj?this.rImageObj:this.imageObj,n||0,i||0,e,r)},ot.prototype.applyStyles=function(){},ot.prototype.in=function(t){return t.x>=this.attr.x&&t.x<=this.attr.x+this.attr.width&&t.y>=this.attr.y&&t.y<=this.attr.y+this.attr.height},at.prototype=new it,at.prototype.constructor=at,at.prototype.text=function(t){this.textContent=t},at.prototype.updateBBox=function(){var t=this,e=0,r=0,n=1,i=1,a=1,s=t.attr.transform;if(s&&s.translate){var h=o(s.translate,2);e=h[0],r=h[1]}if(s&&s.scale){var c=o(s.scale,2);n=c[0],i=c[1]}this.styles.font&&(this.ctx.font=this.styles.font,a=parseInt(this.styles.font,10)),t.BBox={x:e+t.attr.x*n,y:r+(t.attr.y-a+5)*i,width:this.ctx.measureText(this.textContent).width*n,height:a*i},s&&s.rotate?t.BBoxHit=S(this.BBox,s.rotate[0]):t.BBoxHit=this.BBox},at.prototype.execute=function(){this.textContent&&(this.styles.fillStyle&&this.ctx.fillText(this.textContent,this.attr.x,this.attr.y),this.styles.strokeStyle&&this.ctx.strokeText(this.textContent,this.attr.x,this.attr.y))},at.prototype.applyStyles=function(){},at.prototype.in=function(t){return t.x>=this.attr.x&&t.x<=this.attr.x+this.attr.width&&t.y>=this.attr.y&&t.y<=this.attr.y+this.attr.height};var Rt=function(t,e,r){var n=this;n.ctx=t,n.attr=e,n.styles=r,n.nodeName="circle",n.stack=[n]};Rt.prototype=new it,Rt.prototype.constructor=Rt,Rt.prototype.updateBBox=function(){var t=this,e=0,r=0,n=1,i=1,a=t.attr.transform;if(a){if(a.translate){var s=o(a.translate,2);e=s[0],r=s[1]}if(a.scale){var h=o(a.scale,2);n=h[0],i=h[1]}}t.BBox={x:(e+(t.attr.cx-t.attr.r))*n,y:(r+(t.attr.cy-t.attr.r))*i,width:2*t.attr.r*n,height:2*t.attr.r*i},a&&a.rotate?t.BBoxHit=S(this.BBox,a.rotate[0]):t.BBoxHit=this.BBox},Rt.prototype.execute=function(){this.ctx.beginPath(),this.ctx.arc(this.attr.cx,this.attr.cy,this.attr.r,0,2*Math.PI,!1),this.ctx.closePath()},Rt.prototype.in=function(t){return Math.sqrt((t.x-this.attr.cx)*(t.x-this.attr.cx)+(t.y-this.attr.cy)*(t.y-this.attr.cy))<=this.attr.r};var zt=function(t,e,r){var n=this;n.ctx=t,n.attr=e,n.styles=r,n.nodeName="line",n.stack=[n]};zt.prototype=new it,zt.prototype.constructor=zt,zt.prototype.updateBBox=function(){var t=this,e=0,r=0,n=1,i=1,a=t.attr.transform;if(a&&a.translate){var s=o(a.translate,2);e=s[0],r=s[1]}if(a&&a.scale){var h=o(a.scale,2);n=h[0],i=h[1]}t.BBox={x:e+(t.attr.x1<t.attr.x2?t.attr.x1:t.attr.x2)*n,y:r+(t.attr.y1<t.attr.y2?t.attr.y1:t.attr.y2)*i,width:Math.abs(t.attr.x2-t.attr.x1)*n,height:Math.abs(t.attr.y2-t.attr.y1)*i},a&&a.rotate?t.BBoxHit=S(this.BBox,a.rotate[0]):t.BBoxHit=this.BBox},zt.prototype.execute=function(){var t=this.ctx;t.beginPath(),t.moveTo(this.attr.x1,this.attr.y1),t.lineTo(this.attr.x2,this.attr.y2),t.closePath()},zt.prototype.in=function(t){return parseFloat(ut.getDistance({x:this.attr.x1,y:this.attr.y1},t)+ut.getDistance(t,{x:this.attr.x2,y:this.attr.y2})).toFixed(1)===parseFloat(ut.getDistance({x:this.attr.x1,y:this.attr.y1},{x:this.attr.x2,y:this.attr.y2})).toFixed(1)};var Yt=function(t,e,r){var n=this;return n.ctx=t,n.angle=0,n.nodeName="path",n.attr=e,n.styles=r,e.d&&(n.attr.d=e.d,n.path=new z(n.attr.d),n.pathNode=new Path2D(n.attr.d)),n.stack=[n],n};Yt.prototype=new it,Yt.prototype.constructor=Yt,Yt.prototype.updateBBox=function(){var t=this,e=0,r=0,n=1,i=1,a=t.attr.transform;if(a&&a.translate){var s=o(a.translate,2);e=s[0],r=s[1]}if(a&&a.scale){var h=o(a.scale,2);n=h[0],i=h[1]}t.BBox=t.path?ut.getBBox(t.path.stack):{x:0,y:0,width:0,height:0},t.BBox.x=e+t.BBox.x*n,t.BBox.y=r+t.BBox.y*i,t.BBox.width*=n,t.BBox.height*=i,a&&a.rotate?t.BBoxHit=S(this.BBox,a.rotate[0]):t.BBoxHit=this.BBox},Yt.prototype.setAttr=function(t,e){this.attr[t]=e,"d"===t&&(this.path=new z(this.attr.d),this.pathNode=new Path2D(this.attr.d))},Yt.prototype.getPointAtLength=function(t){return this.path?this.path.getPointAtLength(t):{x:0,y:0}},Yt.prototype.getAngleAtLength=function(t){return this.path?this.path.getAngleAtLength(t):0},Yt.prototype.getTotalLength=function(){return this.path?this.path.getTotalLength():0},Yt.prototype.execute=function(){this.attr.d&&(this.styles.fillStyle&&this.ctx.fill(this.pathNode),this.styles.strokeStyle&&this.ctx.stroke(this.pathNode))},Yt.prototype.applyStyles=function(){},Yt.prototype.in=function(t){return!!this.attr.d&&(!!this.styles.fillStyle&&this.ctx.isPointInPath(this.pathNode,t.x,t.y))};var Xt=function(t,e,r){var n=this;return n.ctx=t,n.nodeName="polygon",n.attr=e,n.styles=r,n.stack=[n],e.points&&(n.polygon=st(n.attr.points)),this};Xt.prototype=new it,Xt.prototype.constructor=Xt,Xt.prototype.setAttr=function(t,e){this.attr[t]=e,"points"===t&&(this.polygon=st(this.attr[t]))},Xt.prototype.updateBBox=function(){var t=this,e=0,r=0,n=1,i=1,a=t.attr.transform,s=t.attr.points.replace(/,/g," ").split(" ").map(function(t){return parseFloat(t)});if(a&&a.translate){var h=o(a.translate,2);e=h[0],r=h[1]}if(a&&a.scale){var c=o(a.scale,2);n=c[0],i=c[1]}for(var l=s[0],u=s[0],f=s[1],d=s[1],p=2;p<s.length;p+=2)l>s[p]&&(l=s[p]),u<s[p]&&(u=s[p]),f>s[p+1]&&(f=s[p+1]),d<s[p+1]&&(d=s[p+1]);t.BBox={x:e+l*n,y:r+f*i,width:(u-l)*n,height:(d-f)*i},a&&a.rotate?t.BBoxHit=S(this.BBox,a.rotate[0]):t.BBoxHit=this.BBox},Xt.prototype.execute=function(){this.attr.points&&(this.styles.fillStyle&&this.ctx.fill(this.polygon),this.styles.strokeStyle&&this.ctx.stroke(this.polygon))},Xt.prototype.applyStyles=function(){},Xt.prototype.in=function(t){return!!this.attr.points&&(!!this.styles.fillStyle&&this.ctx.isPointInPath(this.polygon,t.x,t.y))};var Wt=function(t,e,r){var n=this;return n.ctx=t,n.nodeName="ellipse",n.attr=e,n.styles=r,n.stack=[n],this};Wt.prototype=new it,Wt.prototype.constructor=Wt,Wt.prototype.updateBBox=function(){var t=this,e=0,r=0,n=1,i=1,a=t.attr.transform;if(a&&a.translate){var s=o(a.translate,2);e=s[0],r=s[1]}if(a&&a.scale){var h=o(a.scale,2);n=h[0],i=h[1]}t.BBox={x:e+(t.attr.cx-t.attr.rx)*n,y:r+(t.attr.cy-t.attr.ry)*i,width:2*t.attr.rx*n,height:2*t.attr.ry*i},a&&a.rotate?t.BBoxHit=S(this.BBox,a.rotate[0]):t.BBoxHit=this.BBox},Wt.prototype.execute=function(){var t=this.ctx;t.beginPath(),t.moveTo(this.attr.cx,this.attr.cy-this.attr.ry),t.bezierCurveTo(this.attr.cx+this.attr.rx,this.attr.cy-this.attr.ry,this.attr.cx+this.attr.rx,this.attr.cy+this.attr.ry,this.attr.cx,this.attr.cy+this.attr.ry),t.bezierCurveTo(this.attr.cx-this.attr.rx,this.attr.cy+this.attr.ry,this.attr.cx-this.attr.rx,this.attr.cy-this.attr.ry,this.attr.cx,this.attr.cy-this.attr.ry),t.closePath()},Wt.prototype.in=function(t){var e=this.attr,r=e.cx,n=e.cy,i=e.rx,o=e.ry;return(t.x-r)*(t.x-r)/(i*i)+(t.y-n)*(t.y-n)/(o*o)<=1};var Qt=function(t,e,r){var n=this;return n.ctx=t,n.nodeName="rect",n.attr=e,n.styles=r,n.stack=[n],this};Qt.prototype=new it,Qt.prototype.constructor=Qt,Qt.prototype.updateBBox=function(){var t=this,e=0,r=0,n=1,i=1,a=t.attr.transform;if(a&&a.translate){var s=o(a.translate,2);e=s[0],r=s[1]}if(a&&a.scale){var h=o(a.scale,2);n=h[0],i=h[1]}t.BBox={x:e+t.attr.x*n,y:r+t.attr.y*i,width:t.attr.width*n,height:t.attr.height*i},a&&a.rotate?t.BBoxHit=S(this.BBox,a.rotate[0]):t.BBoxHit=this.BBox},Qt.prototype.execute=function(){var t=this.ctx;t.beginPath(),t.rect(this.attr.x,this.attr.y,this.attr.width,this.attr.height),t.closePath()},Qt.prototype.in=function(t){var e=this.attr,r=e.x,n=e.y,i=e.width,o=e.height;return t.x>=r&&t.x<=r+i&&t.y>=n&&t.y<=n+o};var Ut=function(t,e,r){var n=this;return n.ctx=t,n.attr=e,n.styles=r,n.stack=new Array(0),this};Ut.prototype=new it,Ut.prototype.constructor=Ut,Ut.prototype.updateBBox=function(t){var e=this,r=void 0,n=void 0,i=void 0,o=void 0,a=0,s=0,h=1,c=1,l=e.attr.transform;if(e.BBox={},l&&l.translate&&(a=void 0!==l.translate[0]?l.translate[0]:0,s=void 0!==l.translate[1]?l.translate[1]:a),l&&e.attr.transform.scale&&"rootNode"!==e.attr.id&&(h=void 0!==l.scale[0]?l.scale[0]:1,c=void 0!==l.scale[1]?l.scale[1]:h),t&&t.length>0)for(var u=void 0,f=void 0,d=void 0,p=0;p<t.length;p+=1)u=t[p],f=u.dom.BBoxHit.x,d=u.dom.BBoxHit.y,r=void 0===r?f:r>f?f:r,i=void 0===i?d:i>d?d:i,n=void 0===n?f+u.dom.BBoxHit.width:n<f+u.dom.BBoxHit.width?f+u.dom.BBoxHit.width:n,o=void 0===o?d+u.dom.BBoxHit.height:o<d+u.dom.BBoxHit.height?d+u.dom.BBoxHit.height:o;r=void 0===r?0:r,i=void 0===i?0:i,n=void 0===n?0:n,o=void 0===o?0:o,e.BBox.x=a+r*h,e.BBox.y=s+i*c,e.BBox.width=Math.abs(n-r)*h,e.BBox.height=Math.abs(o-i)*c,e.attr.transform&&e.attr.transform.rotate?e.BBoxHit=S(this.BBox,this.attr.transform.rotate[0]):e.BBoxHit=this.BBox},Ut.prototype.child=function(t){var e=this,r=t;r instanceof Zt?(r.dom.parent=e,e.stack[e.stack.length]=r):r instanceof ht?r.stack.forEach(function(t){t.dom.parent=e,e.stack[e.stack.length]=t}):console.log("wrong Object")},Ut.prototype.in=function(t){var e=this,r={x:t.x,y:t.y},n=this.BBoxHit,i=e.attr.transform,a=0,s=0,h=1,c=1;if(i&&i.translate){var l=o(i.translate,2);a=l[0],s=l[1]}return i&&i.scale&&(h=void 0!==i.scale[0]?i.scale[0]:1,c=void 0!==i.scale[1]?i.scale[1]:h),r.x>=(n.x-a)/h&&r.x<=(n.x-a+n.width)/h&&r.y>=(n.y-s)/c&&r.y<=(n.y-s+n.height)/c};var Zt=function(t,e,r,n){switch(this.styles=e.styles?e.styles:{},this.attr=e.attr?e.attr:{},this.id=r,this.nodeName=e.el,this.nodeType="CANVAS",this.children=[],this.ctx=t,this.vDomIndex=n,e.el){case"circle":this.dom=new Rt(this.ctx,this.attr,this.styles);break;case"rect":this.dom=new Qt(this.ctx,this.attr,this.styles);break;case"line":this.dom=new zt(this.ctx,this.attr,this.styles);break;case"path":this.dom=new Yt(this.ctx,this.attr,this.styles);break;case"group":this.dom=new Ut(this.ctx,this.attr,this.styles);break;case"text":this.dom=new at(this.ctx,this.attr,this.styles);break;case"image":this.dom=new ot(this.ctx,this.attr,this.styles,e.onload,e.onerror,this);break;case"polygon":this.dom=new Xt(this.ctx,this.attr,this.styles,this);break;case"ellipse":this.dom=new Wt(this.ctx,this.attr,this.styles,this);break;default:this.dom=null}this.dom.nodeExe=this,this.BBoxUpdate=!0};Zt.prototype.node=function(){return this.updateBBox(),this.dom},Zt.prototype.stylesExe=function(){for(var t=Object.keys(this.styles),e=void 0,r=0;r<t.length;r+=1)"function"==typeof this.styles[t[r]]?(this.styles[t[r]]=this.styles[t[r]].call(this,this.dataObj),e=this.styles[t[r]]):e=this.styles[t[r]]instanceof $?this.styles[t[r]].exe(this.ctx,this.dom.BBox):this.styles[t[r]],"function"!=typeof e?this.ctx[t[r]]=e:"function"==typeof e?this.ctx[t[r]](e):console.log("junk comp")},Zt.prototype.remove=function(){for(var t=this,e=void 0,r=this.dom.parent.children,n=0;n<r.length;n+=1)t===r[n]&&(e=n);if(e>-1){for(var i=e;i<r.length-1;i+=1)r[i]=r[i+1];r.length-=1}this.dom.parent.children=r,dt.vDomChanged(this.vDomIndex),this.BBoxUpdate=!0},Zt.prototype.attributesExe=function(){this.dom.render(this.attr)},Zt.prototype.setStyle=function(t,e){if(2===arguments.length)this.styles[t]=e,this.dom.setStyle(t,e);else if(1===arguments.length&&"object"===(void 0===t?"undefined":a(t)))for(var r=Object.keys(t),n=0;n<r.length;n+=1)this.styles[r[n]]=t[r[n]],this.dom.setStyle(r[n],t[r[n]]);return dt.vDomChanged(this.vDomIndex),this},Zt.prototype.setAttr=function(t,e){if(2===arguments.length)this.attr[t]=e,this.dom.setAttr(t,e);else if(1===arguments.length&&"object"===(void 0===t?"undefined":a(t)))for(var r=Object.keys(t),n=0;n<r.length;n+=1)this.attr[r[n]]=t[r[n]],this.dom.setAttr(r[n],t[r[n]]);return this.BBoxUpdate=!0,dt.vDomChanged(this.vDomIndex),this},Zt.prototype.getAttr=function(t){return this.attr[t]},Zt.prototype.rotate=function(t,e,r){return this.attr.transform||(this.attr.transform={}),this.attr.transform.rotate=t,this.attr.transform.cx=e,this.attr.transform.cy=r,this.dom.setAttr("transform",this.attr.transform),this.BBoxUpdate=!0,dt.vDomChanged(this.vDomIndex),this},Zt.prototype.scale=function(t){return this.attr.transform||(this.attr.transform={}),t.length<1?null:(this.attr.transform.scale=[t[0],t[1]?t[1]:t[0]],this.dom.setAttr("transform",this.attr.transform),this.BBoxUpdate=!0,dt.vDomChanged(this.vDomIndex),this)},Zt.prototype.translate=function(t){return this.attr.transform||(this.attr.transform={}),this.attr.transform.translate=t,this.dom.setAttr("transform",this.attr.transform),this.BBoxUpdate=!0,dt.vDomChanged(this.vDomIndex),this},Zt.prototype.skewX=function(t){return this.attr.transform||(this.attr.transform={}),this.attr.transform.skewX=[t],this.dom.setAttr("transform",this.attr.transform),this.BBoxUpdate=!0,dt.vDomChanged(this.vDomIndex),this},Zt.prototype.skewY=function(t){return this.attr.transform||(this.attr.transform={}),this.attr.transform.skewY=[t],this.dom.setAttr("transform",this.attr.transform),this.BBoxUpdate=!0,dt.vDomChanged(this.vDomIndex),this},Zt.prototype.execute=function(){if(this.ctx.save(),this.stylesExe(),this.attributesExe(),this.dom instanceof Ut)for(var t=0;t<this.children.length;t+=1)this.children[t].execute();this.dom.applyStyles(),this.ctx.restore()},Zt.prototype.child=function(t){var e=this,r=t;if(e.dom instanceof Ut)for(var n=0;n<r.length;n+=1)r[n].dom.parent=e,e.children[e.children.length]=r[n];else console.log("Error");return this.BBoxUpdate=!0,dt.vDomChanged(this.vDomIndex),e},Zt.prototype.fetchEl=f,Zt.prototype.fetchEls=u,Zt.prototype.updateBBox=function(){for(var t=void 0,e=0;e<this.children.length;e+=1)t=this.children[e].updateBBox()||t;return!(!this.BBoxUpdate&&!t)&&(this.dom.updateBBox(this.children),this.BBoxUpdate=!1,!0)},Zt.prototype.in=function(t){return this.dom.in(t)},Zt.prototype.on=function(t,e){return this.dom.on(t,e),this},Zt.prototype.animateTo=Bt,Zt.prototype.animateExe=kt,Zt.prototype.animatePathTo=Dt,Zt.prototype.morphTo=Ot,Zt.prototype.vDomIndex=null,Zt.prototype.join=j,Zt.prototype.createRadialGradient=K,Zt.prototype.createLinearGradient=J,Zt.prototype.createPattern=rt,Zt.prototype.createEls=function(t,e){var r=new ht({type:"CANVAS",ctx:this.dom.ctx},t,e,this.vDomIndex);return this.child(r.stack),dt.vDomChanged(this.vDomIndex),r},Zt.prototype.text=function(t){return this.dom instanceof at&&this.dom.text(t),dt.vDomChanged(this.vDomIndex),this},Zt.prototype.createEl=function(t){var e=new Zt(this.dom.ctx,t,h(),this.vDomIndex);return this.child([e]),dt.vDomChanged(this.vDomIndex),e},Zt.prototype.removeChild=function(t){var e=-1;if(this.children.forEach(function(r,n){r===t&&(e=n)}),-1!==e){var r=this.children.splice(e,1)[0];this.dom.removeChild(r.dom)}dt.vDomChanged(this.vDomIndex)},ht.prototype={createEls:y,createEl:p,forEach:g,setAttr:x,fetchEls:l,setStyle:m,translate:v,rotate:b,scale:w,animateTo:At,animateExe:St,animatePathTo:Ct,remove:k,text:jt,join:d,on:B},ht.prototype.wrapper=function(t){var e=this;return t&&t.forEach(function(t,r){t instanceof Gt||t instanceof Zt||t instanceof ht?e.stack.push(t):e.stack.push(new Gt(t,{},h()))}),this};var $t={},Jt={dragStart:function(t){return"function"==typeof t&&(this.onDragStart=t),this},drag:function(t){return"function"==typeof t&&(this.onDrag=t),this},dragEnd:function(t){return"function"==typeof t&&(this.onDragEnd=t),this}};return $t.dragEvent=function(){return Object.create(Jt)},$t.CanvasLayer=function(t,e){var r=void 0,n=document.querySelector(t),o=e.height?e.height:n.clientHeight,a=e.width?e.width:n.clientWidth,s=document.createElement("canvas"),c=s.getContext("2d");lt=ct(c);var l="clear"!==e.onClear&&e.onClear?e.onClear:function(t){t.clearRect(0,0,a*lt,o*lt)};s.setAttribute("height",o*lt),s.setAttribute("width",a*lt),s.setAttribute("draggable",!0),s.style.height=o+"px",s.style.width=a+"px",s.style.position="absolute",n.appendChild(s);var u=new i,f=dt.addVdom(u),d=new Zt(c,{el:"group",attr:{id:"rootNode",transform:{scale:[lt,lt]}}},h(),f),p=d.execute.bind(d);return d.execute=function(){this.dom.BBoxHit||(this.dom.BBoxHit={x:0,y:0,width:a*lt,height:o*lt}),l(c),d.updateBBox(),p()},d.type="CANVAS",u.root(d),(e.events||void 0===e.events)&&(n.addEventListener("mousemove",function(t){t.preventDefault();var e=u.eventsCheck(d.children,{x:t.offsetX,y:t.offsetY});if(r&&e!==r&&((r.dom.mouseout||r.dom.mouseleave)&&r.hovered&&(r.dom.mouseout&&r.dom.mouseout.call(r,r.dataObj,t),r.dom.mouseleave&&r.dom.mouseleave.call(r,r.dataObj,t),r.hovered=!1),r.dom.drag&&r.dom.drag.dragStartFlag&&(r.dom.drag.dragStartFlag=!1,r.dom.drag.onDragEnd.call(r,r.dataObj,t),r.dom.drag.event=null)),r&&e===r&&r.dom.drag&&r.dom.drag.dragStartFlag&&r.dom.drag.onDrag){var n=r.dom.drag.event;r.dom.drag.event&&(n.dx=t.clientX-n.x,n.dy=t.clientY-n.y),n.x=t.clientX,n.y=t.clientY,r.dom.drag.event=n,r.dom.drag.onDrag.call(r,r.dataObj,n)}e?(r=e,!r.dom.mouseover&&!r.dom.mouseenter||r.hovered||(r.dom.mouseover&&r.dom.mouseover.call(r,r.dataObj,t),r.dom.mouseenter&&r.dom.mouseenter.call(r,r.dataObj,t),r.hovered=!0),r.dom.mousemove&&r.dom.mousemove.call(r,r.dataObj,t)):r=void 0}),n.addEventListener("click",function(t){console.log("click"),t.preventDefault(),r&&r.dom.click&&r.dom.click.call(r,r.dataObj,t)}),n.addEventListener("dblclick",function(t){r&&r.dom.dblclick&&r.dom.dblclick.call(r,r.dataObj,t)}),n.addEventListener("mousedown",function(t){if(console.log("down"),t.preventDefault(),r&&r.dom.mousedown&&(r.dom.mousedown.call(r,r.dataObj,t),r.down=!0),r&&r.dom.drag&&r.dom.drag.onDragStart){r.dom.drag.dragStartFlag=!0,r.dom.drag.onDragStart.call(r,r.dataObj,t);var e={};e.x=t.clientX,e.y=t.clientY,e.dx=0,e.dy=0,r.dom.drag.event=e}}),n.addEventListener("mouseup",function(t){t.preventDefault(),r&&r.dom.mouseup&&r.down&&(r.dom.mouseup.call(r,r.dataObj),r.down=!1),r&&r.dom.drag&&r.dom.drag.dragStartFlag&&r.dom.drag.onDragEnd&&(r.dom.drag.dragStartFlag=!1,r.dom.drag.event=null,r.dom.drag.onDragEnd.call(r,r.dataObj,t))}),n.addEventListener("mouseleave",function(t){t.preventDefault(),r&&r.dom.mouseleave&&r.dom.mouseleave.call(r,r.dataObj,t),r&&r.dom.onDragEnd&&r.dom.drag.dragStartFlag&&(r.dom.drag.dragStartFlag=!1,r.dom.drag.event=null,r.dom.drag.onDragEnd.call(r,r.dataObj,t))}),n.addEventListener("contextmenu",function(t){t.preventDefault(),r&&r.dom.contextmenu&&r.dom.contextmenu.call(r,r.dataObj)})),dt.execute(),d},$t.SVGLayer=function(t){var e=new i,r=dt.addVdom(e),n=document.querySelector(t),o=n.clientHeight,a=n.clientWidth,s=document.createElementNS(Lt.svg,"svg");s.setAttribute("height",o),s.setAttribute("width",a),s.style.position="absolute",n.appendChild(s);var c=new Gt(s,{},h(),r);return c.type="SVG",e.root(c),dt.execute(),c},$t.queue=dt,$t.geometry=ut,$t.chain=n,$t})}).call(e,r(1)(t))}])});