!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("i2d",[],e):"object"==typeof exports?exports.i2d=e():t.i2d=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(i){if(r[i])return r[i].exports;var n=r[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,i){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=9)}([function(t,e,r){"use strict";(function(t){var i,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(o,a){"object"===n(t)&&t.exports?t.exports=a():void 0!==(i=function(){return a()}.call(e,r,e,t))&&(t.exports=i)}(0,function(){function t(t){function e(t,e){var r=1;if(0===e)return r;for(var i=1;i<=e;i+=1)r*=t;return r}function r(t,e){return Math.atan2(t,e)}function i(t){return Math.sqrt(t)}function n(t,e,r){var i={},n={};i.x=t.x+r.x-2*e.x,i.y=t.y+r.y-2*e.y,n.x=2*e.x-2*t.x,n.y=2*e.y-2*t.y;var o=4*(i.x*i.x+i.y*i.y),a=4*(i.x*n.x+i.y*n.y),s=n.x*n.x+n.y*n.y,h=2*Math.sqrt(o+a+s),c=Math.sqrt(o),l=2*o*c,u=2*Math.sqrt(s),f=a/c,p=(2*c+f+h)/(f+u);return p=isNaN(p)||Math.abs(p)===1/0?1:p,(l*h+c*a*(h-u)+(4*s*o-a*a)*Math.log(p))/(4*l)}function o(t,r){for(var n=0,o=f.bind(null,t,r),a=void 0,s=void 0,h=0;h<=1;h+=.001)a=o(h),s=o(h+.001),n+=.001*i(e((s.x-a.x)/.001,2)+e((s.y-a.y)/.001,2));return n}function a(t,r){var n=0;for(var o in t)n+=e(r[o]-t[o],2);if(isNaN(n))throw new Error("error");return i(n)}function s(t,e){return r(e.x-t.x,e.y-t.y)}function h(t,e){var r={};for(var i in t)r[i]=t[i]*e;return r}function c(t,e,r){var i=(t.y-e.y)/(t.x-e.x),n=t.x*r;return{x:n,y:(i*(n-e.x)+e.y)*r}}function l(t,e){var r=3*(t.cntrl1.x-t.p0.x),i=3*(t.cntrl2.x-t.cntrl1.x)-r,n=t.p1.x-t.p0.x-r-i,o=3*(t.cntrl1.y-t.p0.y),a=3*(t.cntrl2.y-t.cntrl1.y)-o;return{cx:r,bx:i,ax:n,cy:o,by:a,ay:t.p1.y-t.p0.y-o-a}}function u(t){if(t.length){for(var e=t,r=[],i=0;i<e.length;i+=1)if(-1!==["M","C","S","Q"].indexOf(e[i].type))r.push(e[i]);else if(-1!==["V","H","L","Z"].indexOf(e[i].type)){var n={x:(e[i].p0.x+e[i].p1.x)/2,y:(e[i].p0.y+e[i].p1.y)/2};r.push({p0:e[i].p0,cntrl1:n,cntrl2:n,p1:e[i].p1,type:"C",length:e[i].length})}else console.log("wrong cmd type");return r}}function f(t,r,i){var n=e(i,3),o=e(i,2);return{x:r.ax*n+r.bx*o+r.cx*i+t.x,y:r.ay*n+r.by*o+r.cy*i+t.y}}function p(t,e,r,i){return{x:(t.x-2*e.x+r.x)*i*i+(2*e.x-2*t.x)*i+t.x,y:(t.y-2*e.y+r.y)*i*i+(2*e.y-2*t.y)*i+t.y}}function d(t,e,r){return{x:t.x+(e.x-t.x)*r,y:t.y+(e.y-t.y)*r}}function y(t,e,r){return t+(e-t)*r}function g(t){for(var e=1/0,r=1/0,i=-1/0,n=-1/0,o=void 0,a=void 0,s=0;s<t.length;s+=1)if(o=t[s],-1!==["V","H","L"].indexOf(o.type))[o.p0?o.p0:t[s-1].p1,o.p1].forEach(function(t){t.x<e&&(e=t.x),t.x>i&&(i=t.x),t.y<r&&(r=t.y),t.y>n&&(n=t.y)});else if(-1!==["Q","C"].indexOf(o.type))for(var h=l(o),c=f.bind(null,o.p0,h),u=0,p=void 0;u<1;)p=c(u),u+=.05,p.x<e&&(e=p.x),p.x>i&&(i=p.x),p.y<r&&(r=p.y),p.y>n&&(n=p.y);else a=o.p0,a.x<e&&(e=a.x),a.x>i&&(i=a.x),a.y<r&&(r=a.y),a.y>n&&(n=a.y);return{x:e,y:r,width:i-e,height:n-r}}function x(t,e,r,i){var n={},o=t.x,a=t.y,s=e.x,h=e.y,c=Math.PI/180*r,l=Math.cos(-c),u=Math.sin(-c);return n.x=l*(o-s)+u*(a-h)+s,n.y=l*(a-h)-u*(o-s)+h,{x:l*(o-s)+u*(a-h)+s,y:l*(a-h)-u*(o-s)+h}}function v(t,e){var r={x:t.x,y:t.y},i={x:t.x+t.width,y:t.y},n={x:t.x,y:t.y+t.height},o={x:t.x+t.width,y:t.y+t.height},s=e.translate,h=e.rotate,c={x:h[1],y:h[2]},l=h[0];s&&s.length>0&&(c.x+=s[0],c.y+=s[1]),r=x(r,c,l,a(r,c)),i=x(i,c,l,a(i,c)),n=x(n,c,l,a(n,c)),o=x(o,c,l,a(o,c));var u=[r.x,i.x,n.x,o.x].sort(function(t,e){return t-e}),f=[r.y,i.y,n.y,o.y].sort(function(t,e){return t-e});return{x:u[0],y:f[0],width:u[3]-u[0],height:f[3]-f[0]}}function m(){}var b=function(){function t(t,e){var r=[],i=!0,n=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);i=!0);}catch(t){n=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=2*Math.PI,B=function(t,e,r,i,n,o,a){var s=t.x,h=t.y;return s*=e,h*=r,{x:i*s-n*h+o,y:n*s+i*h+a}},k=function(t,e){var r=4/3*Math.tan(e/4),i=Math.cos(t),n=Math.sin(t),o=Math.cos(t+e),a=Math.sin(t+e);return[{x:i-n*r,y:n+i*r},{x:o+a*r,y:a-o*r},{x:o,y:a}]},A=function(t,e,r,i){var n=t*i-e*r<0?-1:1,o=Math.sqrt(t*t+e*e),a=Math.sqrt(t*t+e*e),s=t*r+e*i,h=s/(o*a);return h>1&&(h=1),h<-1&&(h=-1),n*Math.acos(h)},S=function(t,r,i,n,o,a,s,h,c,l,u,f){var p=e(o,2),d=e(a,2),y=e(u,2),g=e(f,2),x=p*d-p*g-d*y;x<0&&(x=0),x/=p*g+d*y,x=Math.sqrt(x)*(s===h?-1:1);var v=x*o/a*f,m=x*-a/o*u,b=l*v-c*m+(t+i)/2,B=c*v+l*m+(r+n)/2,k=(u-v)/o,S=(f-m)/a,C=(-u-v)/o,O=(-f-m)/a,E=A(1,0,k,S),j=A(k,S,C,O);return 0===h&&j>0&&(j-=w),1===h&&j<0&&(j+=w),[b,B,E,j]},C=function(t){var r=t.px,i=t.py,n=t.cx,o=t.cy,a=t.rx,s=t.ry,h=t.xAxisRotation,c=void 0===h?0:h,l=t.largeArcFlag,u=void 0===l?0:l,f=t.sweepFlag,p=void 0===f?0:f,d=[];if(0===a||0===s)return[];var y=Math.sin(c*w/360),g=Math.cos(c*w/360),x=g*(r-n)/2+y*(i-o)/2,v=-y*(r-n)/2+g*(i-o)/2;if(0===x&&0===v)return[];a=Math.abs(a),s=Math.abs(s);var m=e(x,2)/e(a,2)+e(v,2)/e(s,2);m>1&&(a*=Math.sqrt(m),s*=Math.sqrt(m));var A=S(r,i,n,o,a,s,u,p,y,g,x,v),C=b(A,4),O=C[0],E=C[1],j=C[2],D=C[3],P=Math.max(Math.ceil(Math.abs(D)/(w/4)),1);D/=P;for(var T=0;T<P;T++)d.push(k(j,D)),j+=D;return d.map(function(t){var e=B(t[0],a,s,g,y,O,E),r=e.x,i=e.y,n=B(t[1],a,s,g,y,O,E),o=n.x,h=n.y,c=B(t[2],a,s,g,y,O,E);return{x1:r,y1:i,x2:o,y2:h,x:c.x,y:c.y}})};return m.prototype={pow:e,getAngle:s,getDistance:a,scaleAlongOrigin:h,scaleAlongPoint:c,linearTransitionBetweenPoints:d,bezierTransition:p,bezierLength:n,cubicBezierTransition:f,cubicBezierLength:o,cubicBezierCoefficients:l,arcToBezier:C,intermediateValue:y,getBBox:g,toCubicCurves:u,rotatePoint:x,rotateBBox:v},function(){return new m}()}return t})}).call(e,r(1)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";var i,n;"function"==typeof Symbol&&Symbol.iterator;!function(r,o){i=[],void 0!==(n=function(){return o()}.apply(e,i))&&(t.exports=n)}(0,function(){function t(t,e,r){this.executable=e,this.duration=e.duration?e.duration:0,this.currTime=Date.now(),this.lastTime=0-(e.delay?e.delay:0),this.loopTracker=0,this.loop=e.loop?e.loop:0,this.direction=e.direction,this.easying=r,this.end=e.end?e.end:null,"reverse"===this.direction?this.factor=1:this.factor=0}function e(t){return this.endExe=t,this}function r(t){if("function"!=typeof t)throw new Error("Wrong input");d.push(t),d.length>0&&!p&&this.startAnimeFrames()}function i(t){if("function"!=typeof t)throw new Error("Wrong input");var e=d.indexOf(t);-1!==e&&d.splice(e,1)}function n(e,r,i){u[u.length]=new t(e,r,i)}function o(){p||(p=window.requestAnimationFrame(h))}function a(){p&&(window.cancelAnimFrame(p),p=null)}function s(){this.vDoms=[]}function h(){p=window.requestAnimationFrame(h),m=[],v=0;for(var t=0;t<u.length;t+=1)y=u[t],g=Date.now(),y.lastTime+=g-y.currTime,y.currTime=g,y.lastTime<=y.duration&&y.lastTime>=0?(y.execute(x(y.factor-y.easying(y.lastTime,y.duration))),m[v++]=y):y.lastTime>y.duration?(y.execute(1-y.factor),y.loopTracker>=y.loop-1?y.end&&y.end():(y.loopTracker+=1,y.lastTime=0,"alternate"===y.direction?y.factor=1-y.factor:"reverse"===y.direction?y.factor=1:y.factor=0,m[v++]=y)):y.lastTime<y.duration?m[v++]=y:console.log("unknown");if(u=m,d.length>0)for(var e=0;e<d.length;e+=1)d[e](g);for(var r=0,i=f.length;r<i;r+=1)f[r].stateModified&&(f[r].execute(),f[r].stateModified=!1)}function c(){return l||(l=new s),l}var l=null,u=[],f=[],p=void 0,d=[];window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){return window.setTimeout(t,1e3/60)}}(),window.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t)}}(),t.prototype.execute=function(t){this.executable.run(t)},t.prototype.resetCallBack=function(t){"function"==typeof t&&(this.callBack=t)},s.prototype={startAnimeFrames:o,stopAnimeFrame:a,add:n,end:e,onRequestFrame:r,removeRequestFrameCall:i,destroy:function(){this.endExe&&this.endExe(),this.stopAnimeFrame()}},s.prototype.addVdom=function(t){return f.push(t),f.length-1},s.prototype.removeVdom=function(t){for(var e=0;e<f.length;e++)f[e]===t&&f.splice(e,1);console.log(f)},s.prototype.vDomChanged=function(t){f[t]&&(f[t].stateModified=!0)},s.prototype.execute=function(){p||(p=window.requestAnimationFrame(h))};var y=void 0,g=void 0,x=Math.abs,v=0,m=[];return c})},function(t,e,r){"use strict";(function(t){var i,n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(a,s){"object"===o(t)&&t.exports?t.exports=s(r(0)):(i=[r(0)],void 0!==(n=function(t){return s(t)}.apply(e,i))&&(t.exports=n))}(0,function(t){function e(t,e){return t/e}function r(t,e){var r=t/e;return 1-(1-r)*Math.sin(r*e*.002*Math.PI*2+Math.PI/2)/Math.exp(8*r)}function i(t,e){var r=t/e,i=r/100;return 1-(1-r)*Math.abs(Math.sin(r*e*i*Math.PI*2+Math.PI/2))/Math.exp(10*r)}function n(t,e){var r=t/e;return r*r}function o(t,e){var r=t/e;return r*(2-r)}function a(t,e){var r=t/e;return r<.5?2*r*r:(4-2*r)*r-1}function s(t,e){var r=t/e;return d.pow(r,3)}function h(t,e){var r=t/e;return(r-=1)*r*r+1}function c(t,e){var r=t/e;return r<.5?4*d.pow(r,3):(r-1)*(2*r-2)*(2*r-2)+1}function l(t,e){var r=t/e;return 1-Math.cos(r*Math.PI/2)}function u(t,e){var r=t/e;return Math.cos(r*Math.PI/2)}function f(t,e){var r=t/e;return(1-Math.cos(Math.PI*r))/2}function p(){function t(t){var p=void 0;if("function"==typeof t)return function(e,r){return t(e/r)};switch(t){case"easeOutQuad":p=o;break;case"easeInQuad":p=n;break;case"easeInOutQuad":p=a;break;case"easeInCubic":p=s;break;case"easeOutCubic":p=h;break;case"easeInOutCubic":p=c;break;case"easeInSin":p=l;break;case"easeOutSin":p=u;break;case"easeInOutSin":p=f;break;case"bounce":p=i;break;case"linear":p=e;break;case"elastic":p=r;break;default:p=e}return p}return t}var d=t("2D");return p})}).call(e,r(1)(t))},function(t,e,r){"use strict";(function(t){var i,n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(a,s){"object"===o(t)&&t.exports?t.exports=s(r(3),r(2)):(i=[r(3),r(2)],void 0!==(n=function(t,e){return s(t,e)}.apply(e,i))&&(t.exports=n))}(0,function(t,e){function r(){return g+=1}function i(){return x+=1}function n(t){return this.easying=v(t),this.transition=t,this}function o(t){if(1!==arguments.length)throw new Error("arguments mis match");return this.durationP=t,this}function a(t){if(1!==arguments.length)throw new Error("arguments mis match");return this.loopValue=t,this}function s(t){if(1!==arguments.length)throw new Error("arguments mis match");return this.directionV=t,this}function h(t){if(1!==arguments.length)throw new Error("arguments mis match");return this.data=t,"CANVAS"===this.data.nodeName&&(this.canvasStack=[]),this}function c(t){return"function"!=typeof t?null:(this.callbckExe=t,this)}function l(t){return this.resetV=t,this}function u(t){return this.end=t,this}function f(t){return this.endExe=t,this}function p(){this.start()}function d(){this.queue=e(),this.sequenceQueue=[],this.lengthV=0,this.currPos=0,this.ID=r(),this.loopCounter=0}function y(){this.queue=e(),this.group=[],this.currPos=0,this.ID=r(),this.loopCounter=1}var g=0,x=0,v=t();d.prototype={duration:o,loop:a,callbck:c,bind:h,child:u,ease:n,end:f,commit:p,reset:l,direction:s},d.prototype.add=function(t){var e=this;return Array.isArray(t)||(t=[t]),t.map(function(t){return e.lengthV+=t.length?t.length:0,t}),this.sequenceQueue=this.sequenceQueue.concat(t),this},d.prototype.easyingGlobal=function(t,e){return t/e},d.prototype.start=function(){var t=this;if("alternate"===t.directionV)t.factor=t.factor?-1*t.factor:1,t.currPos=t.factor<0?this.sequenceQueue.length-1:0;else if("reverse"===t.directionV){for(var e=0;e<this.sequenceQueue.length;e+=1){var r=this.sequenceQueue[e];r instanceof d||r instanceof y||r.run(1),t.currPos=e}t.factor=-1}else t.currPos=0,t.factor=1;this.execute()},d.prototype.execute=function(){var t=this,e=this.sequenceQueue[t.currPos];if(e)return e instanceof d||e instanceof y?e.end(t.triggerEnd.bind(t,e)).commit():(this.currObj=e,this.queue.add(i(),{run:function(t){e.run(t)},duration:void 0!==e.duration?e.duration:t.durationP,direction:t.factor<0?"reverse":"default",end:t.triggerEnd.bind(t,e)},function(t,e){return t/e})),this},d.prototype.triggerEnd=function(t){var e=this;if(e.currPos+=e.factor,t.end&&e.triggerChild(t),e.sequenceQueue.length===e.currPos||e.currPos<0)return e.endExe&&e.endExe(),e.end&&e.triggerChild(e),e.loopCounter+=1,void(e.loopCounter<e.loopValue&&e.start());this.execute()},d.prototype.triggerChild=function(t){t.end instanceof y||t.end instanceof d?setTimeout(function(){t.end.commit()},0):t.end()},y.prototype={duration:o,loop:a,callbck:c,bind:h,child:u,ease:n,end:f,commit:p,direction:s},y.prototype.add=function(t){var e=this;return Array.isArray(t)||(t=[t]),this.group=this.group.concat(t),this.group.forEach(function(t){t.durationP=t.durationP?t.durationP:e.durationP}),this},y.prototype.execute=function(){var t=this;return t.currPos=0,t.group.forEach(function(e,r){var n=e;n instanceof d||n instanceof y?n.end(t.triggerEnd.bind(t,n)).commit():t.queue.add(i(),{run:function(t){e.run(t)},duration:void 0!==n.duration?n.duration:t.durationP,loop:1,direction:t.factor<0?"reverse":"default",end:t.triggerEnd.bind(t,n)},t.easying)}),t},y.prototype.start=function(){var t=this;"alternate"===t.directionV?t.factor=t.factor?-1*t.factor:1:"reverse"===t.directionV?t.factor=-1:t.factor=1,this.execute()},y.prototype.triggerEnd=function(t){var e=this;this.currPos+=1,t.end&&this.triggerChild(t.end),this.currPos===this.group.length&&(this.endExe&&this.triggerChild(this.endExe),this.end&&this.triggerChild(this.end),e.loopCounter+=1,e.loopCounter<e.loopValue&&e.start())},y.prototype.triggerChild=function(t){t instanceof y||t instanceof d?t.commit():"function"==typeof t?t():console.log("wrong type")};var m={};return m.sequenceChain=function(){return new d},m.parallelChain=function(){return new y},m})}).call(e,r(1)(t))},function(t,e,r){"use strict";(function(t){var i,n,o=function(){function t(t,e){var r=[],i=!0,n=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);i=!0);}catch(t){n=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(o,s){"object"===a(t)&&t.exports?t.exports=s(r(0)):(i=[r(0)],void 0!==(n=function(t){return s(t)}.apply(e,i))&&(t.exports=n))}(0,function(t){function e(){}function r(t,e){var r=0,i=0,n=1,a=1,s=e;if(t.attr.transform&&t.attr.transform.translate){var h=o(t.attr.transform.translate,2);r=h[0],i=h[1],s.x-=r,s.y-=i}if(t.attr.transform&&t.attr.transform.scale&&(n=void 0!==t.attr.transform.scale[0]?t.attr.transform.scale[0]:1,a=void 0!==t.attr.transform.scale[1]?t.attr.transform.scale[1]:n,s.x/=n,s.y/=a),t.attr.transform&&t.attr.transform.rotate){var c=t.attr.transform.rotate[0],l=(t.dom.BBox,{x:t.attr.transform.rotate[1],y:t.attr.transform.rotate[2]}),u=s.x,f=s.y,p=l.x,d=l.y,y=Math.PI/180*c,g=Math.cos(y),x=Math.sin(y);s.x=g*(u-p)+x*(f-d)+p,s.y=g*(f-d)-x*(u-p)+d}}t("2D");return e.prototype.execute=function(){this.root.execute(),this.stateModified=!1},e.prototype.root=function(t){this.root=t,this.stateModified=!0},e.prototype.eventsCheck=function(t,e){for(var i=this,n=void 0,o=void 0,a=0;a<=t.length-1;a+=1){var s=t[a],h={x:e.x,y:e.y};r(s,h),s.in({x:h.x,y:h.y})&&(s.children&&s.children.length>0?(o=i.eventsCheck(s.children,{x:h.x,y:h.y}))&&(n=o):n=s)}return n},e.prototype.transformCoOr=r,function(){return new e}})}).call(e,r(1)(t))},function(t,e,r){"use strict";var i,n;"function"==typeof Symbol&&Symbol.iterator;!function(r,o){i=[],void 0!==(n=function(){return o()}.apply(e,i))&&(t.exports=n)}(0,function(){function t(t){for(var e=t.replace(/[^0-9\.,]+/g,"").split(","),r={},i=["r","g","b","a"],n=0;n<e.length;n+=1)r[i[n]]=parseFloat(e[n]);return r}function e(t){for(var e=rgb.replace(/[^0-9\.,]+/g,"").split(","),r={},i=["h","s","l","a"],n=0;n<e.length;n+=1)r[i[n]]=e[n];return r}for(var r=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],i=["f0f8ff","faebd7","00ffff","7fffd4","f0ffff","f5f5dc","ffe4c4","000000","ffebcd","0000ff","8a2be2","a52a2a","deb887","5f9ea0","7fff00","d2691e","ff7f50","6495ed","fff8dc","dc143c","00ffff","00008b","008b8b","b8860b","a9a9a9","a9a9a9","006400","bdb76b","8b008b","556b2f","ff8c00","9932cc","8b0000","e9967a","8fbc8f","483d8b","2f4f4f","2f4f4f","00ced1","9400d3","ff1493","00bfff","696969","696969","1e90ff","b22222","fffaf0","228b22","ff00ff","dcdcdc","f8f8ff","ffd700","daa520","808080","808080","008000","adff2f","f0fff0","ff69b4","cd5c5c","4b0082","fffff0","f0e68c","e6e6fa","fff0f5","7cfc00","fffacd","add8e6","f08080","e0ffff","fafad2","d3d3d3","d3d3d3","90ee90","ffb6c1","ffa07a","20b2aa","87cefa","778899","778899","b0c4de","ffffe0","00ff00","32cd32","faf0e6","ff00ff","800000","66cdaa","0000cd","ba55d3","9370db","3cb371","7b68ee","00fa9a","48d1cc","c71585","191970","f5fffa","ffe4e1","ffe4b5","ffdead","000080","fdf5e6","808000","6b8e23","ffa500","ff4500","da70d6","eee8aa","98fb98","afeeee","db7093","ffefd5","ffdab9","cd853f","ffc0cb","dda0dd","b0e0e6","800080","663399","ff0000","bc8f8f","4169e1","8b4513","fa8072","f4a460","2e8b57","fff5ee","a0522d","c0c0c0","87ceeb","6a5acd","708090","708090","fffafa","00ff7f","4682b4","d2b48c","008080","d8bfd8","ff6347","40e0d0","ee82ee","f5deb3","ffffff","f5f5f5","ffff00","9acd32"],n={},o=0;o<r.length;o+=1)n[r[o]]=i[o];var a={};return a.nameToHex=function(t){return n[t]?"#"+n[t]:"#000"},a.hexToRgb=function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,r,i){return e+e+r+r+i+i});var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}:null},a.rgbToHex=function(t){var e=t.substring(t.lastIndexOf("(")+1,t.lastIndexOf(")")).split(",");return"#"+((1<<24)+(parseInt(e[0],10)<<16)+(parseInt(e[1],10)<<8)+parseInt(e[2],10)).toString(16).slice(1)},a.hslToRgb=function(t){var e=void 0,r=void 0,i=void 0,n=void 0,o=function(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t},a=NaN;return e=o(NaN,a,NaN),r=o(NaN,a,n),i=o(NaN,a,NaN),{r:Math.round(255*e),g:Math.round(255*r),b:Math.round(255*i)}},a.transition=function(r,i){return r=r||"rgb(0,0,0)",i=i||"rgb(0,0,0)",r=r.startsWith("#")?this.hexToRgb(r):r.startsWith("rgb")?t(r):r.startsWith("hsl")?e(r):{r:0,g:0,b:0},i=i.startsWith("#")?this.hexToRgb(i):i.startsWith("rgb")?t(i):i.startsWith("hsl")?e(i):{r:0,g:0,b:0},function(t){return"rgb("+Math.round(r.r+(i.r-r.r)*t)+","+Math.round(r.g+(i.g-r.g)*t)+","+Math.round(r.b+(i.b-r.b)*t)+")"}},a})},function(t,e,r){"use strict";(function(t){var i,n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(a,s){"object"===o(t)&&t.exports?t.exports=s(r(0)):(i=[r(0)],void 0!==(n=function(t){return s(t)}.apply(e,i))&&(t.exports=n))}(0,function(t){function e(t){var e=t.replace(/e-/g,"$");e=e.replace(/ /g,","),e=e.replace(/-/g,",-"),e=e.split(/([a-zA-Z,])/g).filter(function(t){return""!==t&&","!==t}).map(function(t){return t.replace(/\$/g,"e-")});for(var r=0;r<e.length;r+=1)if(e[r].split(".").length>2){for(var i=e[r].split("."),n=[i[0]+"."+i[1]],o=2;o<i.length;o+=1)n.push("."+i[o]);e.splice(r,1,n[0],n[1])}return e}function r(t,e){return{x:t.x+e.x,y:t.y+e.y}}function i(t,e){return{x:t.x-e.x,y:t.y-e.y}}function n(){return{x:parseFloat(this.pathArr[this.currPathArr+=1]),y:parseFloat(this.pathArr[this.currPathArr+=1])}}function o(t,e,r){return t?r:e}function a(t,e){var i=o(t,this.pp?this.pp:{x:0,y:0},{x:0,y:0});return this.cp=r(e,i),this.start=this.cp,this.segmentLength=0,this.length=this.segmentLength,0!==this.currPathArr&&this.pp?(this.stackGroup.push(this.stack),this.stack=[]):this.stackGroup.push(this.stack),this.stack.push({type:"M",p0:this.cp,length:this.segmentLength,pointAt:function(t){return this.p0}}),this.pp=this.cp,this}function s(t,e){var i=o(t,this.pp,{x:this.pp.x,y:0});return this.cp=r(e,i),this.segmentLength=g.getDistance(this.pp,this.cp),this.stack.push({type:"V",p0:this.pp,p1:this.cp,length:this.segmentLength,pointAt:function(t){return g.linearTransitionBetweenPoints(this.p0,this.p1,t)}}),this.length+=this.segmentLength,this.pp=this.cp,this}function h(t,e){var i=o(t,this.pp,{x:0,y:0});return this.cp=r(e,i),this.segmentLength=g.getDistance(this.pp,this.cp),this.stack.push({type:"L",p0:this.pp,p1:this.cp,length:this.segmentLength,pointAt:function(t){return g.linearTransitionBetweenPoints(this.p0,this.p1,t)}}),this.length+=this.segmentLength,this.pp=this.cp,this}function c(t,e){var i=o(t,this.pp,{x:0,y:this.pp.y});return this.cp=r(e,i),this.segmentLength=g.getDistance(this.pp,this.cp),this.stack.push({type:"H",p0:this.pp,p1:this.cp,length:this.segmentLength,pointAt:function(t){return g.linearTransitionBetweenPoints(this.p0,this.p1,t)}}),this.length+=this.segmentLength,this.pp=this.cp,this}function l(){return this.cp=this.start,this.segmentLength=g.getDistance(this.pp,this.cp),this.stack.push({p0:this.pp,p1:this.cp,type:"Z",length:this.segmentLength,pointAt:function(t){return g.linearTransitionBetweenPoints(this.p0,this.p1,t)}}),this.length+=this.segmentLength,this.pp=this.cp,this}function u(t,e,i){var n=o(t,this.pp,{x:0,y:0}),a=r(e,n),s=r(i,n);return this.cp=s,this.segmentLength=g.bezierLength(this.pp,a,this.cp),this.cp=s,this.stack.push({type:"Q",p0:this.pp,cntrl1:a,cntrl2:a,p1:this.cp,length:this.segmentLength,pointAt:function(t){return g.bezierTransition(this.p0,this.cntrl1,this.p1,t)}}),this.length+=this.segmentLength,this.pp=this.cp,this}function f(t,e,i,n){var a=o(t,this.pp,{x:0,y:0}),s=r(e,a),h=r(i,a),c=r(n,a),l=g.cubicBezierCoefficients({p0:this.pp,cntrl1:s,cntrl2:h,p1:c});return this.cntrl=h,this.cp=c,this.segmentLength=g.cubicBezierLength(this.pp,l),this.stack.push({type:"C",p0:this.pp,cntrl1:s,cntrl2:h,p1:this.cp,length:this.segmentLength,co:l,pointAt:function(t){return g.cubicBezierTransition(this.p0,this.co,t)}}),this.length+=this.segmentLength,this.pp=this.cp,this}function p(t,e,n){var a=o(t,this.pp,{x:0,y:0}),s=r(this.pp,i(this.pp,this.cntrl?this.cntrl:this.pp)),h=r(e,a),c=r(n,a);this.cp=c;var l=g.cubicBezierCoefficients({p0:this.pp,cntrl1:s,cntrl2:h,p1:this.cp});return this.segmentLength=g.cubicBezierLength(this.pp,l),this.stack.push({type:"S",p0:this.pp,cntrl1:s,cntrl2:h,p1:this.cp,length:this.segmentLength,pointAt:function(t){return g.cubicBezierTransition(this.p0,this.co,t)}}),this.length+=this.segmentLength,this.pp=this.cp,this}function d(t,e,i,n,a,s,h){var c=o(t,this.pp,{x:0,y:0}),l=this,u=r(h,c);this.cp=u;var f=g.arcToBezier({px:this.pp.x,py:this.pp.y,cx:u.x,cy:u.y,rx:e,ry:i,xAxisRotation:n,largeArcFlag:a,sweepFlag:s});return f.forEach(function(t,e){var r=0===e?l.pp:{x:f[0].x,y:f[0].y},i={x:t.x1,y:t.y1},n={x:t.x2,y:t.y2},o={x:t.x,y:t.y},a=g.cubicBezierLength(r,g.cubicBezierCoefficients({p0:r,cntrl1:i,cntrl2:n,p1:o}));l.stack.push({type:"C",p0:r,cntrl1:i,cntrl2:n,p1:o,length:a,pointAt:function(t){return g.bezierTransition(this.p0,this.cntrl1,this.cntrl2,this.p1,t)}}),l.length+=a}),this.pp=this.cp,this}function y(t){this.stack=[],this.length=0,this.stackGroup=[],t&&(this.path=t,this.parse())}var g=t("2D");return y.prototype={z:l,m:a,v:s,h:c,l:h,q:u,s:p,c:f,a:d,fetchXY:n},y.prototype.parse=function(){for(this.currPathArr=-1,this.stack=[],this.length=0,this.pathArr=e(this.path),this.stackGroup=[];this.currPathArr<this.pathArr.length-1;)this.case(this.pathArr[this.currPathArr+=1]);return this.stack},y.prototype.fetchPathString=function(){for(var t="",e=void 0,r=0;r<this.stack.length;r++)e=this.stack[r],"M"===e.type?t+=e.type+" "+e.p0.x+","+e.p0.y+" ":"Z"===e.type?t+="z":"C"===e.type?t+=e.type+" "+e.cntrl1.x+","+e.cntrl1.y+" "+e.cntrl2.x+","+e.cntrl2.y+" "+e.p1.x+","+e.p1.y+" ":"Q"===e.type?t+=e.type+" "+e.cntrl1.x+","+e.cntrl1.y+" "+e.p1.x+","+e.p1.y+" ":"S"===e.type?t+=e.type+" "+e.cntrl2.x+","+e.cntrl2.y+" "+e.p1.x+","+e.p1.y+" ":"V"===e.type?t+=e.type+" "+e.p1.y+" ":"H"===e.type?t+=e.type+" "+e.p1.x+" ":"L"===e.type&&(t+=e.type+" "+e.p1.x+","+e.p1.y+" ");return t},y.prototype.getTotalLength=function(){return this.length},y.prototype.getAngleAtLength=function(t,e){if(t>this.length)return null;var r=this.getPointAtLength(t),i=this.getPointAtLength(t+("src"===e?-1*t*.01:.01*t));return Math.atan2(i.y-r.y,i.x-r.x)},y.prototype.getPointAtLength=function(t){var e={x:0,y:0},r=t;return this.stack.every(function(t,i){return r-=t.length,Math.floor(r)>=0||(e=t.pointAt((t.length+r)/(0===t.length?1:t.length)),!1)}),e},y.prototype.isValid=function(t){return-1!==["m","M","v","V","l","L","h","H","q","Q","c","C","s","S","a","A","z","Z"].indexOf(t)},y.prototype.case=function(t){var e=t;switch(this.isValid(e)?this.PC=e:(e=this.PC,this.currPathArr=this.currPathArr-1),e){case"m":this.m(!1,this.fetchXY());break;case"M":this.m(!0,this.fetchXY());break;case"v":this.v(!1,{x:0,y:parseFloat(this.pathArr[this.currPathArr+=1])});break;case"V":this.v(!0,{x:0,y:parseFloat(this.pathArr[this.currPathArr+=1])});break;case"l":this.l(!1,this.fetchXY());break;case"L":this.l(!0,this.fetchXY());break;case"h":this.h(!1,{x:parseFloat(this.pathArr[this.currPathArr+=1]),y:0});break;case"H":this.h(!0,{x:parseFloat(this.pathArr[this.currPathArr+=1]),y:0});break;case"q":this.q(!1,this.fetchXY(),this.fetchXY());break;case"Q":this.q(!0,this.fetchXY(),this.fetchXY());break;case"c":this.c(!1,this.fetchXY(),this.fetchXY(),this.fetchXY());break;case"C":this.c(!0,this.fetchXY(),this.fetchXY(),this.fetchXY());break;case"s":this.s(!1,this.fetchXY(),this.fetchXY());break;case"S":this.s(!0,this.fetchXY(),this.fetchXY());break;case"a":var r=parseFloat(this.pathArr[this.currPathArr+=1]),i=parseFloat(this.pathArr[this.currPathArr+=1]),n=parseFloat(this.pathArr[this.currPathArr+=1]),o=parseFloat(this.pathArr[this.currPathArr+=1]),a=parseFloat(this.pathArr[this.currPathArr+=1]);this.a(!1,r,i,n,o,a,this.fetchXY());break;case"A":r=parseFloat(this.pathArr[this.currPathArr+=1]),i=parseFloat(this.pathArr[this.currPathArr+=1]),n=parseFloat(this.pathArr[this.currPathArr+=1]),o=parseFloat(this.pathArr[this.currPathArr+=1]),a=parseFloat(this.pathArr[this.currPathArr+=1]),this.a(!0,r,i,n,o,a,this.fetchXY());break;case"z":this.z()}},{instance:function(t){return new y(t)},isTypePath:function(t){return t instanceof y}}})}).call(e,r(1)(t))},function(t,e,r){"use strict";(function(t){var r,i,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(o,a){"object"===n(t)&&t.exports?t.exports=a():(r=[],void 0!==(i=function(){return a()}.apply(e,r))&&(t.exports=i))}(0,function(){function t(t){var e=void 0;switch(t){case"rect":e={vertexShader:"#version 300 es\n                    in vec2 a_position;\n                    in vec4 a_color;\n                    uniform vec2 u_resolution;\n                    out vec4 v_color;\n\n                    void main() {\n                    vec2 zeroToOne = a_position / u_resolution;\n                    vec2 zeroToTwo = zeroToOne * 2.0;\n                    vec2 clipSpace = zeroToTwo - 1.0;\n                    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\n                    v_color = a_color;\n                    }\n                    ",fragmentShader:"#version 300 es\n                    precision mediump float;\n                    in vec4 v_color;\n                    out vec4 outColor;\n                    void main() {\n                        outColor = v_color;\n                    }\n                    "};break;case"point":e={vertexShader:"#version 300 es\n          in vec2 a_position;\n          in vec4 a_color;\n          uniform vec2 u_resolution;\n          out vec4 v_color;\n          void main() {\n            vec2 zeroToOne = a_position / u_resolution;\n            vec2 zeroToTwo = zeroToOne * 2.0;\n            vec2 clipSpace = zeroToTwo - 1.0;\n\n            gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\n            gl_PointSize = 1.0;\n            v_color = a_color;\n          }\n          ",fragmentShader:"#version 300 es\n                    precision mediump float;\n                    in vec4 v_color;\n                    out vec4 outColor;\n                    void main() {\n                        outColor = v_color;\n                    }\n                    "};break;default:e={vertexShader:"#version 300 es\n                    in vec2 a_position;\n                    in vec4 a_color;\n                    uniform vec2 u_resolution;\n                    out vec4 v_color;\n\n                    void main() {\n                    vec2 zeroToOne = a_position / u_resolution;\n                    vec2 zeroToTwo = zeroToOne * 2.0;\n                    vec2 clipSpace = zeroToTwo - 1.0;\n                    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\n                    v_color = a_color;\n                    }\n                    ",fragmentShader:"#version 300 es\n                    precision mediump float;\n                    in vec4 v_color;\n                    out vec4 outColor;\n                    void main() {\n                        outColor = v_color;\n                    }\n                    "}}return e}return t})}).call(e,r(1)(t))},function(t,e,r){"use strict";(function(t){var i,n,o=function(){function t(t,e){var r=[],i=!0,n=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);i=!0);}catch(t){n=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(o,s){"object"===a(t)&&t.exports?t.exports=s(r(0),r(2),r(3),r(4),r(5),r(6),r(7),r(8)):(i=[r(0),r(2),r(3),r(4),r(5),r(6),r(7),r(8)],void 0!==(n=function(t,e,r,i,n,o,a,h){return s(t,e,r,i,n,o,a,h)}.apply(e,i))&&(t.exports=n))}(0,function(t,e,r,i,n,s,h,c){function l(){return it+=1}function u(){return nt+=1}function f(t,e){for(var r=void 0,i=[],n=0;n<this.stack.length;n+=1)r=this.stack[n],i.push(r.fetchEls(t,e));var o=new X;return o.wrapper(i),o}function p(t,e){var r=[],i=new X;if(this.children.length>0)if("."===t.charAt(0)){var n=t.substring(1,t.length);this.children.forEach(function(t){(e&&t.dataObj&&-1!==e.indexOf(t.dataObj)&&t.attr.class===n||!e&&t.attr.class===n)&&r.push(t)})}else if("#"===t.charAt(0)){var o=t.substring(1,t.length);this.children.every(function(t){return!(e&&t.dataObj&&-1!==e.indexOf(t.dataObj)&&t.attr.id===o||!e&&t.attr.id===o)||(r.push(t),!1)})}else this.children.forEach(function(i){(e&&i.dataObj&&-1!==e.indexOf(i.dataObj)&&i.nodeName===t||!e&&i.nodeName===t)&&r.push(i)});return i.wrapper(r)}function d(t,e){var r=void 0;if(this.children.length>0)if("."===t.charAt(0)){var i=t.substring(1,t.length);this.children.every(function(t){return!(e&&t.dataObj&&e===t.dataObj&&t.attr.class===i||!e&&t.attr.class===i)||(r=t,!1)})}else if("#"===t.charAt(0)){var n=t.substring(1,t.length);this.children.every(function(t){return!(e&&t.dataObj&&e===t.dataObj&&t.attr.id===n||!e&&t.attr.id===n)||(r=t,!1)})}else this.children.forEach(function(i){(e&&i.dataObj&&e===i.dataObj&&i.nodeName===t||!e&&i.nodeName===t)&&(r=i)});return r}function y(t,e,r){for(var i=void 0,n=[],o=0;o<this.stack.length;o+=1)i=this.stack[o],n.push(i.join(t,e,r));var a=new X;return a.wrapper(n),a}function g(t){for(var e=void 0,r=[],i=0,n=this.stack.length;i<n;i+=1){var o={};if(e=this.stack[i],"function"==typeof t)o=t.call(e,e.dataObj,i);else for(var s=Object.keys(t),h=0,c=s.length;h<c;h+=1){var l=s[h];"object"!==a(t[l])?o[l]=t[l]:o[l]=JSON.parse(JSON.stringify(t[l]))}r.push(e.createEl(o))}var u=new X;return u.wrapper(r),u}function x(t,e){for(var r=void 0,i=[],n=t,o=0,a=this.stack.length;o<a;o+=1){var s={};if(r=this.stack[o],"function"==typeof t&&(n=t.call(r,r.dataObj,o)),"function"==typeof e)s=e.call(r,r.dataObj,o);else for(var h=Object.keys(e),c=0,l=h.length;c<l;c+=1){var u=h[c];s[u]=e[u]}i.push(r.createEls(n,s))}var f=new X;return f.wrapper(i),f}function v(t){for(var e=0,r=this.stack.length;e<r;e+=1)t.call(this.stack[e],this.stack[e].dataObj,e);return this}function m(t,e){for(var r=void 0,i=0,n=this.stack.length;i<n;i+=1)if(r=this.stack[i],arguments.length>1)"function"==typeof e?r.setAttr(t,e.call(r,r.dataObj,i)):r.setAttr(t,e);else if("function"==typeof t)r.setAttr(t.call(r,r.dataObj,i));else for(var o=Object.keys(t),a=0,s=o.length;a<s;a+=1){var h=o[a];"function"==typeof t[h]?r.setAttr(h,t[h].call(r,r.dataObj,i)):r.setAttr(h,t[h])}return this}function b(t,e){for(var r=void 0,i=0,n=this.stack.length;i<n;i+=1)if(r=this.stack[i],arguments.length>1)"function"==typeof e?r.setStyle(t,e.call(r,r.dataObj,i)):r.setStyle(t,e);else{if("function"==typeof t)r.setStyle(t.call(r,r.dataObj,i));else for(var o=Object.keys(t),a=0,s=o.length;a<s;a+=1){var h=o[a];"function"==typeof t[h]?r.setStyle(h,t[h].call(r,r.dataObj,i)):r.setStyle(h,t[h])}"function"==typeof t?r.setStyle(t.call(r,r.dataObj,i)):r.setStyle(t)}return this}function w(t){for(var e=void 0,r=0,i=this.stack.length;r<i;r+=1)e=this.stack[r],"function"==typeof t?e.translate(t.call(e,e.dataObj,r)):e.translate(t);return this}function B(t){for(var e=void 0,r=0,i=this.stack.length;r<i;r+=1)e=this.stack[r],"function"==typeof t?e.rotate(t.call(e,e.dataObj,r)):e.rotate(t);return this}function k(t){for(var e=void 0,r=0,i=this.stack.length;r<i;r+=1)e=this.stack[r],"function"==typeof t?e.scale(t.call(e,e.dataObj,r)):e.scale(t);return this}function A(t,e){for(var r=0,i=this.stack.length;r<i;r+=1)this.stack[r].on(t,e);return this}function S(){for(var t=0,e=this.stack.length;t<e;t+=1)this.stack[t].remove();return this}function C(t,e){this[t]=e}function O(t,e,r){for(var i=t.map(r),n={new:[],update:[],old:[]},o=0;o<e.length;o+=1){var a=i.indexOf(r(e[o].dataObj,o));-1!==a?(e[o].dataObj=t[a],n.update.push(e[o]),i[a]=null):n.old.push(e[o])}return n.new=t.filter(function(t,e){var n=i.indexOf(r(t,e));return-1!==n&&(i[n]=null,!0)}),n}function E(t,e,r){var i=this,n=e.split(","),o=r.joinCond,a={new:{},update:{},old:{}};o||(o=function(t,e){return e});for(var s=0,h=n.length;s<h;s++){var c=n[s],l=i.fetchEls(c),u=O(t,l.stack,o);a.new[c]=u.new,a.update[c]=(new X).wrapper(u.update),a.old[c]=(new X).wrapper(u.old)}return r.action&&(r.action.enter&&r.action.enter.call(i,a.new),r.action.exit&&r.action.exit.call(i,a.old),r.action.update&&r.action.update.call(i,a.update)),at.action={value:r.action,enumerable:!1,configurable:!0,writable:!1},at.selector={value:e,enumerable:!1,configurable:!0,writable:!1},at.data={value:t,enumerable:!1,configurable:!0,writable:!1},Object.create(i,at)}function j(t,e,r){for(var i={},n=Object.keys(t),o=0;o<n.length;o+=1){var a=n[o];"attr"!==a&&"style"!==a&&"end"!==a&&("function"==typeof t[a]?i[a]=t[a].call(e,e.dataObj,r):i[a]=t[a])}return i}function D(t,e,r){this.config=t,this.type=e||"linear",this.pDom=r}function P(t,e){var r=null;switch(t.el){case"group":r=At("g");break;default:r=At(t.el)}var i=new St(r,t,l(),e);return t.dataObj&&(r.dataObj=t.dataObj),i}function T(t){var e=this;if(t.transform){var r=t.transform,i=r.scale&&r.scale.length>0?r.scale[0]:1,n=r.scale&&r.scale.length>1?r.scale[1]:i||1,o=r.skewX?r.skewX[0]:0,a=r.skewY?r.skewY[0]:0,s=r.translate&&r.translate.length>0?r.translate[0]:0,h=r.translate&&r.translate.length>1?r.translate[1]:s||0;e.ctx.transform(i,o,a,n,s,h),r.rotate&&(e.ctx.translate(r.rotate[1],r.rotate[2]),e.ctx.rotate(r.rotate[0]*(Math.PI/180)),e.ctx.translate(-r.rotate[1],-r.rotate[2]))}for(var c=0;c<e.stack.length;c+=1)e.stack[c].execute()}function M(t,e){void 0!==e?this.attr[t]=e:delete this.attr[t]}function I(t,e){void 0!==e?this.style[t]=e:delete this.style[t]}function L(t,e){this.config=t,this.type=e||"linear",this.mode=this.config.mode&&"percent"!==this.config.mode?"absolute":"percent"}function G(t){return new L(t,"linear")}function F(t){return new L(t,"radial")}function N(t,e,r,i,n){this.pixels=t,this.width=e,this.height=r,this.x=i,this.y=n}function z(t){return t((this.rImageObj?this.rImageObj:this.imageObj).getContext("2d").getImageData(0,0,this.attr.width,this.attr.height))}function R(t,e){var r=document.createElement("canvas");return r.setAttribute("height",e),r.setAttribute("width",t),r.style.height=e+"px",r.style.width=t+"px",r}function q(t,e){}function _(){this.style.fillStyle&&this.ctx.fill(),this.style.strokeStyle&&this.ctx.stroke()}function V(){this.BBox={x:0,y:0,width:0,height:0},this.BBoxHit={x:0,y:0,width:0,height:0}}function H(t,e,r,i,n,o){var a=this;a.ctx=t,a.attr=e,a.style=r,a.nodeName="Image",a.image=new Image,a.image.onload=function(){if(this.crossOrigin="anonymous",a.attr.height=a.attr.height?a.attr.height:this.height,a.attr.width=a.attr.width?a.attr.width:this.width,Dt[a.attr.src])a.imageObj=Dt[a.attr.src];else{var t=R(this.width,this.height);t.getContext("2d").drawImage(this,0,0,this.width,this.height),a.imageObj=t,Dt[a.attr.src]=t}if(a.attr.clip){var e=void 0,r=a.attr,n=r.clip,s=r.width,h=r.height,c=n.sx,l=n.sy,u=n.swidth,f=n.sheight;this.rImageObj||(a.rImageObj=R(a.attr.width,a.attr.height)),e=a.rImageObj.getContext("2d"),c=void 0!==c?c:0,l=void 0!==l?l:0,u=void 0!==u?u:s,f=void 0!==f?f:h,e.drawImage(a.imageObj,c,l,u,f,0,0,s,h)}if(a.attr.pixels){var p=void 0,d=a.attr,y=d.width,g=d.height;a.rImageObj||(a.rImageObj=R(a.attr.width,a.attr.height),p=a.rImageObj.getContext("2d"),p.drawImage(a.imageObj,0,0,y,g)),p=a.rImageObj.getContext("2d"),p.putImageData(z.call(a,a.attr.pixels),0,0)}i&&"function"==typeof i&&i.call(o),a.nodeExe.BBoxUpdate=!0,rt.vDomChanged(a.nodeExe.vDomIndex)},a.image.onerror=function(){n&&"function"==typeof n&&n.call(o)},a.attr.src&&(a.image.src=a.attr.src),rt.vDomChanged(o.vDomIndex),a.stack=[a]}function Y(t,e,r){var i=this;i.ctx=t,i.attr=e,i.style=r,i.nodeName="text",i.stack=[i]}function W(t){var e=new Path2D,r=t,i=[];r=r.replace(/,/g," ").split(" "),e.moveTo(r[0],r[1]),i.push({x:parseFloat(r[0]),y:parseFloat(r[1])});for(var n=2;n<r.length;n+=2)e.lineTo(r[n],r[n+1]),i.push({x:parseFloat(r[n]),y:parseFloat(r[n+1])});return e.closePath(),{path:e,points:i}}function X(t,e,r,i){e||(e=[]);var n=void 0,o=void 0,a=r&&r.attr?Object.keys(r.attr):[],s=r&&r.style?Object.keys(r.style):[],h=!r||(void 0===r.bbox||r.bbox);return this.stack=e.map(function(e,c){var u=void 0;"SVG"===t.type?u=P({el:r.el},i):"CANVAS"===t.type?u=new Nt(t.ctx,{el:r.el,bbox:h},l(),i):"WEBGL"===t.type?u=new K(t.ctx,{el:r.el,bbox:h},l(),i):console.log("unknow type");for(var f=0,p=a.length;f<p;f+=1)if("transform"!==(o=a[f]))if("function"==typeof r.attr[o]){var d=r.attr[o].call(u,e,c);u.setAttr(o,d)}else u.setAttr(o,r.attr[o]);else{n="function"==typeof r.attr.transform?r.attr[o].call(u,e,c):r.attr.transform;for(var y in n)u[y](n[y])}for(var g=0,x=s.length;g<x;g+=1)if(o=s[g],"function"==typeof r.style[o]){var v=r.style[o].call(u,e,c);u.setStyle(o,v)}else u.setStyle(o,r.style[o]);return u.dataObj=e,u}),this}function Q(t){return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}function U(t,e){}function Z(t,e,r){this.x=t,this.y=e,this.color={r:255,g:0,b:0}}function $(t,e,r){this.ctx=t,this.colorArray=[],this.child=[],this.attr=e||{},this.style=r||{},this.program=U(t,c("point")),this.colorBuffer=t.createBuffer(),this.positionBuffer=t.createBuffer()}function J(t,e,r){this.ctx=t,this.attr=r}function K(t,e,r,i){switch(this.ctx=t,this.style=e.style?e.style:{},this.attr=e.attr?e.attr:{},this.id=r,this.nodeName=e.el,this.nodeType="WEBGL",this.children=[],this.ctx=t,this.vDomIndex=i,e.el){case"circles":this.dom=new J(this.ctx,this.attr,this.style);break;case"rects":this.dom=new RenderWebglRectGroup(this.ctx,this.attr,this.style);break;case"points":this.dom=new $(this.ctx,this.attr,this.style);break;case"lines":this.dom=new RenderWebglPointGroup(this.ctx,this.attr,this.style);break;default:this.dom=null}this.dom.nodeExe=this}var tt=t("2D"),et=r(),rt=e(),it=0,nt=0,ot=void 0,at={};at.push={value:function(t){"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]);for(var e=0,r=t.length;e<r;e++)this.data.push(t[e]);if(this.action.enter){var i={};this.selector.split(",").forEach(function(e){i[e]=t}),this.action.enter.call(this,i)}},enumerable:!1,configurable:!1,writable:!1},at.pop={value:function(){var t=this,e=this.data.pop();if(this.action.exit){var r={};this.selector.split(",").forEach(function(i){r[i]=t.fetchEls(i,[e])}),this.action.exit.call(this,r)}},enumerable:!1,configurable:!1,writable:!1},at.remove={value:function(t){"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]);var e=this;if(this.action.exit){var r={};this.selector.split(",").forEach(function(i){r[i]=e.fetchEls(i,t)}),this.action.exit.call(this,r)}for(var i=0,n=t.length;i<n;i++)this.data.indexOf(t[i])&&this.data.splice(this.data.indexOf(t[i]),1)},enumerable:!1,configurable:!0,writable:!1},at.update={value:function(){var t=this;if(this.action.update){var e={};this.selector.split(",").forEach(function(r){e[r]=t.fetchEls(r,t.data)}),this.action.update.call(this,e)}},enumerable:!1,configurable:!0,writable:!1};var st=function(t,e){for(var r=e.attr?e.attr:{},i=e.style?e.style:{},n=[],o=void 0,a=void 0,s=r?Object.keys(r):[],h=0,c=s.length;h<c;h+=1)if("transform"!==(a=s[h]))"d"===a?t.morphTo(e):n[n.length]=lt(t,a,r[a]);else if("function"==typeof(o=r[a]))n[n.length]=ht(t,a,o);else{var l=t.attr.transform;l||(t.attr.transform={});for(var u=Object.keys(r.transform),f=0,p=u.length;f<p;f+=1)n[n.length]=ct(t,u[f],r.transform[u[f]])}for(var d=i?Object.keys(i):[],y=0,g=d.length;y<g;y+=1)n[n.length]=ut(t,d[y],i[d[y]]);return{run:function(t){for(var e=0,r=n.length;e<r;e+=1)n[e](t)},duration:e.duration,delay:e.delay?e.delay:0,end:e.end?e.end.bind(t,t.dataObj):null,loop:e.loop?e.loop:0,direction:e.direction?e.direction:"default"}},ht=function(t,e,r){return function(i){t.setAttr(e,r.call(t,i))}},ct=function(t,e,r){var i=[],n=t.attr.transform;return"function"==typeof r?function(i){t[e](r.call(t,i))}:(r.forEach(function(t,r){var o=void 0;o=n[e]&&void 0!==n[e][r]?n[e][r]:"scale"===e?1:0,i.push(tt.intermediateValue.bind(null,o,t))}),function(r){t[e](i.map(function(t){return t(r)}))})},lt=function(t,e,r){var i=t.attr[e];return"function"==typeof r?function(i){t.setAttr(e,r.call(t,i))}:function(n){t.setAttr(e,tt.intermediateValue(i,r,n))}},ut=function(t,e,r){var i=void 0,n=void 0,o=void 0;if("function"==typeof r)return function(i){t.setStyle(e,r.call(t,t.dataObj,i))};if(i=t.style[e],isNaN(r)){if(r.startsWith("#")||r.startsWith("rgb")||r.startsWith("hsl")){var a=s.transition(i,r);return function(r){t.setStyle(e,a(r))}}i=i.match(/(\d+)/g),o=r.match(/(\d+)/g),n=r.match(/\D+$/),i=parseInt(i.length>0?i[0]:0,10),o=parseInt(o.length>0?o[0]:0,10),n=n.length>0?n[0]:"px"}else i=void 0!==t.style[e]?t.style[e]:1,o=r,n=0;return function(r){t.setStyle(e,tt.intermediateValue(i,o,r)+n)}},ft=function(t){return rt.add(u(),st(this,t),et(t.ease)),this},pt=function(t){return st(this,t)},dt=function(t){for(var e=void 0,r=void 0,i=0;i<this.stack.length;i+=1)r={},e=this.stack[i],r=j(t,e,i),t.attr&&(r.attr=j(t.attr,e,i)),t.style&&(r.style=j(t.style,e,i)),t.end&&(r.end=t.end),t.ease&&(r.ease=t.ease),e.animateTo(r);return this},yt=function(t){for(var e=void 0,r=void 0,i=[],n=0;n<this.stack.length;n+=1)r={},e=this.stack[n],r=j(t,e,n),t.attr&&(r.attr=j(t.attr,e,n)),t.style&&(r.style=j(t.style,e,n)),t.end&&(r.end=t.end),t.ease&&(r.ease=t.ease),i.push(e.animateExe(r));return i},gt=function(t){for(var e=void 0,r=Object.keys(t),i=0;i<this.stack.length;i+=1){e=this.stack[i];for(var n={},o=0;o<r.length;o++){var a=t[r[o]];"function"==typeof a&&(a=a.call(e,e.dataObj,i)),n[r[o]]=a}e.animatePathTo(n)}return this},xt=function(t){var e=void 0;if("function"!=typeof t)for(var r=0;r<this.stack.length;r+=1)e=this.stack[r],e.text(t);else for(var i=0;i<this.stack.length;i+=1)e=this.stack[i],e.text(t.call(e,e.dataObj,i));return this},vt=function(t){function e(t){if(t.length){for(var e=t,r=[],i=0;i<e.length;i+=1)if(-1!==["M","C","S","Q"].indexOf(e[i].type))r.push(e[i]);else if(-1!==["V","H","L","Z"].indexOf(e[i].type)){var n={x:(e[i].p0.x+e[i].p1.x)/2,y:(e[i].p0.y+e[i].p1.y)/2};r.push({p0:e[i].p0,cntrl1:n,cntrl2:n,p1:e[i].p1,type:"C",length:e[i].length})}return r}}function r(t,e){A.push({run:function(t,e){var r=this.pointTansition(e);t.m(!0,{x:r.x,y:r.y})},pointTansition:tt.linearTransitionBetweenPoints.bind(null,t.p0,e.p0)})}function i(t,e){A.push({run:function(t,e){var r=this,i=r.ctrl1Transition(e),n=r.ctrl2Transition(e),o=r.destTransition(e);t.c(!0,{x:i.x,y:i.y},{x:n.x,y:n.y},{x:o.x,y:o.y})},srcTransition:tt.linearTransitionBetweenPoints.bind(null,t.p0,e.p0),ctrl1Transition:tt.linearTransitionBetweenPoints.bind(null,t.cntrl1,e.cntrl1),ctrl2Transition:tt.linearTransitionBetweenPoints.bind(null,t.cntrl2,e.cntrl2),destTransition:tt.linearTransitionBetweenPoints.bind(null,t.p1,e.p1)})}function n(t,e){if(t.length===e)return t;for(var r=t.reduce(function(t,e){return t+e.length},0),i=[],n=0;n<t.length;n+=1){var a=t[n].length,s=Math.floor(e/r*a);if(s<=1)i.push(t[n]);else{for(var h=t[n],c=void 0;s>1;){var l=h;c=o([l.p0,l.cntrl1,l.cntrl2,l.p1].slice(0),1/s),i.push({p0:l.p0,cntrl1:c.b1[0],cntrl2:c.b1[1],p1:c.b1[2],type:"C"}),h={p0:c.b1[2],cntrl1:c.b2[0],cntrl2:c.b2[1],p1:c.b2[2],type:"C"},s-=1}i.push(h)}}return i}function o(t,e){for(var r=[],i=t;i.length>0;){for(var n=0;n<i.length-1;n+=1)r.unshift(i[n]),i[n]=a(i[n],i[n+1],e);r.unshift(i.pop())}return{b1:[{x:r[5].x,y:r[5].y},{x:r[2].x,y:r[2].y},{x:r[0].x,y:r[0].y}],b2:[{x:r[1].x,y:r[1].y},{x:r[3].x,y:r[3].y},{x:r[6].x,y:r[6].y}]}}function a(t,e,r){return{x:t.x+(e.x-t.x)*(void 0!==r?r:.5),y:t.y+(e.y-t.y)*(void 0!==r?r:.5)}}function s(t){for(var e=0,r=0;r<t.length;r+=1)"M"!==t[r].type&&(e+=(t[r].p1.x-t[r].p0.x)*(t[r].p1.y+t[r].p0.y));return e}function c(t){var e=t.reverse(),r=[{type:"M",p0:e[0].p1}];return e.forEach(function(t){if("C"===t.type){var e=t,i=e.p0,n=e.cntrl1;e.p0=t.p1,e.p1=i,e.cntrl1=t.cntrl2,e.cntrl2=n,r.push(e)}}),r}function l(t){var e=0,r=0,i=0,n=0;return t.forEach(function(t){t.p0&&(e+=t.p0.x,r+=t.p0.y,i+=1,n+=1),t.p1&&(e+=t.p1.x,r+=t.p1.y,i+=1,n+=1)}),{x:e/i,y:r/n}}function f(t,e){return e.x>=t.x&&e.y<=t.y?1:e.x<=t.x&&e.y<=t.y?2:e.x<=t.x&&e.y>=t.y?3:4}function p(t,e){for(var r=l(t),i=l(e),n=t,o=e,a=0;a<t.length;a+=1)n[a].quad=f(r,t[a].p0);for(var s=0;s<e.length;s+=1)o[s].quad=f(i,e[s].p0);var h=0;return t.forEach(function(t,e){var i=tt.getDistance(t.p0,r);1===t.quad&&i>=h&&(h=i)}),h=0,e.forEach(function(t,e){var r=tt.getDistance(t.p0,i);1===t.quad&&r>h&&(h=r)}),{src:d(t,0),dest:d(e,0),srcCentroid:r,destCentroid:i}}function d(t,e){if(e<=0)return t;var r=t,i=r.splice(0,e);return i.shift(),r=r.concat(i),r.unshift({type:"M",p0:r[0].p0}),r.push({type:"M",p0:r[0].p0}),r}function y(t,e){var o=void 0,a=void 0,h=t.length>e.length?t.length:e.length;e.length>2&&t.length>2?(h>50?h+=30:h=h>=20?h+15:h+4,o=n(t,h),a=n(e,h)):(o=t,a=e),s(o)<0&&(o=c(o)),s(a)<0&&(a=c(a));var l=p(o,a,this);o=l.src.length>1?l.src:[{type:"M",p0:l.destCentroid}],a=l.dest.length>1?l.dest:[{type:"M",p0:l.srcCentroid}];for(var u=a.length<o.length?o.length:a.length,f=0;f<o.length;f+=1)o[f].index=f;for(var d=0;d<a.length;d+=1)a[d].index=d;for(var y=0;y<u;y+=1){var g=o[o.length-1].p0?o[o.length-1].p0:o[o.length-1].p1,x=a[a.length-1].p0?a[a.length-1].p0:a[a.length-1].p1,v=o[y]?o[y]:{type:"C",p0:g,p1:g,cntrl1:g,cntrl2:g,length:0},m=a[y]?a[y]:{type:"C",p0:x,p1:x,cntrl1:x,cntrl2:x,length:0};"M"===v.type&&"M"===m.type?r(v,m):"M"===v.type||"M"===m.type?"M"===v.type?i({type:"C",p0:v.p0,p1:v.p0,cntrl1:v.p0,cntrl2:v.p0,length:0},m):i(v,{type:"C",p0:m.p0,p1:m.p0,cntrl1:m.p0,cntrl2:m.p0,length:0}):i(v,m)}}var g=this,x=t.duration,v=t.ease,m=t.loop?t.loop:0,b=t.direction?t.direction:"default",w=t.attr.d?t.attr.d:g.attr.d,B=h.isTypePath(g.attr.d)?g.attr.d.stackGroup:zt.Path(g.attr.d).stackGroup,k=h.isTypePath(w)?w.stackGroup:zt.Path(w).stackGroup,A=[];g.arrayStack=[],B.length>1&&(B=B.sort(function(t,e){return e.segmentLength-t.segmentLength})),k.length>1&&(k=k.sort(function(t,e){return e.segmentLength-t.segmentLength}));var S=B.length>k.length?B.length:k.length;y(e(B[0]),e(k[0]));for(var C=1;C<S;C+=1)B[C]&&y(e(B[C]),[{type:"M",p0:B[C][0].p0}]),k[C]&&y([{type:"M",p0:k[C][0].p0}],e(k[C]));rt.add(u(),{run:function(t){for(var e=zt.Path(),r=0,i=A.length;r<i;r++)A[r].run(e,t);g.setAttr("d",g instanceof St?e.fetchPathString():e)},duration:x,loop:m,direction:b},et(v))},mt=function(t){var e=this,r=t.duration,n=t.ease,o=t.end,a=t.loop,s=t.direction,c=t.d,l=c||e.attr.d,u=0;if(e.arrayStack=[],!l)throw Error("Path Not defined");for(var f=i.sequenceChain(),p=h.isTypePath(l)?l:zt.Path(l),d=p.stackGroup.reduce(function(t,e){return t=t.concat(e)},[]),y=[],g=0;g<d.length;g+=1)!function(t){if("Z"===d[t].type)y.push({run:function(t){p.stack.splice(this.id,p.stack.length-1-e.id),p.stack[this.id]=this.render.execute(t),e.setAttr("d",p)},id:t,render:new Bt(d[t].p0,d[0].p0,d[t].segmentLength),length:d[t].length}),u+=0;else if(-1!==["V","H","L"].indexOf(d[t].type))y.push({run:function(t){p.stack.splice(this.id,p.stack.length-1-e.id),p.stack[this.id]=this.render.execute(t),e.setAttr("d",p)},id:t,render:new Bt(d[t].p0,d[t].p1,d[t].length),length:d[t].length}),u+=d[t].length;else if("Q"===d[t].type)y.push({run:function(t){p.stack.splice(this.id,p.stack.length-1-e.id),p.stack[this.id]=this.render.execute(t),e.setAttr("d",p)},id:t,render:new wt(d[t].p0,d[t].cntrl1,d[t].p1,d[t].length),length:d[t].length}),u+=d[t].length;else if("C"===d[t].type||"S"===d[t].type){var r=tt.cubicBezierCoefficients(d[t]);y.push({run:function(t){p.stack.splice(this.id,p.stack.length-1-e.id),p.stack[this.id]=this.render.execute(t),e.setAttr("d",p)},id:t,co:r,render:new bt(d[t].p0,d[t].cntrl1,d[t].cntrl2,r,d[t].length),length:d[t].length}),u+=d[t].length}else"M"===d[t].type&&(y.push({run:function(){p.stack.splice(this.id,p.stack.length-1-e.id),p.stack[this.id]={type:"M",p0:d[t].p0,length:0,pointAt:function(t){return this.p0}}},id:t,length:0}),u+=0)}(g);return y.forEach(function(t){t.duration=t.length/u*r}),f.duration(r).add(y).ease(n).loop(a||0).direction(s||"default"),"function"==typeof o&&f.end(o.bind(e)),f.commit(),this},bt=function(t,e,r,i,n){this.type="C",this.p0=t,this.c1_src=e,this.c2_src=r,this.co=i,this.length_src=n};bt.prototype.execute=function(t){var e=this.co,r=this.p0,i=this.c1_src,n=this.c2_src,o={x:r.x+(i.x-r.x)*t,y:r.y+(i.y-r.y)*t},a={x:i.x+(n.x-i.x)*t,y:i.y+(n.y-i.y)*t};return this.cntrl1=o,this.cntrl2={x:o.x+(a.x-o.x)*t,y:o.y+(a.y-o.y)*t},this.p1={x:e.ax*tt.pow(t,3)+e.bx*tt.pow(t,2)+e.cx*t+r.x,y:e.ay*tt.pow(t,3)+e.by*tt.pow(t,2)+e.cy*t+r.y},this.length=this.length_src*t,this},bt.prototype.pointAt=function(t){return tt.cubicBezierTransition(this.p0,this.co,t)};var wt=function(t,e,r,i,n){this.type="Q",this.p0=t,this.p1_src=e,this.p2_src=r,this.length_src=i,this.length=0};wt.prototype.execute=function(t){var e=this.p0,r=this.p1_src,i=this.p2_src;return this.length=this.length_src*t,this.cntrl1={x:e.x+(r.x-e.x)*t,y:e.y+(r.y-e.y)*t},this.cntrl2=this.cntrl1,this.p1={x:(e.x-2*r.x+i.x)*t*t+(2*r.x-2*e.x)*t+e.x,y:(e.y-2*r.y+i.y)*t*t+(2*r.y-2*e.y)*t+e.y},this},wt.prototype.pointAt=function(t){return tt.bezierTransition(this.p0,this.cntrl1,this.p1,t)};var Bt=function(t,e,r,i){this.type="L",this.p0=t,this.p1=t,this.p2_src=e,this.length_src=r,this.length=0};Bt.prototype.execute=function(t){var e=this.p0,r=this.p2_src;return this.p1={x:e.x+(r.x-e.x)*t,y:e.y+(r.y-e.y)*t},this.length=this.length_src*t,this},Bt.prototype.pointAt=function(t){return tt.linearTransitionBetweenPoints(this.p0,this.p1,t)},D.prototype.exe=function(){return"url(#"+this.config.id+")"},D.prototype.linearGradient=function(){var t=this;return this.defs||(this.defs=this.pDom.createEl({el:"defs"})),this.linearEl=this.defs.join([1],"linearGradient",{action:{enter:function(e){this.createEls(e.linearGradient,{el:"linearGradient"}).setAttr({id:t.config.id,x1:t.config.x1+"%",y1:t.config.y1+"%",x2:t.config.x2+"%",y2:t.config.y2+"%"})},exit:function(t){t.linearGradient.remove()},update:function(e){e.linearGradient.setAttr({id:t.config.id,x1:t.config.x1+"%",y1:t.config.y1+"%",x2:t.config.x2+"%",y2:t.config.y2+"%"})}}}),this.linearEl=this.linearEl.fetchEl("linearGradient"),this.linearEl.fetchEls("stop").remove(),this.linearEl.createEls(this.config.colorStops,{el:"stop",attr:{offset:function(t,e){return t.value+"%"},"stop-color":function(t,e){return t.color}}}),this},D.prototype.radialGradient=function(){var t=this;return this.defs||(this.defs=this.pDom.createEl({el:"defs"})),this.radialEl=this.defs.join([1],"radialGradient",{action:{enter:function(e){this.createEls(e.radialGradient,{el:"radialGradient"}).setAttr({id:t.config.id,cx:t.config.innerCircle.x+"%",cy:t.config.innerCircle.y+"%",r:t.config.outerCircle.r+"%",fx:t.config.outerCircle.x+"%",fy:t.config.outerCircle.y+"%"})},exit:function(t){t.radialGradient.remove()},update:function(e){e.radialGradient.setAttr({id:t.config.id,cx:t.config.innerCircle.x+"%",cy:t.config.innerCircle.y+"%",r:t.config.outerCircle.r+"%",fx:t.config.outerCircle.x+"%",fy:t.config.outerCircle.y+"%"})}}}),this.radialEl=this.radialEl.fetchEl("radialGradient"),this.radialEl.fetchEls("stop").remove(),this.radialEl.createEls(this.config.colorStops,{el:"stop",attr:{offset:function(t,e){return t.value+"%"},"stop-color":function(t,e){return t.color}}}),this},D.prototype.colorStops=function(t){return"[object Array]"===Object.prototype.toString.call(t)&&(this.config.colorStops=t,"linear"===this.type?this.linearGradient():"radial"===this.type&&this.radialGradient())};var kt={svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},At=function(t){return document.createElementNS(kt.svg,t)},St=function(t,e,r,i){this.dom=t,this.nodeName=t.nodeName,this.attr=e.attr?e.attr:{},this.changedAttribute=this.attr,this.style=e.style?e.style:{},this.changedStyles=this.style,this.id=r,this.nodeType="svg",this.dom.nodeId=r,this.attrChanged=!0,this.styleChanged=!0,this.children=[],this.vDomIndex=i};St.prototype.node=function(){return this.execute(),this.dom};var Ct=void 0,Ot=void 0,Et=void 0,jt=void 0;St.prototype.transFormAttributes=function(){var t=this;Ot=Object.keys(t.changedAttribute);for(var e=0,r=Ot.length;e<r;e+=1){var i=Ot[e];if("transform"!==i){var n=i.indexOf(":");n>=0?t.dom.setAttributeNS(kt[i.slice(0,n)],i.slice(n+1),this.changedAttribute[i]):t.dom.setAttribute(i,this.changedAttribute[i])}}if(this.changedAttribute.transform){var o="";Et=Object.keys(this.attr.transform);for(var a=0;a<Et.length;a+=1)jt=Et[a],o+="rotate"===jt?jt+"("+this.attr.transform.rotate[0]+" "+this.attr.transform.rotate[1]+" "+this.attr.transform.rotate[2]+") ":jt+"("+this.attr.transform[jt].join(" ")+") ";this.dom.setAttribute("transform",o)}this.changedAttribute={},Ct=Object.keys(this.changedStyles);for(var s=0,h=Ct.length;s<h;s+=1)this.changedStyles[Ct[s]]instanceof D&&(this.changedStyles[Ct[s]]=this.changedStyles[Ct[s]].exe()),this.dom.style.setProperty(Ct[s],this.changedStyles[Ct[s]],"");this.changedStyles={}},St.prototype.scale=function(t){return this.attr.transform||(this.attr.transform={}),this.attr.transform.scale=t,this.changedAttribute.transform=!0,rt.vDomChanged(this.vDomIndex),this},St.prototype.skewX=function(t){return this.attr.transform||(this.attr.transform={}),this.attr.transform.skewX=[t],this.changedAttribute.transform=!0,rt.vDomChanged(this.vDomIndex),this},St.prototype.skewY=function(t){return this.attr.transform||(this.attr.transform={}),this.attr.transform.skewY=[t],this.changedAttribute.transform=!0,rt.vDomChanged(this.vDomIndex),this},St.prototype.translate=function(t){return this.attr.transform||(this.attr.transform={}),this.attr.transform.translate=t,this.changedAttribute.transform=!0,rt.vDomChanged(this.vDomIndex),this},St.prototype.rotate=function(t,e,r){return this.attr.transform||(this.attr.transform={}),this.attr.transform.rotate=[t%360,e||0,r||0],this.changedAttribute.transform=!0,rt.vDomChanged(this.vDomIndex),this},St.prototype.setStyle=function(t,e){if(2===arguments.length)"function"==typeof e&&(e=e.call(this,this.dataObj)),this.style[t]=e,this.changedStyles[t]=e;else if(1===arguments.length&&"object"===(void 0===t?"undefined":a(t)))for(var r=Object.keys(t),i=0,n=r.length;i<n;i+=1){var o=r[i];this.style[o]=t[o],this.changedStyles[o]=t[o]}return this.styleChanged=!0,rt.vDomChanged(this.vDomIndex),this},St.prototype.setAttr=function(t,e){if(2===arguments.length)this.attr[t]=e,this.changedAttribute[t]=e;else if(1===arguments.length&&"object"===(void 0===t?"undefined":a(t)))for(var r=Object.keys(t),i=0,n=r.length;i<n;i+=1){var o=r[i];this.attr[o]=t[o],this.changedAttribute[o]=t[o]}return this.attrChanged=!0,rt.vDomChanged(this.vDomIndex),this},St.prototype.getAttr=function(t){return this.attr[t]},St.prototype.execute=function(){if(this.styleChanged||this.attrChanged){this.transFormAttributes();for(var t=0,e=this.children.length;t<e;t+=1)this.children[t].execute()}else for(var r=0,i=this.children.length;r<i;r+=1)this.children[r].execute()},St.prototype.child=function(t){var e=this.dom,r=this;if(t instanceof X){for(var i=document.createDocumentFragment(),n=0,o=t.stack.length;n<o;n++)i.appendChild(t.stack[n].dom),t.stack[n].parentNode=r,this.children[this.children.length]=t.stack[n];e.appendChild(i)}else t instanceof St?(e.appendChild(t.dom),t.parentNode=r,this.children.push(t)):console.log("wrong node type");return this},St.prototype.fetchEl=d,St.prototype.fetchEls=p,St.prototype.animateTo=ft,St.prototype.animateExe=pt,St.prototype.animatePathTo=mt,St.prototype.morphTo=vt,St.prototype.exec=function(t){return"function"!=typeof t&&console.Error("Wrong Exe type"),t.call(this,this.dataObj),this},St.prototype.createRadialGradient=function(t){var e=new D(t,"radial",this);return e.radialGradient(),e},St.prototype.createLinearGradient=function(t){var e=new D(t,"linear",this);return e.linearGradient(),e},St.prototype.join=E,St.prototype.on=function(t,e){var r=e.bind(this),i=this;return this.dom.addEventListener(t,function(t){r(i.dataObj,t)}),this},St.prototype.html=function(t){return arguments.length?(this.dom.innerHTML(t),this):this.dom.innerHTML},St.prototype.text=function(t){return arguments.length?(this.dom.textContent=t,this):this.dom.textContent},St.prototype.remove=function(){this.parentNode.removeChild(this)},St.prototype.createEls=function(t,e){var r=new X({type:"SVG"},t,e,this.vDomIndex);return this.child(r),rt.vDomChanged(this.vDomIndex),r},St.prototype.createEl=function(t){var e=P(t,this.vDomIndex);return this.child(e),rt.vDomChanged(this.vDomIndex),e},St.prototype.removeChild=function(t){var e=this.children,r=e.indexOf(t);-1!==r&&this.dom.removeChild(e.splice(r,1)[0].dom)},L.prototype.exe=function(t,e){return"linear"===this.type&&"percent"===this.mode?this.linearGradient(t,e):"linear"===this.type&&"absolute"===this.mode?this.absoluteLinearGradient(t):"radial"===this.type&&"percent"===this.mode?this.radialGradient(t,e):"radial"===this.type&&"absolute"===this.mode?this.absoluteRadialGradient(t):void console.Error("wrong Gradiant type")},L.prototype.linearGradient=function(t,e){var r=t.createLinearGradient(e.x+e.width*(this.config.x1/100),e.y+e.height*(this.config.y1/100),e.x+e.width*(this.config.x2/100),e.y+e.height*(this.config.y2/100));return this.config.colorStops.forEach(function(t){r.addColorStop(t.value/100,t.color)}),r},L.prototype.absoluteLinearGradient=function(t){console.log("called");var e=t.createLinearGradient(this.config.x1,this.config.y1,this.config.x2,this.config.y2);return this.config.colorStops.forEach(function(t){e.addColorStop(t.value,t.color)}),e},L.prototype.radialGradient=function(t,e){var r=t.createRadialGradient(e.x+e.width*(this.config.innerCircle.x/100),e.y+e.height*(this.config.innerCircle.y/100),e.width>e.height?e.width*this.config.innerCircle.r/100:e.height*this.config.innerCircle.r/100,e.x+e.width*(this.config.outerCircle.x/100),e.y+e.height*(this.config.outerCircle.y/100),e.width>e.height?e.width*this.config.outerCircle.r/100:e.height*this.config.outerCircle.r/100);return this.config.colorStops.forEach(function(t){r.addColorStop(t.value/100,t.color)}),r},L.prototype.absoluteRadialGradient=function(t,e){var r=t.createRadialGradient(this.config.innerCircle.x,this.config.innerCircle.y,this.config.innerCircle.r,this.config.outerCircle.x,this.config.outerCircle.y,this.config.outerCircle.r);return this.config.colorStops.forEach(function(t){r.addColorStop(t.value/100,t.color)}),r},L.prototype.colorStops=function(t){return"[object Array]"===Object.prototype.toString.call(t)&&(this.config.colorStops=t,this)},N.prototype.get=function(t){var e=(t.y-1)*(4*this.width)+4*(t.x-1);return"rgba("+this.pixels[e]+", "+this.pixels[e+1]+", "+this.pixels[e+2]+", "+this.pixels[e+3]+")"},N.prototype.put=function(t,e){var r=(e.y-1)*(4*this.width)+4*(e.x-1);return this.pixels[r]=t[0],this.pixels[r+1]=t[1],this.pixels[r+2]=t[2],this.pixels[r+3]=t[3],this},q.prototype={},q.prototype.setAttr=function(t,e){},q.prototype.execute=function(){},V.prototype={render:T,on:C,setAttr:M,setStyle:I,applyStyles:_};var Dt={};H.prototype=new V,H.prototype.constructor=H,H.prototype.setAttr=function(t,e){var r=this;if(this.attr[t]=e,"src"===t&&(this.image.src=e),"clip"===t){this.rImageObj||(this.rImageObj=R(r.attr.width,r.attr.height));var i=this.rImageObj.getContext("2d"),n=this.attr,o=n.clip,a=n.width,s=n.height,h=o.sx,c=o.sy,l=o.swidth,u=o.sheight;h=void 0!==h?h:0,c=void 0!==c?c:0,l=void 0!==l?l:a,u=void 0!==u?u:s,i.clearRect(0,0,a,s),this.imageObj&&i.drawImage(this.imageObj,h,c,l,u,0,0,a,s)}if(r.attr.pixels){var f=void 0;f=r.rImageObj.getContext("2d"),f.putImageData(z.call(r,r.attr.pixels),0,0)}rt.vDomChanged(this.nodeExe.vDomIndex)},H.prototype.updateBBox=function(){var t=this,e=0,r=0,i=1,n=1,a=t.attr.transform,s=t.attr,h=s.x,c=s.y,l=s.width,u=s.height;if(a){if(a.translate){var f=o(a.translate,2);e=f[0],r=f[1]}a.scale&&(i=void 0!==a.scale[0]?a.scale[0]:1,n=void 0!==a.scale[1]?a.scale[1]:i)}t.BBox={x:(e+h)*i,y:(r+c)*n,width:(l||0)*i,height:(u||0)*n},a&&a.rotate?t.BBoxHit=tt.rotateBBox(this.BBox,a):t.BBoxHit=this.BBox},H.prototype.execute=function(){var t=this.attr,e=t.width,r=t.height,i=t.x,n=t.y;this.imageObj&&this.ctx.drawImage(this.rImageObj?this.rImageObj:this.imageObj,i||0,n||0,e,r)},H.prototype.applyStyles=function(){},H.prototype.in=function(t){return t.x>=this.attr.x&&t.x<=this.attr.x+this.attr.width&&t.y>=this.attr.y&&t.y<=this.attr.y+this.attr.height},Y.prototype=new V,Y.prototype.constructor=Y,Y.prototype.text=function(t){this.textContent=t},Y.prototype.updateBBox=function(){var t=this,e=0,r=0,i=1,n=1,a=1,s=t.attr.transform;if(s&&s.translate){var h=o(s.translate,2);e=h[0],r=h[1]}if(s&&s.scale){var c=o(s.scale,2);i=c[0],n=c[1]}this.style.font&&(this.ctx.font=this.style.font,a=parseInt(this.style.font,10)),t.BBox={x:e+t.attr.x*i,y:r+(t.attr.y-a+5)*n,width:this.ctx.measureText(this.textContent).width*i,height:a*n},s&&s.rotate?t.BBoxHit=tt.rotateBBox(this.BBox,s):t.BBoxHit=this.BBox},Y.prototype.execute=function(){void 0!==this.textContent&&null!==this.textContent&&(this.style.fillStyle&&this.ctx.fillText(this.textContent,this.attr.x,this.attr.y),this.style.strokeStyle&&this.ctx.strokeText(this.textContent,this.attr.x,this.attr.y))},Y.prototype.applyStyles=function(){},Y.prototype.in=function(t){return t.x>=this.attr.x&&t.x<=this.attr.x+this.attr.width&&t.y>=this.attr.y&&t.y<=this.attr.y+this.attr.height};var Pt=function(t,e,r){var i=this;i.ctx=t,i.attr=e,i.style=r,i.nodeName="circle",i.stack=[i]};Pt.prototype=new V,Pt.prototype.constructor=Pt,Pt.prototype.updateBBox=function(){var t=this,e=0,r=0,i=1,n=1,a=t.attr.transform;if(a){if(a.translate){var s=o(a.translate,2);e=s[0],r=s[1]}if(a.scale){var h=o(a.scale,2);i=h[0],n=h[1]}}t.BBox={x:(e+(t.attr.cx-t.attr.r))*i,y:(r+(t.attr.cy-t.attr.r))*n,width:2*t.attr.r*i,height:2*t.attr.r*n},a&&a.rotate?t.BBoxHit=tt.rotateBBox(this.BBox,a):t.BBoxHit=this.BBox},Pt.prototype.execute=function(){this.ctx.beginPath(),this.ctx.arc(this.attr.cx,this.attr.cy,this.attr.r,0,2*Math.PI,!1),this.applyStyles(),this.ctx.closePath()},Pt.prototype.in=function(t){return Math.sqrt((t.x-this.attr.cx)*(t.x-this.attr.cx)+(t.y-this.attr.cy)*(t.y-this.attr.cy))<=this.attr.r};var Tt=function(t,e,r){var i=this;i.ctx=t,i.attr=e,i.style=r,i.nodeName="line",i.stack=[i]};Tt.prototype=new V,Tt.prototype.constructor=Tt,Tt.prototype.updateBBox=function(){var t=this,e=0,r=0,i=1,n=1,a=t.attr.transform;if(a&&a.translate){var s=o(a.translate,2);e=s[0],r=s[1]}if(a&&a.scale){var h=o(a.scale,2);i=h[0],n=h[1]}t.BBox={x:e+(t.attr.x1<t.attr.x2?t.attr.x1:t.attr.x2)*i,y:r+(t.attr.y1<t.attr.y2?t.attr.y1:t.attr.y2)*n,width:Math.abs(t.attr.x2-t.attr.x1)*i,height:Math.abs(t.attr.y2-t.attr.y1)*n},a&&a.rotate?t.BBoxHit=tt.rotateBBox(this.BBox,a):t.BBoxHit=this.BBox},Tt.prototype.execute=function(){var t=this.ctx;t.beginPath(),t.moveTo(this.attr.x1,this.attr.y1),t.lineTo(this.attr.x2,this.attr.y2),this.applyStyles(),t.closePath()},Tt.prototype.in=function(t){return parseFloat(tt.getDistance({x:this.attr.x1,y:this.attr.y1},t)+tt.getDistance(t,{x:this.attr.x2,y:this.attr.y2})).toFixed(1)===parseFloat(tt.getDistance({x:this.attr.x1,y:this.attr.y1},{x:this.attr.x2,y:this.attr.y2})).toFixed(1)};var Mt=function(t,e,r){var i=this;return i.ctx=t,i.angle=0,i.nodeName="path",i.attr=e,i.style=r,i.attr.d&&(h.isTypePath(i.attr.d)?(i.path=i.attr.d,i.attr.d=i.attr.d.fetchPathString()):i.path=zt.Path(i.attr.d),i.pathNode=new Path2D(i.attr.d)),i.stack=[i],i};Mt.prototype=new V,Mt.prototype.constructor=Mt,Mt.prototype.updateBBox=function(){var t=this,e=0,r=0,i=1,n=1,a=t.attr.transform;if(a&&a.translate){var s=o(a.translate,2);e=s[0],r=s[1]}if(a&&a.scale){var h=o(a.scale,2);i=h[0],n=h[1]}t.BBox=t.path?tt.getBBox(t.path.stack):{x:0,y:0,width:0,height:0},t.BBox.x=e+t.BBox.x*i,t.BBox.y=r+t.BBox.y*n,t.BBox.width*=i,t.BBox.height*=n,a&&a.rotate?t.BBoxHit=tt.rotateBBox(this.BBox,a):t.BBoxHit=this.BBox},Mt.prototype.setAttr=function(t,e){this.attr[t]=e,"d"===t&&(h.isTypePath(e)?(this.path=e,this.attr.d=e.fetchPathString()):this.path=zt.Path(this.attr.d),this.pathNode=new Path2D(this.attr.d))},Mt.prototype.getPointAtLength=function(t){return this.path?this.path.getPointAtLength(t):{x:0,y:0}},Mt.prototype.getAngleAtLength=function(t){return this.path?this.path.getAngleAtLength(t):0},Mt.prototype.getTotalLength=function(){return this.path?this.path.getTotalLength():0},Mt.prototype.execute=function(){this.attr.d&&(this.style.fillStyle&&this.ctx.fill(this.pathNode),this.style.strokeStyle&&this.ctx.stroke(this.pathNode))},Mt.prototype.applyStyles=function(){},Mt.prototype.in=function(t){var e=!1;return this.attr.d?(this.ctx.save(),this.ctx.scale(1/ot,1/ot),e=this.style.fillStyle?this.ctx.isPointInPath(this.pathNode,t.x,t.y):e,this.ctx.restore(),e):e};var It=function(t,e,r){var i=this;return i.ctx=t,i.nodeName="polygon",i.attr=e,i.style=r,i.stack=[i],e.points&&(i.polygon=W(i.attr.points)),this};It.prototype=new V,It.prototype.constructor=It,It.prototype.setAttr=function(t,e){this.attr[t]=e,"points"===t&&(this.polygon=W(this.attr[t]))},It.prototype.updateBBox=function(){var t=this,e=0,r=0,i=1,n=1,a=t.attr.transform;if(t.polygon&&t.polygon.points.length>0){var s=t.polygon.points;if(a&&a.translate){var h=o(a.translate,2);e=h[0],r=h[1]}if(a&&a.scale){var c=o(a.scale,2);i=c[0],n=c[1]}for(var l=s[0].x,u=s[0].x,f=s[0].y,p=s[0].y,d=1;d<s.length;d+=1)l>s[d].x&&(l=s[d].x),u<s[d].x&&(u=s[d].x),f>s[d].y&&(f=s[d].y),p<s[d].y&&(p=s[d].y);t.BBox={x:e+l*i,y:r+f*n,width:(u-l)*i,height:(p-f)*n}}else t.BBox={x:0,y:0,width:0,height:0};a&&a.rotate?t.BBoxHit=tt.rotateBBox(this.BBox,a):t.BBoxHit=this.BBox},It.prototype.execute=function(){this.attr.points&&(this.style.fillStyle&&this.ctx.fill(this.polygon.path),this.style.strokeStyle&&this.ctx.stroke(this.polygon.path))},It.prototype.applyStyles=function(){},It.prototype.in=function(t){var e=!1;return this.attr.points?(this.ctx.save(),this.ctx.scale(1/ot,1/ot),e=this.style.fillStyle?this.ctx.isPointInPath(this.polygon.path,t.x,t.y):e,this.ctx.restore(),e):e};var Lt=function(t,e,r){var i=this;return i.ctx=t,i.nodeName="ellipse",i.attr=e,i.style=r,i.stack=[i],this};Lt.prototype=new V,Lt.prototype.constructor=Lt,Lt.prototype.updateBBox=function(){var t=this,e=0,r=0,i=1,n=1,a=t.attr.transform;if(a&&a.translate){var s=o(a.translate,2);e=s[0],r=s[1]}if(a&&a.scale){var h=o(a.scale,2);i=h[0],n=h[1]}t.BBox={x:e+(t.attr.cx-t.attr.rx)*i,y:r+(t.attr.cy-t.attr.ry)*n,width:2*t.attr.rx*i,height:2*t.attr.ry*n},a&&a.rotate?t.BBoxHit=tt.rotateBBox(this.BBox,a):t.BBoxHit=this.BBox},Lt.prototype.execute=function(){var t=this.ctx;t.beginPath(),t.moveTo(this.attr.cx,this.attr.cy-this.attr.ry),t.bezierCurveTo(this.attr.cx+this.attr.rx,this.attr.cy-this.attr.ry,this.attr.cx+this.attr.rx,this.attr.cy+this.attr.ry,this.attr.cx,this.attr.cy+this.attr.ry),t.bezierCurveTo(this.attr.cx-this.attr.rx,this.attr.cy+this.attr.ry,this.attr.cx-this.attr.rx,this.attr.cy-this.attr.ry,this.attr.cx,this.attr.cy-this.attr.ry),this.applyStyles(),t.closePath()},Lt.prototype.in=function(t){var e=this.attr,r=e.cx,i=e.cy,n=e.rx,o=e.ry;return(t.x-r)*(t.x-r)/(n*n)+(t.y-i)*(t.y-i)/(o*o)<=1};var Gt=function(t,e,r){var i=this;return i.ctx=t,i.nodeName="rect",i.attr=e,i.style=r,i.stack=[i],this};Gt.prototype=new V,Gt.prototype.constructor=Gt,Gt.prototype.updateBBox=function(){var t=this,e=0,r=0,i=1,n=1,a=t.attr.transform;if(a&&a.translate){var s=o(a.translate,2);e=s[0],r=s[1]}if(a&&a.scale){var h=o(a.scale,2);i=h[0],n=h[1]}t.BBox={x:e+t.attr.x*i,y:r+t.attr.y*n,width:t.attr.width*i,height:t.attr.height*n},a&&a.rotate?t.BBoxHit=tt.rotateBBox(this.BBox,a):t.BBoxHit=this.BBox},Gt.prototype.applyStyles=function(){},Gt.prototype.execute=function(){var t=this.ctx;this.style.fillStyle&&t.fillRect(this.attr.x,this.attr.y,this.attr.width,this.attr.height),this.style.strokeStyle&&t.strokeRect(this.attr.x,this.attr.y,this.attr.width,this.attr.height)},Gt.prototype.in=function(t){var e=this.attr,r=e.x,i=e.y,n=e.width,o=e.height;return t.x>=r&&t.x<=r+n&&t.y>=i&&t.y<=i+o};var Ft=function(t,e,r){var i=this;return i.nodeName="group",i.ctx=t,i.attr=e,i.style=r,i.stack=new Array(0),this};Ft.prototype=new V,Ft.prototype.constructor=Ft,Ft.prototype.updateBBox=function(t){var e=this,r=void 0,i=void 0,n=void 0,o=void 0,a=0,s=0,h=1,c=1,l=e.attr.transform;if(e.BBox={},l&&l.translate&&(a=void 0!==l.translate[0]?l.translate[0]:0,s=void 0!==l.translate[1]?l.translate[1]:a),l&&e.attr.transform.scale&&"rootNode"!==e.attr.id&&(h=void 0!==l.scale[0]?l.scale[0]:1,c=void 0!==l.scale[1]?l.scale[1]:h),t&&t.length>0)for(var u=void 0,f=void 0,p=void 0,d=0;d<t.length;d+=1)u=t[d],f=u.dom.BBoxHit.x,p=u.dom.BBoxHit.y,r=void 0===r?f:r>f?f:r,n=void 0===n?p:n>p?p:n,i=void 0===i?f+u.dom.BBoxHit.width:i<f+u.dom.BBoxHit.width?f+u.dom.BBoxHit.width:i,o=void 0===o?p+u.dom.BBoxHit.height:o<p+u.dom.BBoxHit.height?p+u.dom.BBoxHit.height:o;r=void 0===r?0:r,n=void 0===n?0:n,i=void 0===i?0:i,o=void 0===o?0:o,e.BBox.x=a+r*h,e.BBox.y=s+n*c,e.BBox.width=Math.abs(i-r)*h,e.BBox.height=Math.abs(o-n)*c,e.attr.transform&&e.attr.transform.rotate?e.BBoxHit=tt.rotateBBox(this.BBox,this.attr.transform):e.BBoxHit=this.BBox},Ft.prototype.child=function(t){var e=this,r=t;r instanceof Nt?(r.dom.parent=e,e.stack[e.stack.length]=r):r instanceof X?r.stack.forEach(function(t){t.dom.parent=e,e.stack[e.stack.length]=t}):console.log("wrong Object")},Ft.prototype.in=function(t){var e=this,r={x:t.x,y:t.y},i=this.BBox,n=e.attr.transform,a=0,s=0,h=1,c=1;if(n&&n.translate){var l=o(n.translate,2);a=l[0],s=l[1]}return n&&n.scale&&(h=void 0!==n.scale[0]?n.scale[0]:1,c=void 0!==n.scale[1]?n.scale[1]:h),r.x>=(i.x-a)/h&&r.x<=(i.x-a+i.width)/h&&r.y>=(i.y-s)/c&&r.y<=(i.y-s+i.height)/c};var Nt=function(t,e,r,i){switch(this.style=e.style?e.style:{},this.attr=e.attr?e.attr:{},this.id=r,this.nodeName=e.el,this.nodeType="CANVAS",this.children=[],this.ctx=t,this.vDomIndex=i,this.bbox=void 0===e.bbox||e.bbox,e.el){case"circle":this.dom=new Pt(this.ctx,this.attr,this.style);break;case"rect":this.dom=new Gt(this.ctx,this.attr,this.style);break;case"line":this.dom=new Tt(this.ctx,this.attr,this.style);break;case"path":this.dom=new Mt(this.ctx,this.attr,this.style);break;case"group":this.dom=new Ft(this.ctx,this.attr,this.style);break;case"text":this.dom=new Y(this.ctx,this.attr,this.style);break;case"image":this.dom=new H(this.ctx,this.attr,this.style,e.onload,e.onerror,this);break;case"polygon":this.dom=new It(this.ctx,this.attr,this.style,this);break;case"ellipse":this.dom=new Lt(this.ctx,this.attr,this.style,this);break;default:this.dom=null}this.dom.nodeExe=this,this.BBoxUpdate=!0};Nt.prototype.node=function(){return this.updateBBox(),this.dom},Nt.prototype.stylesExe=function(){for(var t=Object.keys(this.style),e=void 0,r=0,i=t.length;r<i;r+=1)"function"==typeof this.style[t[r]]||this.style[t[r]]instanceof L?"function"==typeof this.style[t[r]]?(this.style[t[r]]=this.style[t[r]].call(this,this.dataObj),e=this.style[t[r]]):this.style[t[r]]instanceof L?e=this.style[t[r]].exe(this.ctx,this.dom.BBox):console.log("unkonwn Style"):e=this.style[t[r]],"function"!=typeof this.ctx[t[r]]?this.ctx[t[r]]=e:"function"==typeof this.ctx[t[r]]?this.ctx[t[r]](e):console.log("junk comp")},Nt.prototype.remove=function(){var t=this.dom.parent.children,e=t.indexOf(this);-1!==e&&t.splice(e,1),this.BBoxUpdate=!0,rt.vDomChanged(this.vDomIndex)},Nt.prototype.attributesExe=function(){this.dom.render(this.attr)},Nt.prototype.setStyle=function(t,e){if(2===arguments.length)this.style[t]=e,this.dom.setStyle(t,e);else if(1===arguments.length&&"object"===(void 0===t?"undefined":a(t)))for(var r=Object.keys(t),i=0,n=r.length;i<n;i+=1)this.style[r[i]]=t[r[i]],this.dom.setStyle(r[i],t[r[i]]);return rt.vDomChanged(this.vDomIndex),this},Nt.prototype.setAttr=function(t,e){if(2===arguments.length)this.attr[t]=e,this.dom.setAttr(t,e);else if(1===arguments.length&&"object"===(void 0===t?"undefined":a(t)))for(var r=Object.keys(t),i=0;i<r.length;i+=1)this.attr[r[i]]=t[r[i]],this.dom.setAttr(r[i],t[r[i]]);return this.BBoxUpdate=!0,rt.vDomChanged(this.vDomIndex),this},Nt.prototype.getAttr=function(t){return this.attr[t]},Nt.prototype.rotate=function(t,e,r){return this.attr.transform||(this.attr.transform={}),this.attr.transform.rotate=[t,e||0,r||0],this.dom.setAttr("transform",this.attr.transform),this.BBoxUpdate=!0,rt.vDomChanged(this.vDomIndex),this},Nt.prototype.scale=function(t){return this.attr.transform||(this.attr.transform={}),t.length<1?null:(this.attr.transform.scale=[t[0],t[1]?t[1]:t[0]],this.dom.setAttr("transform",this.attr.transform),this.BBoxUpdate=!0,rt.vDomChanged(this.vDomIndex),this)},Nt.prototype.translate=function(t){return this.attr.transform||(this.attr.transform={}),this.attr.transform.translate=t,this.dom.setAttr("transform",this.attr.transform),this.BBoxUpdate=!0,rt.vDomChanged(this.vDomIndex),this},Nt.prototype.skewX=function(t){return this.attr.transform||(this.attr.transform={}),this.attr.transform.skewX=[t],this.dom.setAttr("transform",this.attr.transform),this.BBoxUpdate=!0,rt.vDomChanged(this.vDomIndex),this},Nt.prototype.skewY=function(t){return this.attr.transform||(this.attr.transform={}),this.attr.transform.skewY=[t],this.dom.setAttr("transform",this.attr.transform),this.BBoxUpdate=!0,rt.vDomChanged(this.vDomIndex),this},Nt.prototype.execute=function(){if(this.ctx.save(),this.stylesExe(),this.attributesExe(),this.dom instanceof Ft)for(var t=0,e=this.children.length;t<e;t+=1)this.children[t].execute();this.ctx.restore()},Nt.prototype.child=function(t){var e=this,r=t;if(e.dom instanceof Ft)for(var i=0;i<r.length;i+=1)r[i].dom.parent=e,e.children[e.children.length]=r[i];else console.log("Error");return this.BBoxUpdate=!0,rt.vDomChanged(this.vDomIndex),e},Nt.prototype.fetchEl=d,Nt.prototype.fetchEls=p,Nt.prototype.updateBBox=function(){for(var t=void 0,e=0,r=this.children.length;e<r;e+=1)this.bbox&&(t=this.children[e].updateBBox()||t);return!(!this.bbox||!this.BBoxUpdate&&!t)&&(this.dom.updateBBox(this.children),this.BBoxUpdate=!1,!0)},Nt.prototype.in=function(t){return this.dom.in(t)},Nt.prototype.on=function(t,e){return this.dom.on(t,e),this},Nt.prototype.exec=function(t){return"function"!=typeof t&&console.Error("Wrong Exe type"),t.call(this,this.dataObj),this},Nt.prototype.animateTo=ft,Nt.prototype.animateExe=pt,Nt.prototype.animatePathTo=mt,Nt.prototype.morphTo=vt,Nt.prototype.vDomIndex=null,Nt.prototype.join=E,Nt.prototype.createRadialGradient=F,Nt.prototype.createLinearGradient=G,Nt.prototype.createPattern=q,Nt.prototype.createEls=function(t,e){var r=new X({type:"CANVAS",ctx:this.dom.ctx},t,e,this.vDomIndex);return this.child(r.stack),rt.vDomChanged(this.vDomIndex),r},Nt.prototype.text=function(t){return this.dom instanceof Y&&this.dom.text(t),rt.vDomChanged(this.vDomIndex),this},Nt.prototype.createEl=function(t){var e=new Nt(this.dom.ctx,t,l(),this.vDomIndex);return this.child([e]),rt.vDomChanged(this.vDomIndex),e},Nt.prototype.removeChild=function(t){var e=-1;if(this.children.forEach(function(r,i){r===t&&(e=i)}),-1!==e){var r=this.children.splice(e,1)[0];this.dom.removeChild(r.dom)}rt.vDomChanged(this.vDomIndex)},X.prototype={createEls:x,createEl:g,forEach:v,setAttr:m,fetchEls:f,setStyle:b,translate:w,rotate:B,scale:k,animateTo:dt,animateExe:yt,animatePathTo:gt,remove:S,text:xt,join:y,on:A},X.prototype.wrapper=function(t){var e=this;if(t)for(var r=0,i=t.length;r<i;r++){var n=t[r];n instanceof St||n instanceof Nt||n instanceof K||n instanceof X?e.stack.push(n):e.stack.push(new St(n,{},l()))}return this};var zt={},Rt={dragStart:function(t){return"function"==typeof t&&(this.onDragStart=t),this},drag:function(t){return"function"==typeof t&&(this.onDrag=t),this},dragEnd:function(t){return"function"==typeof t&&(this.onDragEnd=t),this}};return zt.dragEvent=function(){return Object.create(Rt)},zt.CanvasLayer=function(t,e){function r(){console.log("resize called"),y.resize()}var i=void 0,o=void 0,a=document.querySelector(t),s=e.height?e.height:a.clientHeight,h=e.width?e.width:a.clientWidth,c=document.createElement("canvas"),u=c.getContext("2d");ot=Q(u),i=ot;var f="clear"!==e.onClear&&e.onClear?e.onClear:function(t){t.clearRect(0,0,h*ot,s*ot)};c.setAttribute("height",s*ot),c.setAttribute("width",h*ot),c.style.height=s+"px",c.style.width=h+"px",c.style.position="absolute",a.appendChild(c);var p=new n,d=rt.addVdom(p),y=new Nt(u,{el:"group",attr:{id:"rootNode"}},l(),d),g=y.execute.bind(y);return y.container=a,y.domEl=c,y.height=s,y.width=h,y.execute=function(){f(u),u.setTransform(ot,0,0,ot,0,0),y.updateBBox(),g()},y.resize=function(){var t=e.width?e.width:this.container.clientWidth,r=e.height?e.height:this.container.clientHeight;if(this.domEl.setAttribute("height",r*i),this.domEl.setAttribute("width",t*i),this.domEl.style.height=r+"px",this.domEl.style.width=t+"px",this.height=r,this.width=t,e.rescale){var n=t/this.width,o=r/this.height;this.scale([n,o])}else this.execute()},window.addEventListener("resize",r),y.destroy=function(){window.removeEventListener("resize",r),c.remove(),rt.removeVdom(p)},y.type="CANVAS",p.root(y),(e.events||void 0===e.events)&&(a.addEventListener("mousemove",function(t){if(t.preventDefault(),o&&o.dom.drag&&o.dom.drag.dragStartFlag&&o.dom.drag.onDrag){var e=o.dom.drag.event;o.dom.drag.event&&(e.dx=t.offsetX-e.x,e.dy=t.offsetY-e.y),e.x=t.offsetX,e.y=t.offsetY,o.dom.drag.event=e,o.dom.drag.onDrag.call(o,o.dataObj,e)}else{var r=p.eventsCheck([y],{x:t.offsetX,y:t.offsetY});if(o&&r!==o&&((o.dom.mouseout||o.dom.mouseleave)&&o.hovered&&(o.dom.mouseout&&o.dom.mouseout.call(o,o.dataObj,t),o.dom.mouseleave&&o.dom.mouseleave.call(o,o.dataObj,t)),o.hovered=!1,o.dom.drag&&o.dom.drag.dragStartFlag&&(o.dom.drag.dragStartFlag=!1,o.dom.drag.onDragEnd.call(o,o.dataObj,t),o.dom.drag.event=null)),o&&r===o&&o.dom.drag&&o.dom.drag.dragStartFlag&&o.dom.drag.onDrag){var i=o.dom.drag.event;o.dom.drag.event&&(i.dx=t.offsetX-i.x,i.dy=t.offsetY-i.y),i.x=t.offsetX,i.y=t.offsetY,o.dom.drag.event=i,o.dom.drag.onDrag.call(o,o.dataObj,i)}r?(o=r,!o.dom.mouseover&&!o.dom.mouseenter||o.hovered||(o.dom.mouseover&&o.dom.mouseover.call(o,o.dataObj,t),o.dom.mouseenter&&o.dom.mouseenter.call(o,o.dataObj,t),o.hovered=!0),o.dom.mousemove&&o.dom.mousemove.call(o,o.dataObj,t)):o=void 0}}),a.addEventListener("click",function(t){console.log("click"),t.preventDefault(),o&&o.dom.click&&o.dom.click.call(o,o.dataObj,t)}),a.addEventListener("dblclick",function(t){o&&o.dom.dblclick&&o.dom.dblclick.call(o,o.dataObj,t)}),a.addEventListener("mousedown",function(t){if(console.log("down"),t.preventDefault(),o&&o.dom.mousedown&&(o.dom.mousedown.call(o,o.dataObj,t),o.down=!0),o&&o.dom.drag&&o.dom.drag.onDragStart){o.dom.drag.dragStartFlag=!0,o.dom.drag.onDragStart.call(o,o.dataObj,t);var e={};e.x=t.offsetX,e.y=t.offsetY,e.dx=0,e.dy=0,o.dom.drag.event=e}}),a.addEventListener("mouseup",function(t){t.preventDefault(),o&&o.dom.mouseup&&o.down&&(o.dom.mouseup.call(o,o.dataObj),o.down=!1),o&&o.dom.drag&&o.dom.drag.dragStartFlag&&o.dom.drag.onDragEnd&&(o.dom.drag.dragStartFlag=!1,o.dom.drag.event=null,o.dom.drag.onDragEnd.call(o,o.dataObj,t))}),a.addEventListener("mouseleave",function(t){t.preventDefault(),o&&o.dom.mouseleave&&o.dom.mouseleave.call(o,o.dataObj,t),o&&o.dom.onDragEnd&&o.dom.drag.dragStartFlag&&(o.dom.drag.dragStartFlag=!1,o.dom.drag.event=null,o.dom.drag.onDragEnd.call(o,o.dataObj,t))}),a.addEventListener("contextmenu",function(t){t.preventDefault(),o&&o.dom.contextmenu&&o.dom.contextmenu.call(o,o.dataObj)})),rt.execute(),y},zt.SVGLayer=function(t,e){function r(){console.log("resize called"),u.resize()}var i=new n,o=rt.addVdom(i),a=document.querySelector(t),s=e.height?e.height:a.clientHeight,h=e.width?e.width:a.clientWidth,c=document.createElementNS(kt.svg,"svg");c.setAttribute("height",s),c.setAttribute("width",h),c.style.position="absolute",a.appendChild(c);var u=new St(c,{},l(),o);return u.container=a,u.type="SVG",u.width=h,u.height=s,i.root(u),u.resize=function(){var t=e.width?e.width:this.container.clientWidth,r=e.height?e.height:this.container.clientHeight,i=t/this.width,n=r/this.height;e&&e.rescale&&this.scale([i,n]),this.dom.setAttribute("height",r),this.dom.setAttribute("width",t)},window.addEventListener("resize",r),u.destroy=function(){window.removeEventListener("resize",r),c.remove(),rt.removeVdom(i)},rt.execute(),u},$.prototype.createEl=function(t){this.child.push(new Z(t.attr.x,t.attr.y,t.style))},$.prototype.setAttr=function(t,e){this.attr[t]=e},$.prototype.execute=function(){for(var t=[],e=[],r=0,i=this.child.length;r<i;r++)t[2*r]=this.child[r].x,t[2*r+1]=this.child[r].y,e[3*r]=this.child[r].r,e[3*r+1]=this.child[r].g,e[3*r+2]=this.child[r].b;this.ctx.bindBuffer(this.ctx.ARRAY_BUFFER,this.colorBuffer),this.ctx.bufferData(this.ctx.ARRAY_BUFFER,new Uint8Array(e),this.ctx.STATIC_DRAW),this.ctx.bindBuffer(this.ctx.ARRAY_BUFFER,this.positionBuffer),this.ctx.bufferSubData(this.ctx.ARRAY_BUFFER,0,new Float32Array(t)),this.ctx.drawArrays(this.ctx.POINTS,0,t.length/2)},K.prototype.execute=function(){if(this.stylesExe(),this.attributesExe(),this.dom instanceof Ft)for(var t=0,e=this.children.length;t<e;t+=1)this.children[t].execute()},K.prototype.child=function(t){var e=this,r=t;if(e.dom instanceof Ft)for(var i=0;i<r.length;i+=1)r[i].dom.parent=e,e.children[e.children.length]=r[i];else console.log("Error");return this.BBoxUpdate=!0,rt.vDomChanged(this.vDomIndex),e},K.prototype.createEls=function(t,e){var r=new X({type:"WEBGL",ctx:this.dom.ctx},t,e,this.vDomIndex);return this.child(r.stack),rt.vDomChanged(this.vDomIndex),r},K.prototype.createEl=function(t){var e=new Nt(this.dom.ctx,t,l(),this.vDomIndex);return this.child([e]),rt.vDomChanged(this.vDomIndex),e},zt.webglLayer=function(t,e){var r=document.querySelector(t),i=e.height?e.height:r.clientHeight,o=e.width?e.width:r.clientWidth,a=document.createElement("canvas"),s=a.getContext("webgl2");c("rect");a.setAttribute("height",i*ot),a.setAttribute("width",o*ot),a.style.height=i+"px",a.style.width=o+"px",a.style.position="absolute",r.appendChild(a);var h=new n,u=rt.addVdom(h),f=new K(s,{el:"group",attr:{id:"rootNode"}},l(),u),p=f.execute.bind(f);return f.container=r,f.domEl=a,f.height=i,f.width=o,f.execute=function(){p()},f.destroy=function(){rt.removeVdom(h)},f.type="CANVAS",h.root(f),e.resize&&window.addEventListener("resize",function(){f.resize()}),rt.execute(),f},zt.Path=h.instance,zt.queue=rt,zt.geometry=tt,zt.chain=i,zt})}).call(e,r(1)(t))}])});