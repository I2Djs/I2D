!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("i2d",[],e):"object"==typeof exports?exports.i2d=e():t.i2d=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=8)}([function(t,e,r){"use strict";(function(t){var n,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(o,a){"object"===i(t)&&t.exports?t.exports=a():void 0!==(n=function(){return a()}.call(e,r,e,t))&&(t.exports=n)}(0,function(){function t(t){function e(t,e){var r=1;if(0===e)return r;for(var n=1;n<=e;n+=1)r*=t;return r}function r(t,e){return Math.atan2(t,e)}function n(t){return Math.sqrt(t)}function i(t,e,r){var n={},i={};n.x=t.x+r.x-2*e.x,n.y=t.y+r.y-2*e.y,i.x=2*e.x-2*t.x,i.y=2*e.y-2*t.y;var o=4*(n.x*n.x+n.y*n.y),a=4*(n.x*i.x+n.y*i.y),s=i.x*i.x+i.y*i.y,h=2*Math.sqrt(o+a+s),c=Math.sqrt(o),l=2*o*c,u=2*Math.sqrt(s),f=a/c,p=(2*c+f+h)/(f+u);return p=isNaN(p)||Math.abs(p)===1/0?1:p,(l*h+c*a*(h-u)+(4*s*o-a*a)*Math.log(p))/(4*l)}function o(t,r){for(var i=0,o=f.bind(null,t,r),a=void 0,s=void 0,h=0;h<=1;h+=.001)a=o(h),s=o(h+.001),i+=.001*n(e((s.x-a.x)/.001,2)+e((s.y-a.y)/.001,2));return i}function a(t,r){var i=0;for(var o in t)i+=e(r[o]-t[o],2);if(isNaN(i))throw new Error("error");return n(i)}function s(t,e){return r(e.x-t.x,e.y-t.y)}function h(t,e){var r={};for(var n in t)r[n]=t[n]*e;return r}function c(t,e,r){var n=(t.y-e.y)/(t.x-e.x),i=t.x*r;return{x:i,y:(n*(i-e.x)+e.y)*r}}function l(t,e){var r=3*(t.cntrl1.x-t.p0.x),n=3*(t.cntrl2.x-t.cntrl1.x)-r,i=t.p1.x-t.p0.x-r-n,o=3*(t.cntrl1.y-t.p0.y),a=3*(t.cntrl2.y-t.cntrl1.y)-o;return{cx:r,bx:n,ax:i,cy:o,by:a,ay:t.p1.y-t.p0.y-o-a}}function u(t){if(t.length){for(var e=t,r=[],n=0;n<e.length;n+=1)if(-1!==["M","C","S","Q"].indexOf(e[n].type))r.push(e[n]);else if(-1!==["V","H","L","Z"].indexOf(e[n].type)){var i={x:(e[n].p0.x+e[n].p1.x)/2,y:(e[n].p0.y+e[n].p1.y)/2};r.push({p0:e[n].p0,cntrl1:i,cntrl2:i,p1:e[n].p1,type:"C",length:e[n].length})}else console.log("wrong cmd type");return r}}function f(t,r,n){var i=e(n,3),o=e(n,2);return{x:r.ax*i+r.bx*o+r.cx*n+t.x,y:r.ay*i+r.by*o+r.cy*n+t.y}}function p(t,e,r,n){return{x:(t.x-2*e.x+r.x)*n*n+(2*e.x-2*t.x)*n+t.x,y:(t.y-2*e.y+r.y)*n*n+(2*e.y-2*t.y)*n+t.y}}function d(t,e,r){return{x:t.x+(e.x-t.x)*r,y:t.y+(e.y-t.y)*r}}function y(t,e,r){return t+(e-t)*r}function g(t){for(var e=1/0,r=1/0,n=-1/0,i=-1/0,o=void 0,a=void 0,s=0;s<t.length;s+=1)if(o=t[s],-1!==["V","H","L"].indexOf(o.type))[o.p0?o.p0:t[s-1].p1,o.p1].forEach(function(t){t.x<e&&(e=t.x),t.x>n&&(n=t.x),t.y<r&&(r=t.y),t.y>i&&(i=t.y)});else if(-1!==["Q","C"].indexOf(o.type))for(var h=l(o),c=f.bind(null,o.p0,h),u=0,p=void 0;u<1;)p=c(u),u+=.05,p.x<e&&(e=p.x),p.x>n&&(n=p.x),p.y<r&&(r=p.y),p.y>i&&(i=p.y);else a=o.p0,a.x<e&&(e=a.x),a.x>n&&(n=a.x),a.y<r&&(r=a.y),a.y>i&&(i=a.y);return{x:e,y:r,width:n-e,height:i-r}}function x(t,e,r,n){var i={},o=t.x,a=t.y,s=e.x,h=e.y,c=Math.PI/180*r,l=Math.cos(-c),u=Math.sin(-c);return i.x=l*(o-s)+u*(a-h)+s,i.y=l*(a-h)-u*(o-s)+h,{x:l*(o-s)+u*(a-h)+s,y:l*(a-h)-u*(o-s)+h}}function m(){}var v=function(){function t(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),b=2*Math.PI,w=function(t,e,r,n,i,o,a){var s=t.x,h=t.y;return s*=e,h*=r,{x:n*s-i*h+o,y:i*s+n*h+a}},B=function(t,e){var r=4/3*Math.tan(e/4),n=Math.cos(t),i=Math.sin(t),o=Math.cos(t+e),a=Math.sin(t+e);return[{x:n-i*r,y:i+n*r},{x:o+a*r,y:a-o*r},{x:o,y:a}]},k=function(t,e,r,n){var i=t*n-e*r<0?-1:1,o=Math.sqrt(t*t+e*e),a=Math.sqrt(t*t+e*e),s=t*r+e*n,h=s/(o*a);return h>1&&(h=1),h<-1&&(h=-1),i*Math.acos(h)},A=function(t,r,n,i,o,a,s,h,c,l,u,f){var p=e(o,2),d=e(a,2),y=e(u,2),g=e(f,2),x=p*d-p*g-d*y;x<0&&(x=0),x/=p*g+d*y,x=Math.sqrt(x)*(s===h?-1:1);var m=x*o/a*f,v=x*-a/o*u,w=l*m-c*v+(t+n)/2,B=c*m+l*v+(r+i)/2,A=(u-m)/o,S=(f-v)/a,C=(-u-m)/o,O=(-f-v)/a,j=k(1,0,A,S),P=k(A,S,C,O);return 0===h&&P>0&&(P-=b),1===h&&P<0&&(P+=b),[w,B,j,P]},S=function(t){var r=t.px,n=t.py,i=t.cx,o=t.cy,a=t.rx,s=t.ry,h=t.xAxisRotation,c=void 0===h?0:h,l=t.largeArcFlag,u=void 0===l?0:l,f=t.sweepFlag,p=void 0===f?0:f,d=[];if(0===a||0===s)return[];var y=Math.sin(c*b/360),g=Math.cos(c*b/360),x=g*(r-i)/2+y*(n-o)/2,m=-y*(r-i)/2+g*(n-o)/2;if(0===x&&0===m)return[];a=Math.abs(a),s=Math.abs(s);var k=e(x,2)/e(a,2)+e(m,2)/e(s,2);k>1&&(a*=Math.sqrt(k),s*=Math.sqrt(k));var S=A(r,n,i,o,a,s,u,p,y,g,x,m),C=v(S,4),O=C[0],j=C[1],P=C[2],D=C[3],E=Math.max(Math.ceil(Math.abs(D)/(b/4)),1);D/=E;for(var M=0;M<E;M++)d.push(B(P,D)),P+=D;return d.map(function(t){var e=w(t[0],a,s,g,y,O,j),r=e.x,n=e.y,i=w(t[1],a,s,g,y,O,j),o=i.x,h=i.y,c=w(t[2],a,s,g,y,O,j);return{x1:r,y1:n,x2:o,y2:h,x:c.x,y:c.y}})};return m.prototype={pow:e,getAngle:s,getDistance:a,scaleAlongOrigin:h,scaleAlongPoint:c,linearTransitionBetweenPoints:d,bezierTransition:p,bezierLength:i,cubicBezierTransition:f,cubicBezierLength:o,cubicBezierCoefficients:l,arcToBezier:S,intermediateValue:y,getBBox:g,toCubicCurves:u,rotatePoint:x},function(){return new m}()}return t})}).call(e,r(1)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";var n,i;"function"==typeof Symbol&&Symbol.iterator;!function(r,o){n=[],void 0!==(i=function(){return o()}.apply(e,n))&&(t.exports=i)}(0,function(){function t(t,e,r){this.executable=e,this.duration=e.duration?e.duration:0,this.currTime=Date.now(),this.lastTime=0-(e.delay?e.delay:0),this.loopTracker=0,this.loop=e.loop?e.loop:0,this.direction=e.direction,this.easying=r,this.end=e.end?e.end:null,"reverse"===this.direction?this.factor=1:this.factor=0}function e(t){return this.endExe=t,this}function r(t){if("function"!=typeof t)throw new Error("Wrong input");d.push(t),d.length>0&&!p&&this.startAnimeFrames()}function n(t){if("function"!=typeof t)throw new Error("Wrong input");var e=d.indexOf(t);-1!==e&&d.splice(e,1)}function i(e,r,n){u[u.length]=new t(e,r,n)}function o(){p||(p=window.requestAnimationFrame(h))}function a(){p&&(window.cancelAnimFrame(p),p=null)}function s(){this.vDoms=[]}function h(){p=window.requestAnimationFrame(h),v=[],m=0;for(var t=0;t<u.length;t+=1)y=u[t],g=Date.now(),y.lastTime+=g-y.currTime,y.currTime=g,y.lastTime<=y.duration&&y.lastTime>=0?(y.execute(x(y.factor-y.easying(y.lastTime,y.duration))),v[m++]=y):y.lastTime>y.duration?(y.execute(1-y.factor),y.loopTracker>=y.loop-1?y.end&&y.end():(y.loopTracker+=1,y.lastTime=0,"alternate"===y.direction?y.factor=1-y.factor:"reverse"===y.direction?y.factor=1:y.factor=0,v[m++]=y)):y.lastTime<y.duration?v[m++]=y:console.log("unknown");if(u=v,d.length>0)for(var e=0;e<d.length;e+=1)d[e](g);for(var r=0,n=f.length;r<n;r+=1)f[r].stateModified&&(f[r].execute(),f[r].stateModified=!1)}function c(){return l||(l=new s),l}var l=null,u=[],f=[],p=void 0,d=[];window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){return window.setTimeout(t,1e3/60)}}(),window.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t)}}(),t.prototype.execute=function(t){this.executable.run(t)},t.prototype.resetCallBack=function(t){"function"==typeof t&&(this.callBack=t)},s.prototype={startAnimeFrames:o,stopAnimeFrame:a,add:i,end:e,onRequestFrame:r,removeRequestFrameCall:n,destroy:function(){this.endExe&&this.endExe(),this.stopAnimeFrame()}},s.prototype.addVdom=function(t){return f.push(t),f.length-1},s.prototype.removeVdom=function(t){for(var e=0;e<f.length;e++)f[e]===t&&f.splice(e,1);console.log(f)},s.prototype.vDomChanged=function(t){f[t]&&(f[t].stateModified=!0)},s.prototype.execute=function(){p||(p=window.requestAnimationFrame(h))};var y=void 0,g=void 0,x=Math.abs,m=0,v=[];return c})},function(t,e,r){"use strict";(function(t){var n,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(a,s){"object"===o(t)&&t.exports?t.exports=s(r(0)):(n=[r(0)],void 0!==(i=function(t){return s(t)}.apply(e,n))&&(t.exports=i))}(0,function(t){function e(t,e){return t/e}function r(t,e){var r=t/e;return 1-(1-r)*Math.sin(r*e*.002*Math.PI*2+Math.PI/2)/Math.exp(8*r)}function n(t,e){var r=t/e,n=r/100;return 1-(1-r)*Math.abs(Math.sin(r*e*n*Math.PI*2+Math.PI/2))/Math.exp(10*r)}function i(t,e){var r=t/e;return r*r}function o(t,e){var r=t/e;return r*(2-r)}function a(t,e){var r=t/e;return r<.5?2*r*r:(4-2*r)*r-1}function s(t,e){var r=t/e;return d.pow(r,3)}function h(t,e){var r=t/e;return(r-=1)*r*r+1}function c(t,e){var r=t/e;return r<.5?4*d.pow(r,3):(r-1)*(2*r-2)*(2*r-2)+1}function l(t,e){var r=t/e;return 1-Math.cos(r*Math.PI/2)}function u(t,e){var r=t/e;return Math.cos(r*Math.PI/2)}function f(t,e){var r=t/e;return(1-Math.cos(Math.PI*r))/2}function p(){function t(t){var p=void 0;if("function"==typeof t)return function(e,r){return t(e/r)};switch(t){case"easeOutQuad":p=o;break;case"easeInQuad":p=i;break;case"easeInOutQuad":p=a;break;case"easeInCubic":p=s;break;case"easeOutCubic":p=h;break;case"easeInOutCubic":p=c;break;case"easeInSin":p=l;break;case"easeOutSin":p=u;break;case"easeInOutSin":p=f;break;case"bounce":p=n;break;case"linear":p=e;break;case"elastic":p=r;break;default:p=e}return p}return t}var d=t("2D");return p})}).call(e,r(1)(t))},function(t,e,r){"use strict";(function(t){var n,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(a,s){"object"===o(t)&&t.exports?t.exports=s(r(3),r(2)):(n=[r(3),r(2)],void 0!==(i=function(t,e){return s(t,e)}.apply(e,n))&&(t.exports=i))}(0,function(t,e){function r(){return g+=1}function n(){return x+=1}function i(t){return this.easying=m(t),this.transition=t,this}function o(t){if(1!==arguments.length)throw new Error("arguments mis match");return this.durationP=t,this}function a(t){if(1!==arguments.length)throw new Error("arguments mis match");return this.loopValue=t,this}function s(t){if(1!==arguments.length)throw new Error("arguments mis match");return this.directionV=t,this}function h(t){if(1!==arguments.length)throw new Error("arguments mis match");return this.data=t,"CANVAS"===this.data.nodeName&&(this.canvasStack=[]),this}function c(t){return"function"!=typeof t?null:(this.callbckExe=t,this)}function l(t){return this.resetV=t,this}function u(t){return this.end=t,this}function f(t){return this.endExe=t,this}function p(){this.start()}function d(){this.queue=e(),this.sequenceQueue=[],this.lengthV=0,this.currPos=0,this.ID=r(),this.loopCounter=0}function y(){this.queue=e(),this.group=[],this.currPos=0,this.ID=r(),this.loopCounter=1}var g=0,x=0,m=t();d.prototype={duration:o,loop:a,callbck:c,bind:h,child:u,ease:i,end:f,commit:p,reset:l,direction:s},d.prototype.add=function(t){var e=this;return Array.isArray(t)||(t=[t]),t.map(function(t){return e.lengthV+=t.length?t.length:0,t}),this.sequenceQueue=this.sequenceQueue.concat(t),this},d.prototype.easyingGlobal=function(t,e){return t/e},d.prototype.start=function(){var t=this;if("alternate"===t.directionV)t.factor=t.factor?-1*t.factor:1,t.currPos=t.factor<0?this.sequenceQueue.length-1:0;else if("reverse"===t.directionV){for(var e=0;e<this.sequenceQueue.length;e+=1){var r=this.sequenceQueue[e];r instanceof d||r instanceof y||r.run(1),t.currPos=e}t.factor=-1}else t.currPos=0,t.factor=1;this.execute()},d.prototype.execute=function(){var t=this,e=this.sequenceQueue[t.currPos];if(e)return e instanceof d||e instanceof y?e.end(t.triggerEnd.bind(t,e)).commit():(this.currObj=e,this.queue.add(n(),{run:function(t){e.run(t)},duration:void 0!==e.duration?e.duration:t.durationP,direction:t.factor<0?"reverse":"default",end:t.triggerEnd.bind(t,e)},function(t,e){return t/e})),this},d.prototype.triggerEnd=function(t){var e=this;if(e.currPos+=e.factor,t.end&&e.triggerChild(t),e.sequenceQueue.length===e.currPos||e.currPos<0)return e.endExe&&e.endExe(),e.end&&e.triggerChild(e),e.loopCounter+=1,void(e.loopCounter<e.loopValue&&e.start());this.execute()},d.prototype.triggerChild=function(t){t.end instanceof y||t.end instanceof d?setTimeout(function(){t.end.commit()},0):t.end()},y.prototype={duration:o,loop:a,callbck:c,bind:h,child:u,ease:i,end:f,commit:p,direction:s},y.prototype.add=function(t){var e=this;return Array.isArray(t)||(t=[t]),this.group=this.group.concat(t),this.group.forEach(function(t){t.durationP=t.durationP?t.durationP:e.durationP}),this},y.prototype.execute=function(){var t=this;return t.currPos=0,t.group.forEach(function(e,r){var i=e;i instanceof d||i instanceof y?i.end(t.triggerEnd.bind(t,i)).commit():t.queue.add(n(),{run:function(t){e.run(t)},duration:void 0!==i.duration?i.duration:t.durationP,loop:1,direction:t.factor<0?"reverse":"default",end:t.triggerEnd.bind(t,i)},t.easying)}),t},y.prototype.start=function(){var t=this;"alternate"===t.directionV?t.factor=t.factor?-1*t.factor:1:"reverse"===t.directionV?t.factor=-1:t.factor=1,this.execute()},y.prototype.triggerEnd=function(t){var e=this;this.currPos+=1,t.end&&this.triggerChild(t.end),this.currPos===this.group.length&&(this.endExe&&this.triggerChild(this.endExe),this.end&&this.triggerChild(this.end),e.loopCounter+=1,e.loopCounter<e.loopValue&&e.start())},y.prototype.triggerChild=function(t){t instanceof y||t instanceof d?t.commit():"function"==typeof t?t():console.log("wrong type")};var v={};return v.sequenceChain=function(){return new d},v.parallelChain=function(){return new y},v})}).call(e,r(1)(t))},function(t,e,r){"use strict";(function(t){var n,i,o=function(){function t(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(o,s){"object"===a(t)&&t.exports?t.exports=s(r(0)):(n=[r(0)],void 0!==(i=function(t){return s(t)}.apply(e,n))&&(t.exports=i))}(0,function(t){function e(){}function r(t,e){var r=0,n=0,i=1,a=1,s=e;if(t.attr.transform&&t.attr.transform.translate){var h=o(t.attr.transform.translate,2);r=h[0],n=h[1],s.x-=r,s.y-=n}if(t.attr.transform&&t.attr.transform.scale&&(i=void 0!==t.attr.transform.scale[0]?t.attr.transform.scale[0]:1,a=void 0!==t.attr.transform.scale[1]?t.attr.transform.scale[1]:i,s.x/=i,s.y/=a),t.attr.transform&&t.attr.transform.rotate){var c=t.attr.transform.rotate[0],l=(t.dom.BBox,{x:0,y:0}),u=s.x,f=s.y,p=l.x,d=l.y,y=Math.PI/180*c,g=Math.cos(y),x=Math.sin(y);s.x=g*(u-p)+x*(f-d)+p,s.y=g*(f-d)-x*(u-p)+d}}t("2D");return e.prototype.execute=function(){this.root.execute(),this.stateModified=!1},e.prototype.root=function(t){this.root=t,this.stateModified=!0},e.prototype.eventsCheck=function(t,e){for(var n=this,i=void 0,o=void 0,a=0;a<=t.length-1;a+=1){var s=t[a],h={x:e.x,y:e.y};r(s,h),s.in({x:h.x,y:h.y})&&(s.children&&s.children.length>0?(o=n.eventsCheck(s.children,{x:h.x,y:h.y}))&&(i=o):i=s)}return i},e.prototype.transformCoOr=r,function(){return new e}})}).call(e,r(1)(t))},function(t,e,r){"use strict";var n,i;"function"==typeof Symbol&&Symbol.iterator;!function(r,o){n=[],void 0!==(i=function(){return o()}.apply(e,n))&&(t.exports=i)}(0,function(){function t(t){for(var e=t.replace(/[^0-9\.,]+/g,"").split(","),r={},n=["r","g","b","a"],i=0;i<e.length;i+=1)r[n[i]]=parseFloat(e[i]);return r}function e(t){for(var e=rgb.replace(/[^0-9\.,]+/g,"").split(","),r={},n=["h","s","l","a"],i=0;i<e.length;i+=1)r[n[i]]=e[i];return r}for(var r=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],n=["f0f8ff","faebd7","00ffff","7fffd4","f0ffff","f5f5dc","ffe4c4","000000","ffebcd","0000ff","8a2be2","a52a2a","deb887","5f9ea0","7fff00","d2691e","ff7f50","6495ed","fff8dc","dc143c","00ffff","00008b","008b8b","b8860b","a9a9a9","a9a9a9","006400","bdb76b","8b008b","556b2f","ff8c00","9932cc","8b0000","e9967a","8fbc8f","483d8b","2f4f4f","2f4f4f","00ced1","9400d3","ff1493","00bfff","696969","696969","1e90ff","b22222","fffaf0","228b22","ff00ff","dcdcdc","f8f8ff","ffd700","daa520","808080","808080","008000","adff2f","f0fff0","ff69b4","cd5c5c","4b0082","fffff0","f0e68c","e6e6fa","fff0f5","7cfc00","fffacd","add8e6","f08080","e0ffff","fafad2","d3d3d3","d3d3d3","90ee90","ffb6c1","ffa07a","20b2aa","87cefa","778899","778899","b0c4de","ffffe0","00ff00","32cd32","faf0e6","ff00ff","800000","66cdaa","0000cd","ba55d3","9370db","3cb371","7b68ee","00fa9a","48d1cc","c71585","191970","f5fffa","ffe4e1","ffe4b5","ffdead","000080","fdf5e6","808000","6b8e23","ffa500","ff4500","da70d6","eee8aa","98fb98","afeeee","db7093","ffefd5","ffdab9","cd853f","ffc0cb","dda0dd","b0e0e6","800080","663399","ff0000","bc8f8f","4169e1","8b4513","fa8072","f4a460","2e8b57","fff5ee","a0522d","c0c0c0","87ceeb","6a5acd","708090","708090","fffafa","00ff7f","4682b4","d2b48c","008080","d8bfd8","ff6347","40e0d0","ee82ee","f5deb3","ffffff","f5f5f5","ffff00","9acd32"],i={},o=0;o<r.length;o+=1)i[r[o]]=n[o];var a={};return a.nameToHex=function(t){return i[t]?"#"+i[t]:"#000"},a.hexToRgb=function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,r,n){return e+e+r+r+n+n});var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}:null},a.rgbToHex=function(t){var e=t.substring(t.lastIndexOf("(")+1,t.lastIndexOf(")")).split(",");return"#"+((1<<24)+(parseInt(e[0],10)<<16)+(parseInt(e[1],10)<<8)+parseInt(e[2],10)).toString(16).slice(1)},a.hslToRgb=function(t){var e=void 0,r=void 0,n=void 0,i=void 0,o=function(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t},a=NaN;return e=o(NaN,a,NaN),r=o(NaN,a,i),n=o(NaN,a,NaN),{r:Math.round(255*e),g:Math.round(255*r),b:Math.round(255*n)}},a.transition=function(r,n){return r=r||"rgb(0,0,0)",n=n||"rgb(0,0,0)",r=r.startsWith("#")?this.hexToRgb(r):r.startsWith("rgb")?t(r):r.startsWith("hsl")?e(r):{r:0,g:0,b:0},n=n.startsWith("#")?this.hexToRgb(n):n.startsWith("rgb")?t(n):n.startsWith("hsl")?e(n):{r:0,g:0,b:0},function(t){return"rgb("+Math.round(r.r+(n.r-r.r)*t)+","+Math.round(r.g+(n.g-r.g)*t)+","+Math.round(r.b+(n.b-r.b)*t)+")"}},a})},function(t,e,r){"use strict";(function(t){var n,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(a,s){"object"===o(t)&&t.exports?t.exports=s(r(0)):(n=[r(0)],void 0!==(i=function(t){return s(t)}.apply(e,n))&&(t.exports=i))}(0,function(t){function e(t){var e=t.replace(/e-/g,"$");e=e.replace(/ /g,","),e=e.replace(/-/g,",-"),e=e.split(/([a-zA-Z,])/g).filter(function(t){return""!==t&&","!==t}).map(function(t){return t.replace(/\$/g,"e-")});for(var r=0;r<e.length;r+=1)if(e[r].split(".").length>2){for(var n=e[r].split("."),i=[n[0]+"."+n[1]],o=2;o<n.length;o+=1)i.push("."+n[o]);e.splice(r,1,i[0],i[1])}return e}function r(t,e){return{x:t.x+e.x,y:t.y+e.y}}function n(t,e){return{x:t.x-e.x,y:t.y-e.y}}function i(){return{x:parseFloat(this.pathArr[this.currPathArr+=1]),y:parseFloat(this.pathArr[this.currPathArr+=1])}}function o(t,e,r){return t?r:e}function a(t,e){var n=o(t,this.pp?this.pp:{x:0,y:0},{x:0,y:0});return this.cp=r(e,n),this.start=this.cp,this.segmentLength=0,this.length=this.segmentLength,0!==this.currPathArr&&this.pp?(this.stackGroup.push(this.stack),this.stack=[]):this.stackGroup.push(this.stack),this.stack.push({type:"M",p0:this.cp,length:this.segmentLength,pointAt:function(t){return this.p0}}),this.pp=this.cp,this}function s(t,e){var n=o(t,this.pp,{x:this.pp.x,y:0});return this.cp=r(e,n),this.segmentLength=g.getDistance(this.pp,this.cp),this.stack.push({type:"V",p0:this.pp,p1:this.cp,length:this.segmentLength,pointAt:function(t){return g.linearTransitionBetweenPoints(this.p0,this.p1,t)}}),this.length+=this.segmentLength,this.pp=this.cp,this}function h(t,e){var n=o(t,this.pp,{x:0,y:0});return this.cp=r(e,n),this.segmentLength=g.getDistance(this.pp,this.cp),this.stack.push({type:"L",p0:this.pp,p1:this.cp,length:this.segmentLength,pointAt:function(t){return g.linearTransitionBetweenPoints(this.p0,this.p1,t)}}),this.length+=this.segmentLength,this.pp=this.cp,this}function c(t,e){var n=o(t,this.pp,{x:0,y:this.pp.y});return this.cp=r(e,n),this.segmentLength=g.getDistance(this.pp,this.cp),this.stack.push({type:"H",p0:this.pp,p1:this.cp,length:this.segmentLength,pointAt:function(t){return g.linearTransitionBetweenPoints(this.p0,this.p1,t)}}),this.length+=this.segmentLength,this.pp=this.cp,this}function l(){return this.cp=this.start,this.segmentLength=g.getDistance(this.pp,this.cp),this.stack.push({p0:this.pp,p1:this.cp,type:"Z",length:this.segmentLength,pointAt:function(t){return g.linearTransitionBetweenPoints(this.p0,this.p1,t)}}),this.length+=this.segmentLength,this.pp=this.cp,this}function u(t,e,n){var i=o(t,this.pp,{x:0,y:0}),a=r(e,i),s=r(n,i);return this.cp=s,this.segmentLength=g.bezierLength(this.pp,a,this.cp),this.cp=s,this.stack.push({type:"Q",p0:this.pp,cntrl1:a,cntrl2:a,p1:this.cp,length:this.segmentLength,pointAt:function(t){return g.bezierTransition(this.p0,this.cntrl1,this.p1,t)}}),this.length+=this.segmentLength,this.pp=this.cp,this}function f(t,e,n,i){var a=o(t,this.pp,{x:0,y:0}),s=r(e,a),h=r(n,a),c=r(i,a),l=g.cubicBezierCoefficients({p0:this.pp,cntrl1:s,cntrl2:h,p1:c});return this.cntrl=h,this.cp=c,this.segmentLength=g.cubicBezierLength(this.pp,l),this.stack.push({type:"C",p0:this.pp,cntrl1:s,cntrl2:h,p1:this.cp,length:this.segmentLength,co:l,pointAt:function(t){return g.cubicBezierTransition(this.p0,this.co,t)}}),this.length+=this.segmentLength,this.pp=this.cp,this}function p(t,e,i){var a=o(t,this.pp,{x:0,y:0}),s=r(this.pp,n(this.pp,this.cntrl?this.cntrl:this.pp)),h=r(e,a),c=r(i,a);this.cp=c;var l=g.cubicBezierCoefficients({p0:this.pp,cntrl1:s,cntrl2:h,p1:this.cp});return this.segmentLength=g.cubicBezierLength(this.pp,l),this.stack.push({type:"S",p0:this.pp,cntrl1:s,cntrl2:h,p1:this.cp,length:this.segmentLength,pointAt:function(t){return g.cubicBezierTransition(this.p0,this.co,t)}}),this.length+=this.segmentLength,this.pp=this.cp,this}function d(t,e,n,i,a,s,h){var c=o(t,this.pp,{x:0,y:0}),l=this,u=r(h,c);this.cp=u;var f=g.arcToBezier({px:this.pp.x,py:this.pp.y,cx:u.x,cy:u.y,rx:e,ry:n,xAxisRotation:i,largeArcFlag:a,sweepFlag:s});return f.forEach(function(t,e){var r=0===e?l.pp:{x:f[0].x,y:f[0].y},n={x:t.x1,y:t.y1},i={x:t.x2,y:t.y2},o={x:t.x,y:t.y},a=g.cubicBezierLength(r,g.cubicBezierCoefficients({p0:r,cntrl1:n,cntrl2:i,p1:o}));l.stack.push({type:"C",p0:r,cntrl1:n,cntrl2:i,p1:o,length:a,pointAt:function(t){return g.bezierTransition(this.p0,this.cntrl1,this.cntrl2,this.p1,t)}}),l.length+=a}),this.pp=this.cp,this}function y(t){this.stack=[],this.length=0,this.stackGroup=[],t&&(this.path=t,this.parse())}var g=t("2D");return y.prototype={z:l,m:a,v:s,h:c,l:h,q:u,s:p,c:f,a:d,fetchXY:i},y.prototype.parse=function(){for(this.currPathArr=-1,this.stack=[],this.length=0,this.pathArr=e(this.path),this.stackGroup=[];this.currPathArr<this.pathArr.length-1;)this.case(this.pathArr[this.currPathArr+=1]);return this.stack},y.prototype.fetchPathString=function(){for(var t="",e=void 0,r=0;r<this.stack.length;r++)e=this.stack[r],"M"===e.type?t+=e.type+" "+e.p0.x+","+e.p0.y+" ":"Z"===e.type?t+="z":"C"===e.type?t+=e.type+" "+e.cntrl1.x+","+e.cntrl1.y+" "+e.cntrl2.x+","+e.cntrl2.y+" "+e.p1.x+","+e.p1.y+" ":"Q"===e.type?t+=e.type+" "+e.cntrl1.x+","+e.cntrl1.y+" "+e.p1.x+","+e.p1.y+" ":"S"===e.type?t+=e.type+" "+e.cntrl2.x+","+e.cntrl2.y+" "+e.p1.x+","+e.p1.y+" ":"V"===e.type?t+=e.type+" "+e.p1.y+" ":"H"===e.type?t+=e.type+" "+e.p1.x+" ":"L"===e.type&&(t+=e.type+" "+e.p1.x+","+e.p1.y+" ");return t},y.prototype.getTotalLength=function(){return this.length},y.prototype.getAngleAtLength=function(t,e){if(t>this.length)return null;var r=this.getPointAtLength(t),n=this.getPointAtLength(t+("src"===e?-1*t*.01:.01*t));return Math.atan2(n.y-r.y,n.x-r.x)},y.prototype.getPointAtLength=function(t){var e={x:0,y:0},r=t;return this.stack.every(function(t,n){return r-=t.length,Math.floor(r)>=0||(e=t.pointAt((t.length+r)/(0===t.length?1:t.length)),!1)}),e},y.prototype.isValid=function(t){return-1!==["m","M","v","V","l","L","h","H","q","Q","c","C","s","S","a","A","z","Z"].indexOf(t)},y.prototype.case=function(t){var e=t;switch(this.isValid(e)?this.PC=e:(e=this.PC,this.currPathArr=this.currPathArr-1),e){case"m":this.m(!1,this.fetchXY());break;case"M":this.m(!0,this.fetchXY());break;case"v":this.v(!1,{x:0,y:parseFloat(this.pathArr[this.currPathArr+=1])});break;case"V":this.v(!0,{x:0,y:parseFloat(this.pathArr[this.currPathArr+=1])});break;case"l":this.l(!1,this.fetchXY());break;case"L":this.l(!0,this.fetchXY());break;case"h":this.h(!1,{x:parseFloat(this.pathArr[this.currPathArr+=1]),y:0});break;case"H":this.h(!0,{x:parseFloat(this.pathArr[this.currPathArr+=1]),y:0});break;case"q":this.q(!1,this.fetchXY(),this.fetchXY());break;case"Q":this.q(!0,this.fetchXY(),this.fetchXY());break;case"c":this.c(!1,this.fetchXY(),this.fetchXY(),this.fetchXY());break;case"C":this.c(!0,this.fetchXY(),this.fetchXY(),this.fetchXY());break;case"s":this.s(!1,this.fetchXY(),this.fetchXY());break;case"S":this.s(!0,this.fetchXY(),this.fetchXY());break;case"a":var r=parseFloat(this.pathArr[this.currPathArr+=1]),n=parseFloat(this.pathArr[this.currPathArr+=1]),i=parseFloat(this.pathArr[this.currPathArr+=1]),o=parseFloat(this.pathArr[this.currPathArr+=1]),a=parseFloat(this.pathArr[this.currPathArr+=1]);this.a(!1,r,n,i,o,a,this.fetchXY());break;case"A":r=parseFloat(this.pathArr[this.currPathArr+=1]),n=parseFloat(this.pathArr[this.currPathArr+=1]),i=parseFloat(this.pathArr[this.currPathArr+=1]),o=parseFloat(this.pathArr[this.currPathArr+=1]),a=parseFloat(this.pathArr[this.currPathArr+=1]),this.a(!0,r,n,i,o,a,this.fetchXY());break;case"z":this.z()}},{instance:function(t){return new y(t)},isTypePath:function(t){return t instanceof y}}})}).call(e,r(1)(t))},function(t,e,r){"use strict";(function(t){var n,i,o=function(){function t(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(o,s){"object"===a(t)&&t.exports?t.exports=s(r(0),r(2),r(3),r(4),r(5),r(6),r(7)):(n=[r(0),r(2),r(3),r(4),r(5),r(6),r(7)],void 0!==(i=function(t,e,r,n,i,o,a){return s(t,e,r,n,i,o,a)}.apply(e,n))&&(t.exports=i))}(0,function(t,e,r,n,i,s,h){function c(){return tt+=1}function l(){return et+=1}function u(t,e){for(var r=void 0,n=[],i=0;i<this.stack.length;i+=1)r=this.stack[i],n.push(r.fetchEls(t,e));var o=new _;return o.wrapper(n),o}function f(t,e){var r=[],n=new _;if(this.children.length>0)if("."===t.charAt(0)){var i=t.substring(1,t.length);this.children.forEach(function(t){(e&&t.dataObj&&-1!==e.indexOf(t.dataObj)&&t.attr.class===i||!e&&t.attr.class===i)&&r.push(t)})}else if("#"===t.charAt(0)){var o=t.substring(1,t.length);this.children.every(function(t){return!(e&&t.dataObj&&-1!==e.indexOf(t.dataObj)&&t.attr.id===o||!e&&t.attr.id===o)||(r.push(t),!1)})}else this.children.forEach(function(n){(e&&n.dataObj&&-1!==e.indexOf(n.dataObj)&&n.nodeName===t||!e&&n.nodeName===t)&&r.push(n)});return n.wrapper(r)}function p(t,e){var r=void 0;if(this.children.length>0)if("."===t.charAt(0)){var n=t.substring(1,t.length);this.children.every(function(t){return!(e&&t.dataObj&&e===t.dataObj&&t.attr.class===n||!e&&t.attr.class===n)||(r=t,!1)})}else if("#"===t.charAt(0)){var i=t.substring(1,t.length);this.children.every(function(t){return!(e&&t.dataObj&&e===t.dataObj&&t.attr.id===i||!e&&t.attr.id===i)||(r=t,!1)})}else this.children.forEach(function(n){(e&&n.dataObj&&e===n.dataObj&&n.nodeName===t||!e&&n.nodeName===t)&&(r=n)});return r}function d(t,e,r){for(var n=void 0,i=[],o=0;o<this.stack.length;o+=1)n=this.stack[o],i.push(n.join(t,e,r));var a=new _;return a.wrapper(i),a}function y(t){for(var e=void 0,r=[],n=0,i=this.stack.length;n<i;n+=1){var o={};if(e=this.stack[n],"function"==typeof t)o=t.call(e,e.dataObj,n);else for(var s=Object.keys(t),h=0,c=s.length;h<c;h+=1){var l=s[h];"object"!==a(t[l])?o[l]=t[l]:o[l]=JSON.parse(JSON.stringify(t[l]))}r.push(e.createEl(o))}var u=new _;return u.wrapper(r),u}function g(t,e){for(var r=void 0,n=[],i=t,o=0,a=this.stack.length;o<a;o+=1){var s={};if(r=this.stack[o],"function"==typeof t&&(i=t.call(r,r.dataObj,o)),"function"==typeof e)s=e.call(r,r.dataObj,o);else for(var h=Object.keys(e),c=0,l=h.length;c<l;c+=1){var u=h[c];s[u]=e[u]}n.push(r.createEls(i,s))}var f=new _;return f.wrapper(n),f}function x(t){for(var e=0,r=this.stack.length;e<r;e+=1)t.call(this.stack[e],this.stack[e].dataObj,e);return this}function m(t,e){for(var r=void 0,n=0,i=this.stack.length;n<i;n+=1)if(r=this.stack[n],arguments.length>1)"function"==typeof e?r.setAttr(t,e.call(r,r.dataObj,n)):r.setAttr(t,e);else if("function"==typeof t)r.setAttr(t.call(r,r.dataObj,n));else for(var o=Object.keys(t),a=0,s=o.length;a<s;a+=1){var h=o[a];"function"==typeof t[h]?r.setAttr(h,t[h].call(r,r.dataObj,n)):r.setAttr(h,t[h])}return this}function v(t,e){for(var r=void 0,n=0,i=this.stack.length;n<i;n+=1)if(r=this.stack[n],arguments.length>1)"function"==typeof e?r.setStyle(t,e.call(r,r.dataObj,n)):r.setStyle(t,e);else{if("function"==typeof t)r.setStyle(t.call(r,r.dataObj,n));else for(var o=Object.keys(t),a=0,s=o.length;a<s;a+=1){var h=o[a];"function"==typeof t[h]?r.setStyle(h,t[h].call(r,r.dataObj,n)):r.setStyle(h,t[h])}"function"==typeof t?r.setStyle(t.call(r,r.dataObj,n)):r.setStyle(t)}return this}function b(t){for(var e=void 0,r=0,n=this.stack.length;r<n;r+=1)e=this.stack[r],"function"==typeof t?e.translate(t.call(e,e.dataObj,r)):e.translate(t);return this}function w(t){for(var e=void 0,r=0,n=this.stack.length;r<n;r+=1)e=this.stack[r],"function"==typeof t?e.rotate(t.call(e,e.dataObj,r)):e.rotate(t);return this}function B(t){for(var e=void 0,r=0,n=this.stack.length;r<n;r+=1)e=this.stack[r],"function"==typeof t?e.scale(t.call(e,e.dataObj,r)):e.scale(t);return this}function k(t,e){for(var r=0,n=this.stack.length;r<n;r+=1)this.stack[r].on(t,e);return this}function A(){for(var t=0,e=this.stack.length;t<e;t+=1)this.stack[t].remove();return this}function S(t,e){this[t]=e}function C(t,e){var r={x:t.x,y:t.y},n={x:t.x+t.width,y:t.y},i={x:t.x,y:t.y+t.height},o={x:t.x+t.width,y:t.y+t.height},a={x:0,y:0};r=$.rotatePoint(r,a,e,$.getDistance(r,a)),n=$.rotatePoint(n,a,e,$.getDistance(n,a)),i=$.rotatePoint(i,a,e,$.getDistance(i,a)),o=$.rotatePoint(o,a,e,$.getDistance(o,a));var s=[r.x,n.x,i.x,o.x].sort(function(t,e){return t-e}),h=[r.y,n.y,i.y,o.y].sort(function(t,e){return t-e});return{x:s[0],y:h[0],width:s[3]-s[0],height:h[3]-h[0]}}function O(t,e,r){for(var n=t.map(r),i={new:[],update:[],old:[]},o=0;o<e.length;o+=1){var a=n.indexOf(r(e[o].dataObj,o));-1!==a?(e[o].dataObj=t[a],i.update.push(e[o]),n[a]=null):i.old.push(e[o])}return i.new=t.filter(function(t,e){var i=n.indexOf(r(t,e));return-1!==i&&(n[i]=null,!0)}),i}function j(t,e,r){var n=this,i=e.split(","),o=r.joinCond,a={new:{},update:{},old:{}};o||(o=function(t,e){return e});for(var s=0,h=i.length;s<h;s++){var c=i[s],l=n.fetchEls(c),u=O(t,l.stack,o);a.new[c]=u.new,a.update[c]=(new _).wrapper(u.update),a.old[c]=(new _).wrapper(u.old)}return r.action&&(r.action.enter&&r.action.enter.call(n,a.new),r.action.exit&&r.action.exit.call(n,a.old),r.action.update&&r.action.update.call(n,a.update)),nt.action={value:r.action,enumerable:!1,configurable:!0,writable:!1},nt.selector={value:e,enumerable:!1,configurable:!0,writable:!1},nt.data={value:t,enumerable:!1,configurable:!0,writable:!1},Object.create(n,nt)}function P(){return tt+=1}function D(t,e,r){for(var n={},i=Object.keys(t),o=0;o<i.length;o+=1){var a=i[o];"attr"!==a&&"style"!==a&&"end"!==a&&("function"==typeof t[a]?n[a]=t[a].call(e,e.dataObj,r):n[a]=t[a])}return n}function E(t,e,r){this.config=t,this.type=e||"linear",this.pDom=r}function M(t,e){var r=null;switch(t.el){case"group":r=wt("g");break;default:r=wt(t.el)}var n=new Bt(r,t,c(),e);return t.dataObj&&(r.dataObj=t.dataObj),n}function L(t){var e=this;if(t.transform){var r=t.transform,n=r.scale&&r.scale.length>0?r.scale[0]:1,i=r.scale&&r.scale.length>1?r.scale[1]:n||1,o=r.skewX?r.skewX[0]:0,a=r.skewY?r.skewY[0]:0,s=r.translate&&r.translate.length>0?r.translate[0]:0,h=r.translate&&r.translate.length>1?r.translate[1]:s||0;e.ctx.transform(n,o,a,i,s,h),r.rotate&&(e.ctx.translate(r.cx,r.cy),e.ctx.rotate(r.rotate*(Math.PI/180)),e.ctx.translate(-r.cx,-r.cy))}for(var c=0;c<e.stack.length;c+=1)e.stack[c].execute()}function T(t,e){void 0!==e?this.attr[t]=e:delete this.attr[t]}function I(t,e){void 0!==e?this.style[t]=e:delete this.style[t]}function G(t,e){this.config=t,this.type=e||"linear"}function F(t){return new G(t,"linear")}function N(t){return new G(t,"radial")}function q(t,e,r,n,i){this.pixels=t,this.width=e,this.height=r,this.x=n,this.y=i}function H(t){return t((this.rImageObj?this.rImageObj:this.imageObj).getContext("2d").getImageData(0,0,this.attr.width,this.attr.height))}function V(t,e){var r=document.createElement("canvas");return r.setAttribute("height",e),r.setAttribute("width",t),r.style.height=e+"px",r.style.width=t+"px",r}function z(t,e){}function R(){this.style.fillStyle&&this.ctx.fill(),this.style.strokeStyle&&this.ctx.stroke()}function Y(){}function X(t,e,r,n,i,o){var a=this;a.ctx=t,a.attr=e,a.style=r,a.nodeName="Image",a.image=new Image,a.image.onload=function(){if(this.crossOrigin="anonymous",a.attr.height=a.attr.height?a.attr.height:this.height,a.attr.width=a.attr.width?a.attr.width:this.width,Ot[a.attr.src])a.imageObj=Ot[a.attr.src];else{var t=V(this.width,this.height);t.getContext("2d").drawImage(this,0,0,this.width,this.height),a.imageObj=t,Ot[a.attr.src]=t}if(a.attr.clip){var e=void 0,r=a.attr,i=r.clip,s=r.width,h=r.height,c=i.sx,l=i.sy,u=i.swidth,f=i.sheight;this.rImageObj||(a.rImageObj=V(a.attr.width,a.attr.height)),e=a.rImageObj.getContext("2d"),c=void 0!==c?c:0,l=void 0!==l?l:0,u=void 0!==u?u:s,f=void 0!==f?f:h,e.drawImage(a.imageObj,c,l,u,f,0,0,s,h)}if(a.attr.pixels){var p=void 0,d=a.attr,y=d.width,g=d.height;a.rImageObj||(a.rImageObj=V(a.attr.width,a.attr.height),p=a.rImageObj.getContext("2d"),p.drawImage(a.imageObj,0,0,y,g)),p=a.rImageObj.getContext("2d"),p.putImageData(H.call(a,a.attr.pixels),0,0)}n&&"function"==typeof n&&n.call(o),a.nodeExe.BBoxUpdate=!0,K.vDomChanged(a.nodeExe.vDomIndex)},a.image.onerror=function(){i&&"function"==typeof i&&i.call(o)},a.attr.src&&(a.image.src=a.attr.src),K.vDomChanged(o.vDomIndex),a.stack=[a]}function W(t,e,r){var n=this;n.ctx=t,n.attr=e,n.style=r,n.nodeName="text",n.stack=[n]}function Q(t){var e=new Path2D,r=t,n=[];r=r.replace(/,/g," ").split(" "),e.moveTo(r[0],r[1]),n.push({x:parseFloat(r[0]),y:parseFloat(r[1])});for(var i=2;i<r.length;i+=2)e.lineTo(r[i],r[i+1]),n.push({x:parseFloat(r[i]),y:parseFloat(r[i+1])});return e.closePath(),{path:e,points:n}}function _(t,e,r,n){e||(e=[]);var i=void 0,o=void 0,a=r&&r.attr?Object.keys(r.attr):[],s=r&&r.style?Object.keys(r.style):[];return this.stack=e.map(function(e,h){var l=void 0;l="CANVAS"===t.type?new It(t.ctx,{el:r.el},c(),n):M({el:r.el},n);for(var u=0,f=a.length;u<f;u+=1)if("transform"!==(o=a[u]))if("function"==typeof r.attr[o]){var p=r.attr[o].call(l,e,h);l.setAttr(o,p)}else l.setAttr(o,r.attr[o]);else{i="function"==typeof r.attr.transform?r.attr[o].call(l,e,h):r.attr.transform;for(var d in i)l[d](i[d])}for(var y=0,g=s.length;y<g;y+=1)if(o=s[y],"function"==typeof r.style[o]){var x=r.style[o].call(l,e,h);l.setStyle(o,x)}else l.setStyle(o,r.style[o]);return l.dataObj=e,l}),this}function U(t){return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}function Z(t,e){this.ctx=t}var $=t("2D"),J=r(),K=e(),tt=0,et=0,rt=void 0,nt={};nt.push={value:function(t){"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]);for(var e=0,r=t.length;e<r;e++)this.data.push(t[e]);if(this.action.enter){var n={};this.selector.split(",").forEach(function(e){n[e]=t}),this.action.enter.call(this,n)}},enumerable:!1,configurable:!1,writable:!1},nt.pop={value:function(){var t=this,e=this.data.pop();if(this.action.exit){var r={};this.selector.split(",").forEach(function(n){r[n]=t.fetchEls(n,[e])}),this.action.exit.call(this,r)}},enumerable:!1,configurable:!1,writable:!1},nt.remove={value:function(t){"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]);var e=this;if(this.action.exit){var r={};this.selector.split(",").forEach(function(n){r[n]=e.fetchEls(n,t)}),this.action.exit.call(this,r)}},enumerable:!1,configurable:!0,writable:!1},nt.update={value:function(){var t=this;if(this.action.update){var e={};this.selector.split(",").forEach(function(r){e[r]=t.fetchEls(r,t.data)}),this.action.update.call(this,e)}},enumerable:!1,configurable:!0,writable:!1};var it=function(t,e){for(var r=e.attr?e.attr:{},n=e.style?e.style:{},i=[],o=void 0,a=void 0,s=r?Object.keys(r):[],h=0,c=s.length;h<c;h+=1)if("transform"!==(a=s[h]))"d"===a?t.morphTo(e):i[i.length]=st(t,a,r[a]);else if("function"==typeof(o=r[a]))i[i.length]=ot(t,a,o);else{var l=t.attr.transform;l||(t.attr.transform={});for(var u=Object.keys(r.transform),f=0,p=u.length;f<p;f+=1)i[i.length]=at(t,u[f],r.transform[u[f]])}for(var d=n?Object.keys(n):[],y=0,g=d.length;y<g;y+=1)i[i.length]=ht(t,d[y],n[d[y]]);return{run:function(t){for(var e=0,r=i.length;e<r;e+=1)i[e](t)},duration:e.duration,delay:e.delay?e.delay:0,end:e.end?e.end.bind(t,t.dataObj):null,loop:e.loop?e.loop:0,direction:e.direction?e.direction:"default"}},ot=function(t,e,r){return function(n){t.setAttr(e,r.call(t,n))}},at=function(t,e,r){var n=[],i=t.attr.transform;return"function"==typeof r?function(n){t[e](r.call(t,n))}:(r.forEach(function(t,r){var o=void 0;o=i[e]&&void 0!==i[e][r]?i[e][r]:"scale"===e?1:0,n.push($.intermediateValue.bind(null,o,t))}),function(r){t[e](n.map(function(t){return t(r)}))})},st=function(t,e,r){var n=t.attr[e];return"function"==typeof r?function(n){t.setAttr(e,r.call(t,n))}:function(i){t.setAttr(e,$.intermediateValue(n,r,i))}},ht=function(t,e,r){var n=void 0,i=void 0,o=void 0;if("function"==typeof r)return function(n){t.setStyle(e,r.call(t,t.dataObj,n))};if(n=t.style[e],isNaN(r)){if(r.startsWith("#")||r.startsWith("rgb")||r.startsWith("hsl")){var a=s.transition(n,r);return function(r){t.setStyle(e,a(r))}}n=n.match(/(\d+)/g),o=r.match(/(\d+)/g),i=r.match(/\D+$/),n=parseInt(n.length>0?n[0]:0,10),o=parseInt(o.length>0?o[0]:0,10),i=i.length>0?i[0]:"px"}else n=void 0!==t.style[e]?t.style[e]:1,o=r,i=0;return function(r){t.setStyle(e,$.intermediateValue(n,o,r)+i)}},ct=function(t){return K.add(l(),it(this,t),J(t.ease)),this},lt=function(t){return it(this,t)},ut=function(t){for(var e=void 0,r=void 0,n=0;n<this.stack.length;n+=1)r={},e=this.stack[n],r=D(t,e,n),t.attr&&(r.attr=D(t.attr,e,n)),t.style&&(r.style=D(t.style,e,n)),t.end&&(r.end=t.end),t.ease&&(r.ease=t.ease),e.animateTo(r);return this},ft=function(t){for(var e=void 0,r=void 0,n=[],i=0;i<this.stack.length;i+=1)r={},e=this.stack[i],r=D(t,e,i),t.attr&&(r.attr=D(t.attr,e,i)),t.style&&(r.style=D(t.style,e,i)),t.end&&(r.end=t.end),t.ease&&(r.ease=t.ease),n.push(e.animateExe(r));return n},pt=function(t){for(var e=void 0,r=Object.keys(t),n=0;n<this.stack.length;n+=1){e=this.stack[n];for(var i={},o=0;o<r.length;o++){var a=t[r[o]];"function"==typeof a&&(a=a.call(e,e.dataObj,n)),i[r[o]]=a}e.animatePathTo(i)}return this},dt=function(t){var e=void 0;if("function"!=typeof t)for(var r=0;r<this.stack.length;r+=1)e=this.stack[r],e.text(t);else for(var n=0;n<this.stack.length;n+=1)e=this.stack[n],e.text(t.call(e,e.dataObj,n));return this},yt=function(t){function e(t){if(t.length){for(var e=t,r=[],n=0;n<e.length;n+=1)if(-1!==["M","C","S","Q"].indexOf(e[n].type))r.push(e[n]);else if(-1!==["V","H","L","Z"].indexOf(e[n].type)){var i={x:(e[n].p0.x+e[n].p1.x)/2,y:(e[n].p0.y+e[n].p1.y)/2};r.push({p0:e[n].p0,cntrl1:i,cntrl2:i,p1:e[n].p1,type:"C",length:e[n].length})}return r}}function r(t,e){k.add({run:function(t){var e=this.pointTansition(t);y.arrayStack[this.id]="M"+e.x+","+e.y,y.setAttr("d",y.arrayStack.join(""))},id:P(),pointTansition:$.linearTransitionBetweenPoints.bind(null,t.p0,e.p0)})}function i(t,e){k.add({run:function(t){var e=this,r=e.ctrl1Transition(t),n=e.ctrl2Transition(t),i=e.destTransition(t);y.arrayStack[this.id]=" C"+r.x+","+r.y+" "+n.x+","+n.y+" "+i.x+","+i.y,y.setAttr("d",y.arrayStack.join(""))},id:P(),srcTransition:$.linearTransitionBetweenPoints.bind(null,t.p0,e.p0),ctrl1Transition:$.linearTransitionBetweenPoints.bind(null,t.cntrl1,e.cntrl1),ctrl2Transition:$.linearTransitionBetweenPoints.bind(null,t.cntrl2,e.cntrl2),destTransition:$.linearTransitionBetweenPoints.bind(null,t.p1,e.p1)})}function o(t,e){if(t.length===e)return t;for(var r=t.reduce(function(t,e){return t+e.length},0),n=[],i=0;i<t.length;i+=1){var o=t[i].length,s=Math.floor(e/r*o);if(s<=1)n.push(t[i]);else{for(var h=t[i],c=void 0;s>1;){var l=h;c=a([l.p0,l.cntrl1,l.cntrl2,l.p1].slice(0),1/s),n.push({p0:l.p0,cntrl1:c.b1[0],cntrl2:c.b1[1],p1:c.b1[2],type:"C"}),h={p0:c.b1[2],cntrl1:c.b2[0],cntrl2:c.b2[1],p1:c.b2[2],type:"C"},s-=1}n.push(h)}}return n}function a(t,e){for(var r=[],n=t;n.length>0;){for(var i=0;i<n.length-1;i+=1)r.unshift(n[i]),n[i]=s(n[i],n[i+1],e);r.unshift(n.pop())}return{b1:[{x:r[5].x,y:r[5].y},{x:r[2].x,y:r[2].y},{x:r[0].x,y:r[0].y}],b2:[{x:r[1].x,y:r[1].y},{x:r[3].x,y:r[3].y},{x:r[6].x,y:r[6].y}]}}function s(t,e,r){return{x:t.x+(e.x-t.x)*(void 0!==r?r:.5),y:t.y+(e.y-t.y)*(void 0!==r?r:.5)}}function h(t){for(var e=0,r=0;r<t.length;r+=1)"M"!==t[r].type&&(e+=(t[r].p1.x-t[r].p0.x)*(t[r].p1.y+t[r].p0.y));return e}function c(t){var e=t.reverse(),r=[{type:"M",p0:e[0].p1}];return e.forEach(function(t){if("C"===t.type){var e=t,n=e.p0,i=e.cntrl1;e.p0=t.p1,e.p1=n,e.cntrl1=t.cntrl2,e.cntrl2=i,r.push(e)}}),r}function l(t){var e=0,r=0,n=0,i=0;return t.forEach(function(t){t.p0&&(e+=t.p0.x,r+=t.p0.y,n+=1,i+=1),t.p1&&(e+=t.p1.x,r+=t.p1.y,n+=1,i+=1)}),{x:e/n,y:r/i}}function u(t,e){return e.x>=t.x&&e.y<=t.y?1:e.x<=t.x&&e.y<=t.y?2:e.x<=t.x&&e.y>=t.y?3:4}function f(t,e){for(var r=l(t),n=l(e),i=t,o=e,a=0;a<t.length;a+=1)i[a].quad=u(r,t[a].p0);for(var s=0;s<e.length;s+=1)o[s].quad=u(n,e[s].p0);var h=0;return t.forEach(function(t,e){var n=$.getDistance(t.p0,r);1===t.quad&&n>=h&&(h=n)}),h=0,e.forEach(function(t,e){var r=$.getDistance(t.p0,n);1===t.quad&&r>h&&(h=r)}),{src:p(t,0),dest:p(e,0),srcCentroid:r,destCentroid:n}}function p(t,e){if(e<=0)return t;var r=t,n=r.splice(0,e);return n.shift(),r=r.concat(n),r.unshift({type:"M",p0:r[0].p0}),r.push({type:"M",p0:r[0].p0}),r}function d(t,e){var n=void 0,a=void 0,s=t.length>e.length?t.length:e.length;e.length>2&&t.length>2?(s>50?s+=30:s=s>=20?s+15:s+4,n=o(t,s),a=o(e,s)):(n=t,a=e),h(n)<0&&(n=c(n)),h(a)<0&&(a=c(a));var l=f(n,a,this);n=l.src.length>1?l.src:[{type:"M",p0:l.destCentroid}],a=l.dest.length>1?l.dest:[{type:"M",p0:l.srcCentroid}];for(var u=a.length<n.length?n.length:a.length,p=0;p<n.length;p+=1)n[p].index=p;for(var d=0;d<a.length;d+=1)a[d].index=d;for(var y=0;y<u;y+=1){var g=n[n.length-1].p0?n[n.length-1].p0:n[n.length-1].p1,x=a[a.length-1].p0?a[a.length-1].p0:a[a.length-1].p1,m=n[y]?n[y]:{type:"C",p0:g,p1:g,cntrl1:g,cntrl2:g,length:0},v=a[y]?a[y]:{type:"C",p0:x,p1:x,cntrl1:x,cntrl2:x,length:0};"M"===m.type&&"M"===v.type?r(m,v):"M"===m.type||"M"===v.type?"M"===m.type?i({type:"C",p0:m.p0,p1:m.p0,cntrl1:m.p0,cntrl2:m.p0,length:0},v):i(m,{type:"C",p0:v.p0,p1:v.p0,cntrl1:v.p0,cntrl2:v.p0,length:0}):i(m,v)}}var y=this,g=t.duration,x=t.ease,m=t.loop?t.loop:0,v=t.direction?t.direction:"default",b=t.attr.d?t.attr.d:y.attr.d,w=Gt.Path(y.attr.d).stackGroup,B=Gt.Path(b).stackGroup,k=n.parallelChain().ease(x).duration(g).loop(m).direction(v);y.arrayStack=[],w.length>1&&(w=w.sort(function(t,e){return e.segmentLength-t.segmentLength})),B.length>1&&(B=B.sort(function(t,e){return e.segmentLength-t.segmentLength}));var A=w.length>B.length?w.length:B.length;d(e(w[0]),e(B[0]));for(var S=1;S<A;S+=1)w[S]&&d(e(w[S]),[{type:"M",p0:w[S][0].p0}]),B[S]&&d([{type:"M",p0:B[S][0].p0}],e(B[S]));k.duration(g).commit()},gt=function(t){var e=this,r=t.duration,i=t.ease,o=t.end,a=t.loop,s=t.direction,c=t.d,l=c||e.attr.d,u=0;if(e.arrayStack=[],!l)throw Error("Path Not defined");for(var f=n.sequenceChain(),p=h.isTypePath(l)?l:Gt.Path(l),d=p.stackGroup.reduce(function(t,e){return t=t.concat(e)},[]),y=[],g=0;g<d.length;g+=1)!function(t){if("Z"===d[t].type)y.push({run:function(t){p.stack.splice(this.id,p.stack.length-1-e.id),p.stack[this.id]=this.render.execute(t),e.setAttr("d",p)},id:t,render:new vt(d[t].p0,d[0].p0,d[t].segmentLength),length:d[t].length}),u+=0;else if(-1!==["V","H","L"].indexOf(d[t].type))y.push({run:function(t){p.stack.splice(this.id,p.stack.length-1-e.id),p.stack[this.id]=this.render.execute(t),e.setAttr("d",p)},id:t,render:new vt(d[t].p0,d[t].p1,d[t].length),length:d[t].length}),u+=d[t].length;else if("Q"===d[t].type)y.push({run:function(t){p.stack.splice(this.id,p.stack.length-1-e.id),p.stack[this.id]=this.render.execute(t),e.setAttr("d",p)},id:t,render:new mt(d[t].p0,d[t].cntrl1,d[t].p1,d[t].length),length:d[t].length}),u+=d[t].length;else if("C"===d[t].type||"S"===d[t].type){var r=$.cubicBezierCoefficients(d[t]);y.push({run:function(t){p.stack.splice(this.id,p.stack.length-1-e.id),p.stack[this.id]=this.render.execute(t),e.setAttr("d",p)},id:t,co:r,render:new xt(d[t].p0,d[t].cntrl1,d[t].cntrl2,r,d[t].length),length:d[t].length}),u+=d[t].length}else"M"===d[t].type&&(y.push({run:function(){p.stack.splice(this.id,p.stack.length-1-e.id),p.stack[this.id]={type:"M",p0:d[t].p0,length:0,pointAt:function(t){return this.p0}}},id:t,length:0}),u+=0)}(g);return y.forEach(function(t){t.duration=t.length/u*r}),f.duration(r).add(y).ease(i).loop(a||0).direction(s||"default"),"function"==typeof o&&f.end(o.bind(e)),f.commit(),this},xt=function(t,e,r,n,i){this.type="C",this.p0=t,this.c1_src=e,this.c2_src=r,this.co=n,this.length_src=i};xt.prototype.execute=function(t){var e=this.co,r=this.p0,n=this.c1_src,i=this.c2_src,o={x:r.x+(n.x-r.x)*t,y:r.y+(n.y-r.y)*t},a={x:n.x+(i.x-n.x)*t,y:n.y+(i.y-n.y)*t};return this.cntrl1=o,this.cntrl2={x:o.x+(a.x-o.x)*t,y:o.y+(a.y-o.y)*t},this.p1={x:e.ax*$.pow(t,3)+e.bx*$.pow(t,2)+e.cx*t+r.x,y:e.ay*$.pow(t,3)+e.by*$.pow(t,2)+e.cy*t+r.y},this.length=this.length_src*t,this},xt.prototype.pointAt=function(t){return $.cubicBezierTransition(this.p0,this.co,t)};var mt=function(t,e,r,n,i){this.type="Q",this.p0=t,this.p1_src=e,this.p2_src=r,this.length_src=n,this.length=0};mt.prototype.execute=function(t){var e=this.p0,r=this.p1_src,n=this.p2_src;return this.length=this.length_src*t,this.cntrl1={x:e.x+(r.x-e.x)*t,y:e.y+(r.y-e.y)*t},this.cntrl2=this.cntrl1,this.p1={x:(e.x-2*r.x+n.x)*t*t+(2*r.x-2*e.x)*t+e.x,y:(e.y-2*r.y+n.y)*t*t+(2*r.y-2*e.y)*t+e.y},this},mt.prototype.pointAt=function(t){return $.bezierTransition(this.p0,this.cntrl1,this.p1,t)};var vt=function(t,e,r,n){this.type="L",this.p0=t,this.p1=t,this.p2_src=e,this.length_src=r,this.length=0};vt.prototype.execute=function(t){var e=this.p0,r=this.p2_src;return this.p1={x:e.x+(r.x-e.x)*t,y:e.y+(r.y-e.y)*t},this.length=this.length_src*t,this},vt.prototype.pointAt=function(t){return $.linearTransitionBetweenPoints(this.p0,this.p1,t)},E.prototype.exe=function(){return"url(#"+this.config.id+")"},E.prototype.linearGradient=function(){var t=this;return this.defs||(this.defs=this.pDom.createEl({el:"defs"})),this.linearEl=this.defs.join([1],"linearGradient",{action:{enter:function(e){this.createEls(e.linearGradient,{el:"linearGradient"}).setAttr({id:t.config.id,x1:t.config.x1+"%",y1:t.config.y1+"%",x2:t.config.x2+"%",y2:t.config.y2+"%"})},exit:function(t){t.linearGradient.remove()},update:function(e){e.linearGradient.setAttr({id:t.config.id,x1:t.config.x1+"%",y1:t.config.y1+"%",x2:t.config.x2+"%",y2:t.config.y2+"%"})}}}),this.linearEl=this.linearEl.fetchEl("linearGradient"),this.linearEl.fetchEls("stop").remove(),this.linearEl.createEls(this.config.colorStops,{el:"stop",attr:{offset:function(t,e){return t.value+"%"},"stop-color":function(t,e){return t.color}}}),this},E.prototype.radialGradient=function(){var t=this;return this.defs||(this.defs=this.pDom.createEl({el:"defs"})),this.radialEl=this.defs.join([1],"radialGradient",{action:{enter:function(e){this.createEls(e.radialGradient,{el:"radialGradient"}).setAttr({id:t.config.id,cx:t.config.innerCircle.x+"%",cy:t.config.innerCircle.y+"%",r:t.config.outerCircle.r+"%",fx:t.config.outerCircle.x+"%",fy:t.config.outerCircle.y+"%"})},exit:function(t){t.radialGradient.remove()},update:function(e){e.radialGradient.setAttr({id:t.config.id,cx:t.config.innerCircle.x+"%",cy:t.config.innerCircle.y+"%",r:t.config.outerCircle.r+"%",fx:t.config.outerCircle.x+"%",fy:t.config.outerCircle.y+"%"})}}}),this.radialEl=this.radialEl.fetchEl("radialGradient"),this.radialEl.fetchEls("stop").remove(),this.radialEl.createEls(this.config.colorStops,{el:"stop",attr:{offset:function(t,e){return t.value+"%"},"stop-color":function(t,e){return t.color}}}),this},E.prototype.colorStops=function(t){return"[object Array]"===Object.prototype.toString.call(t)&&(this.config.colorStops=t,"linear"===this.type?this.linearGradient():"radial"===this.type&&this.radialGradient())};var bt={svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},wt=function(t){return document.createElementNS(bt.svg,t)},Bt=function(t,e,r,n){this.dom=t,this.nodeName=t.nodeName,this.attr=e.attr?e.attr:{},this.changedAttribute=this.attr,this.style=e.style?e.style:{},this.changedStyles=this.style,this.id=r,this.nodeType="svg",this.dom.nodeId=r,this.attrChanged=!0,this.styleChanged=!0,this.children=[],this.vDomIndex=n};Bt.prototype.node=function(){return this.execute(),this.dom};var kt=void 0,At=void 0,St=void 0,Ct=void 0;Bt.prototype.transFormAttributes=function(){var t=this;At=Object.keys(t.changedAttribute);for(var e=0,r=At.length;e<r;e+=1){var n=At[e];if("transform"!==n){var i=n.indexOf(":");i>=0?t.dom.setAttributeNS(bt[n.slice(0,i)],n.slice(i+1),this.changedAttribute[n]):t.dom.setAttribute(n,this.changedAttribute[n])}}if(this.changedAttribute.transform){var o="";St=Object.keys(this.attr.transform);for(var a=0;a<St.length;a+=1)Ct=St[a],o+="rotate"===Ct?Ct+"("+this.attr.transform[Ct].join(" ")+") ":"translate"===Ct?"translate("+this.attr.transform[Ct].join(" ")+") ":Ct+"("+this.attr.transform[Ct].join(" ")+") ";this.dom.setAttribute("transform",o)}this.changedAttribute={},kt=Object.keys(this.changedStyles);for(var s=0,h=kt.length;s<h;s+=1)this.changedStyles[kt[s]]instanceof E&&(this.changedStyles[kt[s]]=this.changedStyles[kt[s]].exe()),this.dom.style.setProperty(kt[s],this.changedStyles[kt[s]],"");this.changedStyles={}},Bt.prototype.scale=function(t){return this.attr.transform||(this.attr.transform={}),this.attr.transform.scale=t,this.changedAttribute.transform?this.changedAttribute.transform.scale=t:(this.changedAttribute.transform={},this.changedAttribute.transform.scale=t),K.vDomChanged(this.vDomIndex),this},Bt.prototype.skewX=function(t){return this.attr.transform||(this.attr.transform={}),this.attr.transform.skewX=[t],this.changedAttribute.transform?this.changedAttribute.transform.skewX=[t]:(this.changedAttribute.transform={},this.changedAttribute.transform.skewX=[t]),K.vDomChanged(this.vDomIndex),this},Bt.prototype.skewY=function(t){return this.attr.transform||(this.attr.transform={}),this.attr.transform.skewY=[t],this.changedAttribute.transform?this.changedAttribute.transform.skewY=[t]:(this.changedAttribute.transform={},this.changedAttribute.transform.skewY=[t]),K.vDomChanged(this.vDomIndex),this},Bt.prototype.translate=function(t){return this.attr.transform||(this.attr.transform={}),this.attr.transform.translate=t,this.changedAttribute.transform?this.changedAttribute.transform.translate=t:(this.changedAttribute.transform={},this.changedAttribute.transform.translate=t),K.vDomChanged(this.vDomIndex),this},Bt.prototype.rotate=function(t,e,r){return this.attr.transform||(this.attr.transform={}),this.attr.transform.rotate=[t%360,e||0,r||0],this.changedAttribute.transform?this.changedAttribute.transform.rotate=this.attr.transform.rotate:(this.changedAttribute.transform={},this.changedAttribute.transform.rotate=this.attr.transform.rotate),K.vDomChanged(this.vDomIndex),this},Bt.prototype.setStyle=function(t,e){if(2===arguments.length)"function"==typeof e&&(e=e.call(this,this.dataObj)),this.style[t]=e,this.changedStyles[t]=e;else if(1===arguments.length&&"object"===(void 0===t?"undefined":a(t)))for(var r=Object.keys(t),n=0,i=r.length;n<i;n+=1){var o=r[n];this.style[o]=t[o],this.changedStyles[o]=t[o]}return this.styleChanged=!0,K.vDomChanged(this.vDomIndex),this},Bt.prototype.setAttr=function(t,e){if(2===arguments.length)this.attr[t]=e,this.changedAttribute[t]=e;else if(1===arguments.length&&"object"===(void 0===t?"undefined":a(t)))for(var r=Object.keys(t),n=0,i=r.length;n<i;n+=1){var o=r[n];this.attr[o]=t[o],this.changedAttribute[o]=t[o]}return this.attrChanged=!0,K.vDomChanged(this.vDomIndex),this},Bt.prototype.getAttr=function(t){return this.attr[t]},Bt.prototype.execute=function(){if(this.styleChanged||this.attrChanged){this.transFormAttributes();for(var t=0,e=this.children.length;t<e;t+=1)this.children[t].execute()}else for(var r=0,n=this.children.length;r<n;r+=1)this.children[r].execute()},Bt.prototype.child=function(t){var e=this.dom,r=this;if(t instanceof _){for(var n=document.createDocumentFragment(),i=0,o=t.stack.length;i<o;i++)n.appendChild(t.stack[i].dom),t.stack[i].parentNode=r,this.children[this.children.length]=t.stack[i];e.appendChild(n)}else t instanceof Bt?(e.appendChild(t.dom),t.parentNode=r,this.children.push(t)):console.log("wrong node type");return this},Bt.prototype.fetchEl=p,Bt.prototype.fetchEls=f,Bt.prototype.animateTo=ct,Bt.prototype.animateExe=lt,Bt.prototype.animatePathTo=gt,Bt.prototype.morphTo=yt,Bt.prototype.createRadialGradient=function(t){var e=new E(t,"radial",this);return e.radialGradient(),e},Bt.prototype.createLinearGradient=function(t){var e=new E(t,"linear",this);return e.linearGradient(),e},Bt.prototype.join=j,Bt.prototype.on=function(t,e){var r=e.bind(this),n=this;return this.dom.addEventListener(t,function(t){r(n.dataObj,t)}),this},Bt.prototype.html=function(t){return arguments.length?(this.dom.innerHTML(t),this):this.dom.innerHTML},Bt.prototype.text=function(t){return arguments.length?(this.dom.textContent=t,this):this.dom.textContent},Bt.prototype.remove=function(){this.parentNode.removeChild(this)},Bt.prototype.createEls=function(t,e){var r=new _({type:"SVG"},t,e,this.vDomIndex);return this.child(r),K.vDomChanged(this.vDomIndex),r},Bt.prototype.createEl=function(t){var e=M(t,this.vDomIndex);return this.child(e),K.vDomChanged(this.vDomIndex),e},Bt.prototype.removeChild=function(t){var e=this.children,r=e.indexOf(t);-1!==r&&this.dom.removeChild(e.splice(r,1)[0].dom)},G.prototype.exe=function(t,e){return"linear"===this.type?this.linearGradient(t,e):"radial"===this.type?this.radialGradient(t,e):void console.Error("wrong Gradiant type")},G.prototype.linearGradient=function(t,e){var r=t.createLinearGradient(e.x+e.width*(this.config.x1/100),e.y+e.height*(this.config.y1/100),e.x+e.width*(this.config.x2/100),e.y+e.height*(this.config.y2/100));return this.config.colorStops.forEach(function(t){r.addColorStop(t.value/100,t.color)}),r},G.prototype.radialGradient=function(t,e){var r=t.createRadialGradient(e.x+e.width*(this.config.innerCircle.x/100),e.y+e.height*(this.config.innerCircle.y/100),e.width>e.height?e.width*this.config.innerCircle.r/100:e.height*this.config.innerCircle.r/100,e.x+e.width*(this.config.outerCircle.x/100),e.y+e.height*(this.config.outerCircle.y/100),e.width>e.height?e.width*this.config.outerCircle.r/100:e.height*this.config.outerCircle.r/100);return this.config.colorStops.forEach(function(t){r.addColorStop(t.value/100,t.color)}),r},G.prototype.colorStops=function(t){return"[object Array]"===Object.prototype.toString.call(t)&&(this.config.colorStops=t,this)},q.prototype.get=function(t){var e=(t.y-1)*(4*this.width)+4*(t.x-1);return"rgba("+this.pixels[e]+", "+this.pixels[e+1]+", "+this.pixels[e+2]+", "+this.pixels[e+3]+")"},q.prototype.put=function(t,e){var r=(e.y-1)*(4*this.width)+4*(e.x-1);return this.pixels[r]=t[0],this.pixels[r+1]=t[1],this.pixels[r+2]=t[2],this.pixels[r+3]=t[3],this},z.prototype={},z.prototype.setAttr=function(t,e){},z.prototype.execute=function(){},Y.prototype={render:L,on:S,setAttr:T,setStyle:I,applyStyles:R};var Ot={};X.prototype=new Y,X.prototype.constructor=X,X.prototype.setAttr=function(t,e){var r=this;if(this.attr[t]=e,"src"===t&&(this.image.src=e),"clip"===t){this.rImageObj||(this.rImageObj=V(r.attr.width,r.attr.height));var n=this.rImageObj.getContext("2d"),i=this.attr,o=i.clip,a=i.width,s=i.height,h=o.sx,c=o.sy,l=o.swidth,u=o.sheight;h=void 0!==h?h:0,c=void 0!==c?c:0,l=void 0!==l?l:a,u=void 0!==u?u:s,n.clearRect(0,0,a,s),this.imageObj&&n.drawImage(this.imageObj,h,c,l,u,0,0,a,s)}if(r.attr.pixels){var f=void 0;f=r.rImageObj.getContext("2d"),f.putImageData(H.call(r,r.attr.pixels),0,0)}K.vDomChanged(this.nodeExe.vDomIndex)},X.prototype.updateBBox=function(){var t=this,e=0,r=0,n=1,i=1,a=t.attr.transform,s=t.attr,h=s.x,c=s.y,l=s.width,u=s.height;if(a){if(a.translate){var f=o(a.translate,2);e=f[0],r=f[1]}a.scale&&(n=void 0!==a.scale[0]?a.scale[0]:1,i=void 0!==a.scale[1]?a.scale[1]:n)}t.BBox={x:(e+h)*n,y:(r+c)*i,width:(l||0)*n,height:(u||0)*i},a&&a.rotate?t.BBoxHit=C(this.BBox,a.rotate[0]):t.BBoxHit=this.BBox},X.prototype.execute=function(){var t=this.attr,e=t.width,r=t.height,n=t.x,i=t.y;this.imageObj&&this.ctx.drawImage(this.rImageObj?this.rImageObj:this.imageObj,n||0,i||0,e,r)},X.prototype.applyStyles=function(){},X.prototype.in=function(t){return t.x>=this.attr.x&&t.x<=this.attr.x+this.attr.width&&t.y>=this.attr.y&&t.y<=this.attr.y+this.attr.height},W.prototype=new Y,W.prototype.constructor=W,W.prototype.text=function(t){this.textContent=t},W.prototype.updateBBox=function(){var t=this,e=0,r=0,n=1,i=1,a=1,s=t.attr.transform;if(s&&s.translate){var h=o(s.translate,2);e=h[0],r=h[1]}if(s&&s.scale){var c=o(s.scale,2);n=c[0],i=c[1]}this.style.font&&(this.ctx.font=this.style.font,a=parseInt(this.style.font,10)),t.BBox={x:e+t.attr.x*n,y:r+(t.attr.y-a+5)*i,width:this.ctx.measureText(this.textContent).width*n,height:a*i},s&&s.rotate?t.BBoxHit=C(this.BBox,s.rotate[0]):t.BBoxHit=this.BBox},W.prototype.execute=function(){void 0!==this.textContent&&null!==this.textContent&&(this.style.fillStyle&&this.ctx.fillText(this.textContent,this.attr.x,this.attr.y),this.style.strokeStyle&&this.ctx.strokeText(this.textContent,this.attr.x,this.attr.y))},W.prototype.applyStyles=function(){},W.prototype.in=function(t){return t.x>=this.attr.x&&t.x<=this.attr.x+this.attr.width&&t.y>=this.attr.y&&t.y<=this.attr.y+this.attr.height};var jt=function(t,e,r){var n=this;n.ctx=t,n.attr=e,n.style=r,n.nodeName="circle",n.stack=[n]};jt.prototype=new Y,jt.prototype.constructor=jt,jt.prototype.updateBBox=function(){var t=this,e=0,r=0,n=1,i=1,a=t.attr.transform;if(a){if(a.translate){var s=o(a.translate,2);e=s[0],r=s[1]}if(a.scale){var h=o(a.scale,2);n=h[0],i=h[1]}}t.BBox={x:(e+(t.attr.cx-t.attr.r))*n,y:(r+(t.attr.cy-t.attr.r))*i,width:2*t.attr.r*n,height:2*t.attr.r*i},a&&a.rotate?t.BBoxHit=C(this.BBox,a.rotate[0]):t.BBoxHit=this.BBox},jt.prototype.execute=function(){this.ctx.beginPath(),this.ctx.arc(this.attr.cx,this.attr.cy,this.attr.r,0,2*Math.PI,!1),this.applyStyles(),this.ctx.closePath()},jt.prototype.in=function(t){return Math.sqrt((t.x-this.attr.cx)*(t.x-this.attr.cx)+(t.y-this.attr.cy)*(t.y-this.attr.cy))<=this.attr.r};var Pt=function(t,e,r){var n=this;n.ctx=t,n.attr=e,n.style=r,n.nodeName="line",n.stack=[n]};Pt.prototype=new Y,Pt.prototype.constructor=Pt,Pt.prototype.updateBBox=function(){var t=this,e=0,r=0,n=1,i=1,a=t.attr.transform;if(a&&a.translate){var s=o(a.translate,2);e=s[0],r=s[1]}if(a&&a.scale){var h=o(a.scale,2);n=h[0],i=h[1]}t.BBox={x:e+(t.attr.x1<t.attr.x2?t.attr.x1:t.attr.x2)*n,y:r+(t.attr.y1<t.attr.y2?t.attr.y1:t.attr.y2)*i,width:Math.abs(t.attr.x2-t.attr.x1)*n,height:Math.abs(t.attr.y2-t.attr.y1)*i},a&&a.rotate?t.BBoxHit=C(this.BBox,a.rotate[0]):t.BBoxHit=this.BBox},Pt.prototype.execute=function(){var t=this.ctx;t.beginPath(),t.moveTo(this.attr.x1,this.attr.y1),t.lineTo(this.attr.x2,this.attr.y2),this.applyStyles(),t.closePath()},Pt.prototype.in=function(t){return parseFloat($.getDistance({x:this.attr.x1,y:this.attr.y1},t)+$.getDistance(t,{x:this.attr.x2,y:this.attr.y2})).toFixed(1)===parseFloat($.getDistance({x:this.attr.x1,y:this.attr.y1},{x:this.attr.x2,y:this.attr.y2})).toFixed(1)};var Dt=function(t,e,r){var n=this;return n.ctx=t,n.angle=0,n.nodeName="path",n.attr=e,n.style=r,n.attr.d&&(h.isTypePath(n.attr.d)?(n.path=n.attr.d,n.attr.d=n.attr.d.fetchPathString()):n.path=Gt.Path(n.attr.d),n.pathNode=new Path2D(n.attr.d)),n.stack=[n],n};Dt.prototype=new Y,Dt.prototype.constructor=Dt,Dt.prototype.updateBBox=function(){var t=this,e=0,r=0,n=1,i=1,a=t.attr.transform;if(a&&a.translate){var s=o(a.translate,2);e=s[0],r=s[1]}if(a&&a.scale){var h=o(a.scale,2);n=h[0],i=h[1]}t.BBox=t.path?$.getBBox(t.path.stack):{x:0,y:0,width:0,height:0},t.BBox.x=e+t.BBox.x*n,t.BBox.y=r+t.BBox.y*i,t.BBox.width*=n,t.BBox.height*=i,a&&a.rotate?t.BBoxHit=C(this.BBox,a.rotate[0]):t.BBoxHit=this.BBox},Dt.prototype.setAttr=function(t,e){this.attr[t]=e,"d"===t&&(h.isTypePath(e)?(this.path=e,this.attr.d=e.fetchPathString()):this.path=Gt.Path(this.attr.d),this.pathNode=new Path2D(this.attr.d))},Dt.prototype.getPointAtLength=function(t){return this.path?this.path.getPointAtLength(t):{x:0,y:0}},Dt.prototype.getAngleAtLength=function(t){return this.path?this.path.getAngleAtLength(t):0},Dt.prototype.getTotalLength=function(){return this.path?this.path.getTotalLength():0},Dt.prototype.execute=function(){this.attr.d&&(this.style.fillStyle&&this.ctx.fill(this.pathNode),this.style.strokeStyle&&this.ctx.stroke(this.pathNode))},Dt.prototype.applyStyles=function(){},Dt.prototype.in=function(t){var e=!1;return this.attr.d?(this.ctx.save(),this.ctx.scale(1/rt,1/rt),e=this.style.fillStyle?this.ctx.isPointInPath(this.pathNode,t.x,t.y):e,this.ctx.restore(),e):e};var Et=function(t,e,r){var n=this;return n.ctx=t,n.nodeName="polygon",n.attr=e,n.style=r,n.stack=[n],e.points&&(n.polygon=Q(n.attr.points)),this};Et.prototype=new Y,Et.prototype.constructor=Et,Et.prototype.setAttr=function(t,e){this.attr[t]=e,"points"===t&&(this.polygon=Q(this.attr[t]))},Et.prototype.updateBBox=function(){var t=this,e=0,r=0,n=1,i=1,a=t.attr.transform;if(t.polygon&&t.polygon.points.length>0){var s=t.polygon.points;if(a&&a.translate){var h=o(a.translate,2);e=h[0],r=h[1]}if(a&&a.scale){var c=o(a.scale,2);n=c[0],i=c[1]}for(var l=s[0].x,u=s[0].x,f=s[0].y,p=s[0].y,d=1;d<s.length;d+=1)l>s[d].x&&(l=s[d].x),u<s[d].x&&(u=s[d].x),f>s[d].y&&(f=s[d].y),p<s[d].y&&(p=s[d].y);t.BBox={x:e+l*n,y:r+f*i,width:(u-l)*n,height:(p-f)*i}}else t.BBox={x:0,y:0,width:0,height:0};a&&a.rotate?t.BBoxHit=C(this.BBox,a.rotate[0]):t.BBoxHit=this.BBox},Et.prototype.execute=function(){this.attr.points&&(this.style.fillStyle&&this.ctx.fill(this.polygon.path),this.style.strokeStyle&&this.ctx.stroke(this.polygon.path))},Et.prototype.applyStyles=function(){},Et.prototype.in=function(t){var e=!1;return this.attr.points?(this.ctx.save(),this.ctx.scale(1/rt,1/rt),e=this.style.fillStyle?this.ctx.isPointInPath(this.polygon.path,t.x,t.y):e,this.ctx.restore(),e):e};var Mt=function(t,e,r){var n=this;return n.ctx=t,n.nodeName="ellipse",n.attr=e,n.style=r,n.stack=[n],this};Mt.prototype=new Y,Mt.prototype.constructor=Mt,Mt.prototype.updateBBox=function(){var t=this,e=0,r=0,n=1,i=1,a=t.attr.transform;if(a&&a.translate){var s=o(a.translate,2);e=s[0],r=s[1]}if(a&&a.scale){var h=o(a.scale,2);n=h[0],i=h[1]}t.BBox={x:e+(t.attr.cx-t.attr.rx)*n,y:r+(t.attr.cy-t.attr.ry)*i,width:2*t.attr.rx*n,height:2*t.attr.ry*i},a&&a.rotate?t.BBoxHit=C(this.BBox,a.rotate[0]):t.BBoxHit=this.BBox},Mt.prototype.execute=function(){var t=this.ctx;t.beginPath(),t.moveTo(this.attr.cx,this.attr.cy-this.attr.ry),t.bezierCurveTo(this.attr.cx+this.attr.rx,this.attr.cy-this.attr.ry,this.attr.cx+this.attr.rx,this.attr.cy+this.attr.ry,this.attr.cx,this.attr.cy+this.attr.ry),t.bezierCurveTo(this.attr.cx-this.attr.rx,this.attr.cy+this.attr.ry,this.attr.cx-this.attr.rx,this.attr.cy-this.attr.ry,this.attr.cx,this.attr.cy-this.attr.ry),this.applyStyles(),t.closePath()},Mt.prototype.in=function(t){var e=this.attr,r=e.cx,n=e.cy,i=e.rx,o=e.ry;return(t.x-r)*(t.x-r)/(i*i)+(t.y-n)*(t.y-n)/(o*o)<=1};var Lt=function(t,e,r){var n=this;return n.ctx=t,n.nodeName="rect",n.attr=e,n.style=r,n.stack=[n],this};Lt.prototype=new Y,Lt.prototype.constructor=Lt,Lt.prototype.updateBBox=function(){var t=this,e=0,r=0,n=1,i=1,a=t.attr.transform;if(a&&a.translate){var s=o(a.translate,2);e=s[0],r=s[1]}if(a&&a.scale){var h=o(a.scale,2);n=h[0],i=h[1]}t.BBox={x:e+t.attr.x*n,y:r+t.attr.y*i,width:t.attr.width*n,height:t.attr.height*i},a&&a.rotate?t.BBoxHit=C(this.BBox,a.rotate[0]):t.BBoxHit=this.BBox},Lt.prototype.applyStyles=function(){},Lt.prototype.execute=function(){var t=this.ctx;this.style.fillStyle&&t.fillRect(this.attr.x,this.attr.y,this.attr.width,this.attr.height),this.style.strokeStyle&&t.strokeRect(this.attr.x,this.attr.y,this.attr.width,this.attr.height)},Lt.prototype.in=function(t){var e=this.attr,r=e.x,n=e.y,i=e.width,o=e.height;return t.x>=r&&t.x<=r+i&&t.y>=n&&t.y<=n+o};var Tt=function(t,e,r){var n=this;return n.nodeName="group",n.ctx=t,n.attr=e,n.style=r,n.stack=new Array(0),this};Tt.prototype=new Y,Tt.prototype.constructor=Tt,Tt.prototype.updateBBox=function(t){var e=this,r=void 0,n=void 0,i=void 0,o=void 0,a=0,s=0,h=1,c=1,l=e.attr.transform;if(e.BBox={},l&&l.translate&&(a=void 0!==l.translate[0]?l.translate[0]:0,s=void 0!==l.translate[1]?l.translate[1]:a),l&&e.attr.transform.scale&&"rootNode"!==e.attr.id&&(h=void 0!==l.scale[0]?l.scale[0]:1,c=void 0!==l.scale[1]?l.scale[1]:h),t&&t.length>0)for(var u=void 0,f=void 0,p=void 0,d=0;d<t.length;d+=1)u=t[d],f=u.dom.BBoxHit.x,p=u.dom.BBoxHit.y,r=void 0===r?f:r>f?f:r,i=void 0===i?p:i>p?p:i,n=void 0===n?f+u.dom.BBoxHit.width:n<f+u.dom.BBoxHit.width?f+u.dom.BBoxHit.width:n,o=void 0===o?p+u.dom.BBoxHit.height:o<p+u.dom.BBoxHit.height?p+u.dom.BBoxHit.height:o;r=void 0===r?0:r,i=void 0===i?0:i,n=void 0===n?0:n,o=void 0===o?0:o,e.BBox.x=a+r*h,e.BBox.y=s+i*c,e.BBox.width=Math.abs(n-r)*h,e.BBox.height=Math.abs(o-i)*c,e.attr.transform&&e.attr.transform.rotate?e.BBoxHit=C(this.BBox,this.attr.transform.rotate[0]):e.BBoxHit=this.BBox},Tt.prototype.child=function(t){var e=this,r=t;r instanceof It?(r.dom.parent=e,e.stack[e.stack.length]=r):r instanceof _?r.stack.forEach(function(t){t.dom.parent=e,e.stack[e.stack.length]=t}):console.log("wrong Object")},Tt.prototype.in=function(t){var e=this,r={x:t.x,y:t.y},n=this.BBox,i=e.attr.transform,a=0,s=0,h=1,c=1;if(i&&i.translate){var l=o(i.translate,2);a=l[0],s=l[1]}return i&&i.scale&&(h=void 0!==i.scale[0]?i.scale[0]:1,c=void 0!==i.scale[1]?i.scale[1]:h),r.x>=(n.x-a)/h&&r.x<=(n.x-a+n.width)/h&&r.y>=(n.y-s)/c&&r.y<=(n.y-s+n.height)/c};var It=function(t,e,r,n){switch(this.style=e.style?e.style:{},this.attr=e.attr?e.attr:{},this.id=r,this.nodeName=e.el,this.nodeType="CANVAS",this.children=[],this.ctx=t,this.vDomIndex=n,e.el){case"circle":this.dom=new jt(this.ctx,this.attr,this.style);break;case"rect":this.dom=new Lt(this.ctx,this.attr,this.style);break;case"line":this.dom=new Pt(this.ctx,this.attr,this.style);break;case"path":this.dom=new Dt(this.ctx,this.attr,this.style);break;case"group":this.dom=new Tt(this.ctx,this.attr,this.style);break;case"text":this.dom=new W(this.ctx,this.attr,this.style);break;case"image":this.dom=new X(this.ctx,this.attr,this.style,e.onload,e.onerror,this);break;case"polygon":this.dom=new Et(this.ctx,this.attr,this.style,this);break;case"ellipse":this.dom=new Mt(this.ctx,this.attr,this.style,this);break;default:this.dom=null}this.dom.nodeExe=this,this.BBoxUpdate=!0};It.prototype.node=function(){return this.updateBBox(),this.dom},It.prototype.stylesExe=function(){for(var t=Object.keys(this.style),e=void 0,r=0,n=t.length;r<n;r+=1)"function"==typeof this.style[t[r]]||this.style[t[r]]instanceof G?"function"==typeof this.style[t[r]]?(this.style[t[r]]=this.style[t[r]].call(this,this.dataObj),e=this.style[t[r]]):this.style[t[r]]instanceof G?e=this.style[t[r]].exe(this.ctx,this.dom.BBox):console.log("unkonwn Style"):e=this.style[t[r]],"function"!=typeof this.ctx[t[r]]?this.ctx[t[r]]=e:"function"==typeof this.ctx[t[r]]?this.ctx[t[r]](e):console.log("junk comp")},It.prototype.remove=function(){var t=this.dom.parent.children,e=t.indexOf(this);-1!==e&&t.splice(e,1),this.BBoxUpdate=!0},It.prototype.attributesExe=function(){this.dom.render(this.attr)},It.prototype.setStyle=function(t,e){if(2===arguments.length)this.style[t]=e,this.dom.setStyle(t,e);else if(1===arguments.length&&"object"===(void 0===t?"undefined":a(t)))for(var r=Object.keys(t),n=0,i=r.length;n<i;n+=1)this.style[r[n]]=t[r[n]],this.dom.setStyle(r[n],t[r[n]]);return K.vDomChanged(this.vDomIndex),this},It.prototype.setAttr=function(t,e){if(2===arguments.length)this.attr[t]=e,this.dom.setAttr(t,e);else if(1===arguments.length&&"object"===(void 0===t?"undefined":a(t)))for(var r=Object.keys(t),n=0;n<r.length;n+=1)this.attr[r[n]]=t[r[n]],this.dom.setAttr(r[n],t[r[n]]);return this.BBoxUpdate=!0,K.vDomChanged(this.vDomIndex),this},It.prototype.getAttr=function(t){return this.attr[t]},It.prototype.rotate=function(t,e,r){return this.attr.transform||(this.attr.transform={}),this.attr.transform.rotate=t,this.attr.transform.cx=e,this.attr.transform.cy=r,this.dom.setAttr("transform",this.attr.transform),this.BBoxUpdate=!0,K.vDomChanged(this.vDomIndex),this},It.prototype.scale=function(t){return this.attr.transform||(this.attr.transform={}),t.length<1?null:(this.attr.transform.scale=[t[0],t[1]?t[1]:t[0]],this.dom.setAttr("transform",this.attr.transform),this.BBoxUpdate=!0,K.vDomChanged(this.vDomIndex),this)},It.prototype.translate=function(t){return this.attr.transform||(this.attr.transform={}),this.attr.transform.translate=t,this.dom.setAttr("transform",this.attr.transform),this.BBoxUpdate=!0,K.vDomChanged(this.vDomIndex),this},It.prototype.skewX=function(t){return this.attr.transform||(this.attr.transform={}),this.attr.transform.skewX=[t],this.dom.setAttr("transform",this.attr.transform),this.BBoxUpdate=!0,K.vDomChanged(this.vDomIndex),this},It.prototype.skewY=function(t){return this.attr.transform||(this.attr.transform={}),this.attr.transform.skewY=[t],this.dom.setAttr("transform",this.attr.transform),this.BBoxUpdate=!0,K.vDomChanged(this.vDomIndex),this},It.prototype.execute=function(){if(this.ctx.save(),this.stylesExe(),this.attributesExe(),this.dom instanceof Tt)for(var t=0,e=this.children.length;t<e;t+=1)this.children[t].execute();this.ctx.restore()},It.prototype.child=function(t){var e=this,r=t;if(e.dom instanceof Tt)for(var n=0;n<r.length;n+=1)r[n].dom.parent=e,e.children[e.children.length]=r[n];else console.log("Error");return this.BBoxUpdate=!0,K.vDomChanged(this.vDomIndex),e},It.prototype.fetchEl=p,It.prototype.fetchEls=f,It.prototype.updateBBox=function(){for(var t=void 0,e=0,r=this.children.length;e<r;e+=1)t=this.children[e].updateBBox()||t;return!(!this.BBoxUpdate&&!t)&&(this.dom.updateBBox(this.children),this.BBoxUpdate=!1,!0)},It.prototype.in=function(t){return this.dom.in(t)},It.prototype.on=function(t,e){return this.dom.on(t,e),this},It.prototype.animateTo=ct,It.prototype.animateExe=lt,It.prototype.animatePathTo=gt,It.prototype.morphTo=yt,It.prototype.vDomIndex=null,It.prototype.join=j,It.prototype.createRadialGradient=N,It.prototype.createLinearGradient=F,It.prototype.createPattern=z,It.prototype.createEls=function(t,e){var r=new _({type:"CANVAS",ctx:this.dom.ctx},t,e,this.vDomIndex);return this.child(r.stack),K.vDomChanged(this.vDomIndex),r},It.prototype.text=function(t){return this.dom instanceof W&&this.dom.text(t),K.vDomChanged(this.vDomIndex),this},It.prototype.createEl=function(t){var e=new It(this.dom.ctx,t,c(),this.vDomIndex);return this.child([e]),K.vDomChanged(this.vDomIndex),e},It.prototype.removeChild=function(t){var e=-1;if(this.children.forEach(function(r,n){r===t&&(e=n)}),-1!==e){var r=this.children.splice(e,1)[0];this.dom.removeChild(r.dom)}K.vDomChanged(this.vDomIndex)},_.prototype={createEls:g,createEl:y,forEach:x,setAttr:m,fetchEls:u,setStyle:v,translate:b,rotate:w,scale:B,animateTo:ut,animateExe:ft,animatePathTo:pt,remove:A,text:dt,join:d,on:k},_.prototype.wrapper=function(t){var e=this;if(t)for(var r=0,n=t.length;r<n;r++){var i=t[r];i instanceof Bt||i instanceof It||i instanceof _?e.stack.push(i):e.stack.push(new Bt(i,{},c()))}return this};var Gt={},Ft={dragStart:function(t){return"function"==typeof t&&(this.onDragStart=t),this},drag:function(t){return"function"==typeof t&&(this.onDrag=t),this},dragEnd:function(t){return"function"==typeof t&&(this.onDragEnd=t),this}};return Gt.dragEvent=function(){return Object.create(Ft)},Gt.CanvasLayer=function(t,e){function r(){console.log("resize called"),y.resize()}var n=void 0,o=void 0,a=document.querySelector(t),s=e.height?e.height:a.clientHeight,h=e.width?e.width:a.clientWidth,l=document.createElement("canvas"),u=l.getContext("2d");rt=U(u),n=rt;var f="clear"!==e.onClear&&e.onClear?e.onClear:function(t){t.clearRect(0,0,h*rt,s*rt)};l.setAttribute("height",s*rt),l.setAttribute("width",h*rt),l.style.height=s+"px",l.style.width=h+"px",l.style.position="absolute",a.appendChild(l);var p=new i,d=K.addVdom(p),y=new It(u,{el:"group",attr:{id:"rootNode"}},c(),d),g=y.execute.bind(y);return y.container=a,y.domEl=l,y.height=s,y.width=h,y.execute=function(){this.dom.BBoxHit?(this.dom.BBoxHit.width=this.width*n,this.dom.BBoxHit.height=this.height*n):this.dom.BBoxHit={x:0,y:0,width:h*n,height:s*n},f(u),u.setTransform(rt,0,0,rt,0,0),y.updateBBox(),g()},y.resize=function(){var t=this.container.clientWidth,r=this.container.clientHeight;if(this.domEl.setAttribute("height",r*n),this.domEl.setAttribute("width",t*n),this.domEl.style.height=r+"px",this.domEl.style.width=t+"px",this.height=r,this.width=t,e.rescale){var i=t/this.width,o=r/this.height;this.scale([i,o])}else this.execute()},window.addEventListener("resize",r),y.destroy=function(){window.removeEventListener("resize",r),l.remove(),K.removeVdom(p)},y.type="CANVAS",p.root(y),(e.events||void 0===e.events)&&(a.addEventListener("mousemove",function(t){if(t.preventDefault(),o&&o.dom.drag&&o.dom.drag.dragStartFlag&&o.dom.drag.onDrag){var e=o.dom.drag.event;o.dom.drag.event&&(e.dx=t.offsetX-e.x,e.dy=t.offsetY-e.y),e.x=t.offsetX,e.y=t.offsetY,o.dom.drag.event=e,o.dom.drag.onDrag.call(o,o.dataObj,e)}else{var r=p.eventsCheck([y],{x:t.offsetX,y:t.offsetY});if(o&&r!==o&&((o.dom.mouseout||o.dom.mouseleave)&&o.hovered&&(o.dom.mouseout&&o.dom.mouseout.call(o,o.dataObj,t),o.dom.mouseleave&&o.dom.mouseleave.call(o,o.dataObj,t)),o.hovered=!1,o.dom.drag&&o.dom.drag.dragStartFlag&&(o.dom.drag.dragStartFlag=!1,o.dom.drag.onDragEnd.call(o,o.dataObj,t),o.dom.drag.event=null)),o&&r===o&&o.dom.drag&&o.dom.drag.dragStartFlag&&o.dom.drag.onDrag){var n=o.dom.drag.event;o.dom.drag.event&&(n.dx=t.offsetX-n.x,n.dy=t.offsetY-n.y),n.x=t.offsetX,n.y=t.offsetY,o.dom.drag.event=n,o.dom.drag.onDrag.call(o,o.dataObj,n)}r?(o=r,!o.dom.mouseover&&!o.dom.mouseenter||o.hovered||(o.dom.mouseover&&o.dom.mouseover.call(o,o.dataObj,t),o.dom.mouseenter&&o.dom.mouseenter.call(o,o.dataObj,t),o.hovered=!0),o.dom.mousemove&&o.dom.mousemove.call(o,o.dataObj,t)):o=void 0}}),a.addEventListener("click",function(t){console.log("click"),t.preventDefault(),o&&o.dom.click&&o.dom.click.call(o,o.dataObj,t)}),a.addEventListener("dblclick",function(t){o&&o.dom.dblclick&&o.dom.dblclick.call(o,o.dataObj,t)}),a.addEventListener("mousedown",function(t){if(console.log("down"),t.preventDefault(),o&&o.dom.mousedown&&(o.dom.mousedown.call(o,o.dataObj,t),o.down=!0),o&&o.dom.drag&&o.dom.drag.onDragStart){o.dom.drag.dragStartFlag=!0,o.dom.drag.onDragStart.call(o,o.dataObj,t);var e={};e.x=t.offsetX,e.y=t.offsetY,e.dx=0,e.dy=0,o.dom.drag.event=e}}),a.addEventListener("mouseup",function(t){t.preventDefault(),o&&o.dom.mouseup&&o.down&&(o.dom.mouseup.call(o,o.dataObj),o.down=!1),o&&o.dom.drag&&o.dom.drag.dragStartFlag&&o.dom.drag.onDragEnd&&(o.dom.drag.dragStartFlag=!1,o.dom.drag.event=null,o.dom.drag.onDragEnd.call(o,o.dataObj,t))}),a.addEventListener("mouseleave",function(t){t.preventDefault(),o&&o.dom.mouseleave&&o.dom.mouseleave.call(o,o.dataObj,t),o&&o.dom.onDragEnd&&o.dom.drag.dragStartFlag&&(o.dom.drag.dragStartFlag=!1,o.dom.drag.event=null,o.dom.drag.onDragEnd.call(o,o.dataObj,t))}),a.addEventListener("contextmenu",function(t){t.preventDefault(),o&&o.dom.contextmenu&&o.dom.contextmenu.call(o,o.dataObj)})),K.execute(),y},Gt.SVGLayer=function(t,e){function r(){console.log("resize called"),u.resize()}var n=new i,o=K.addVdom(n),a=document.querySelector(t),s=a.clientHeight,h=a.clientWidth,l=document.createElementNS(bt.svg,"svg");l.setAttribute("height",s),l.setAttribute("width",h),l.style.position="absolute",a.appendChild(l);var u=new Bt(l,{},c(),o);return u.container=a,u.type="SVG",u.width=h,u.height=s,n.root(u),u.resize=function(){var t=this.container.clientWidth,r=this.container.clientHeight,n=t/this.width,i=r/this.height;e&&e.rescale&&this.scale([n,i]),this.dom.setAttribute("height",r),this.dom.setAttribute("width",t)},window.addEventListener("resize",r),u.destroy=function(){window.removeEventListener("resize",r),l.remove(),K.removeVdom(n)},K.execute(),u},Z.prototype.point=function(){shaderRaw.points},Z.prototype.line=function(){},Z.prototype.rect=function(){},Z.prototype.circle=function(){},Gt.webglLayer=function(t,e){var r=document.querySelector(t),n=e.height?e.height:r.clientHeight,o=e.width?e.width:r.clientWidth,a=document.createElement("canvas"),s=a.getContext("webgl2");a.setAttribute("height",n*rt),a.setAttribute("width",o*rt),a.style.height=n+"px",a.style.width=o+"px",a.style.position="absolute",r.appendChild(a);var h=new i,l=K.addVdom(h),u=new Z(s,{el:"group",attr:{id:"rootNode"}},c(),l),f=u.execute.bind(u);return u.container=r,u.domEl=a,u.height=n,u.width=o,u.execute=function(){f()},u.destroy=function(){K.removeVdom(h)},u.type="CANVAS",h.root(u),e.resize&&window.addEventListener("resize",function(){u.resize()}),K.execute(),u},Gt.Path=h.instance,Gt.queue=K,Gt.geometry=$,Gt.chain=n,Gt})}).call(e,r(1)(t))}])});